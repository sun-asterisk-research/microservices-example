SET check_function_bodies = false;
INSERT INTO "stories" ("title", "hashid", "user_id", "status", "preview_image", "preview_content", "contents", "published_at", "created_at", "updated_at") VALUES
	('React Query Series - BÃ i 2 - Má»™t sá»‘ khÃ¡i niá»‡m cÆ¡ báº£n trong React Query', 'yZjJYzv0LOE', '1', 'unlisted', 'https://images.viblo.asia/733891bd-c101-45df-b751-574099070322.png', 'Má»™t sá»‘ khÃ¡i niá»‡m cÆ¡ báº£n trong React Query

ChÃ o cÃ¡c báº¡n Ä‘Ã£ trá»Ÿ láº¡i bÃ i 2 cá»§a mÃ¬nh vá» React Query. á» bÃ i nÃ y mÃ¬nh sáº½ nÃ³i sÆ¡ qua vá» má»™t sá»‘ khÃ¡i niá»‡m cÆ¡ báº£n cÃ³ trong React Query. MÃ¬nh tin sau khi Ä‘á»c háº¿t bÃ i viáº¿t nÃ y, cÃ¡c báº¡n sáº½ hiá»ƒu rÃµ hÆ¡n vá» cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» React Query vÃ  cÃ¡ch sá»­ dá»¥ng nÃ³ Ä‘á»ƒ quáº£n lÃ½ dá»¯ liá»‡u trong React.

React Query lÃ  má»™t thÆ° viá»‡n táº­p há»£p cho viá»‡c quáº£n lÃ½ tráº¡ng thÃ¡i vÃ  d...', '# Má»™t sá»‘ khÃ¡i niá»‡m cÆ¡ báº£n trong React Query

ChÃ o cÃ¡c báº¡n Ä‘Ã£ trá»Ÿ láº¡i bÃ i 2 cá»§a mÃ¬nh vá» React Query. á» bÃ i nÃ y mÃ¬nh sáº½ nÃ³i sÆ¡ qua vá» má»™t sá»‘ khÃ¡i niá»‡m cÆ¡ báº£n cÃ³ trong React Query. MÃ¬nh tin sau khi Ä‘á»c háº¿t bÃ i viáº¿t nÃ y, cÃ¡c báº¡n sáº½ hiá»ƒu rÃµ hÆ¡n vá» cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» React Query vÃ  cÃ¡ch sá»­ dá»¥ng nÃ³ Ä‘á»ƒ quáº£n lÃ½ dá»¯ liá»‡u trong React.

![image.png](https://images.viblo.asia/733891bd-c101-45df-b751-574099070322.png)

**React Query** lÃ  má»™t thÆ° viá»‡n táº­p há»£p cho viá»‡c quáº£n lÃ½ tráº¡ng thÃ¡i vÃ  dá»¯ liá»‡u trong React. NÃ³ cung cáº¥p cÃ¡c tÃ­nh nÄƒng vÃ  API Ä‘á»ƒ giÃºp cho viá»‡c láº¥y dá»¯ liá»‡u tá»« API, lÆ°u trá»¯ dá»¯ liá»‡u vÃ  quáº£n lÃ½ tráº¡ng thÃ¡i giá»¯a cÃ¡c component.

* **State Management:** React Query cung cáº¥p má»™t cÃ¡ch quáº£n lÃ½ tráº¡ng thÃ¡i cho dá»¯ liá»‡u trong app, bao gá»“m cáº£ viá»‡c quáº£n lÃ½ tráº¡ng thÃ¡i loading, error, vÃ  káº¿t quáº£ tráº£ vá».
* **Query:** LÃ  má»™t Ä‘á»‘i tÆ°á»£ng chá»©a cÃ¡c thÃ´ng tin liÃªn quan Ä‘áº¿n viá»‡c láº¥y dá»¯ liá»‡u vÃ  tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a viá»‡c láº¥y dá»¯ liá»‡u.
* **Query Cache:** LÃ  má»™t kho dá»¯ liá»‡u Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c Query. NÃ³ cung cáº¥p cÃ¡c tÃ­nh nÄƒng Ä‘á»ƒ truy cáº­p vÃ  quáº£n lÃ½ cÃ¡c Query.
* **Query Hooks:** LÃ  cÃ¡c hook cung cáº¥p cho viá»‡c sá»­ dá»¥ng Query trong React component. CÃ¡c hook nÃ y giÃºp cho viá»‡c láº¥y dá»¯ liá»‡u, cáº­p nháº­t tráº¡ng thÃ¡i vÃ  quáº£n lÃ½ lá»—i.
* **Query Key:** Query Key lÃ  má»™t chuá»—i dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh danh má»—i yÃªu cáº§u dá»¯ liá»‡u. NÃ³ giÃºp React Query tÃ¬m vÃ  quáº£n lÃ½ cÃ¡c yÃªu cáº§u trong Query Cache.
* **Refetching:** LÃ  viá»‡c tÃ¡i láº¥y dá»¯ liá»‡u má»™t cÃ¡ch tá»± Ä‘á»™ng hoáº·c báº±ng cÃ¡ch gá»i má»™t function.
* **Suspense:** LÃ  má»™t tÃ­nh nÄƒng cá»§a React Query cho phÃ©p viá»‡c hiá»ƒn thá»‹ ná»™i dung trong khi Ä‘ang chá» Ä‘á»£i dá»¯ liá»‡u.
* **Revalidation:**  Revalidation lÃ  viá»‡c kiá»ƒm tra xem dá»¯ liá»‡u trong Query Cache cÃ²n há»£p lá»‡ hay khÃ´ng. Náº¿u dá»¯ liá»‡u khÃ´ng há»£p lá»‡, React Query sáº½ gá»­i yÃªu cáº§u dá»¯ liá»‡u má»›i.

### VÃ­ Dá»¥

**VÃ­ dá»¥ 1**

 ChÃºng ta cÃ³ má»™t á»©ng dá»¥ng cáº§n táº£i danh sÃ¡ch sáº£n pháº©m tá»« API. ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng React Query Ä‘á»ƒ táº£i dá»¯ liá»‡u vÃ  quáº£n lÃ½ cache cá»§a dá»¯ liá»‡u Ä‘Ã³.

```
 import { useQuery } from ''react-query'';

function ProductList() {
  const { data, status } = useQuery(''products'', async () => {
    const response = await fetch(''https://api.example.com/products'');
    return response.json();
  });

  if (status === ''loading'') {
    return <div>Loading...</div>;
  }

  if (status === ''error'') {
    return <div>Error: {error.message}</div>;
  }

  return (
    <ul>
      {data.map((product) => (
        <li key={product.id}>{product.name}</li>
      ))}
    </ul>
  );
}
```


Trong vÃ­ dá»¥ trÃªn, chÃºng ta sá»­ dá»¥ng hook useQuery Ä‘á»ƒ táº£i dá»¯ liá»‡u sáº£n pháº©m tá»« API. Náº¿u dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c cache, nÃ³ sáº½ Ä‘Æ°á»£c tráº£ vá» tá»« cache mÃ  khÃ´ng cáº§n táº£i láº¡i. Náº¿u chÆ°a, nÃ³ sáº½ táº£i dá»¯ liá»‡u má»›i vÃ  cache dá»¯ liá»‡u Ä‘Ã³.

**VÃ­ dá»¥ 2**

Báº¡n cÃ³ má»™t máº£ng chá»©a cÃ¡c Ä‘á»‘i tÆ°á»£ng cá»§a nhÃ¢n viÃªn vá»›i thÃ´ng tin vá» tÃªn, trÃ¬nh Ä‘á»™ vÃ  lÆ°Æ¡ng. Báº¡n muá»‘n tÃ¬m táº¥t cáº£ nhá»¯ng nhÃ¢n viÃªn cÃ³ trÃ¬nh Ä‘á»™ "senior". Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng React Query Ä‘á»ƒ thá»±c hiá»‡n viá»‡c nÃ y.


```
import { useQuery } from ''react-query'';

function getSeniorEmployees() {
  return fetch(''/api/employees'')
    .then(res => res.json())
    .then(data => data.filter(employee => employee.level === ''senior''));
}

function EmployeesList() {
  const { isLoading, error, data } = useQuery(''seniorEmployees'', getSeniorEmployees);

  if (isLoading) return ''Loading...'';
  if (error) return ''An error has occurred'';

  return (
    <ul>
      {data.map(employee => (
        <li key={employee.name}>{employee.name}</li>
      ))}
    </ul>
  );
}
```

Trong vÃ­ dá»¥ trÃªn, chÃºng ta sá»­ dá»¥ng hÃ m useQuery Ä‘á»ƒ thá»±c hiá»‡n truy váº¥n cho dá»¯ liá»‡u nhÃ¢n viÃªn cÃ³ trÃ¬nh Ä‘á»™ "senior". ChÃºng ta sá»­ dá»¥ng hÃ m getSeniorEmployees Ä‘á»ƒ truy xuáº¥t dá»¯ liá»‡u tá»« API vÃ  lá»c cÃ¡c nhÃ¢n viÃªn cÃ³ trÃ¬nh Ä‘á»™ "senior".

# Káº¿t BÃ i

á» bÃ i nÃ y mÃ¬nh Ä‘Ã£ nÃ³i sÆ¡ qua nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n cá»§a React Query. á» bÃ i tá»›i mÃ¬nh sáº½ báº¯t Ä‘áº§u setup má»™t project nhá» vÃ  hÆ°á»›ng dáº«n tá»«ng hÃ m Ä‘á»ƒ giÃºp cÃ¡c báº¡n náº¯m rÃµ hÆ¡n vá» React Query. Cáº£m Æ¡n Ä‘Ã£ quan tÃ¢m vá» Series React Query.', '2023-02-12T19:44:11.000000Z', '2023-02-27T15:28:03.000000Z', '2023-02-12T20:44:34.000000Z'),
	('XÃ¢y dá»±ng Multi Container Spring Boot Apps vá»›i Docker Compose', '38X4E5X14N2', '2', 'unlisted', 'https://images.viblo.asia/33c0be67-ade2-4f85-9a96-e7cc25be2cbd.png', 'Khi cÃ¡c báº¡n Ä‘á»c bÃ i viáº¿t Deploy Spring Boot Application Development Docker Window 10 cháº¯c nhiá»u báº¡n sáº½ Ä‘áº·t cÃ¢u há»i: Náº¿u muá»‘n káº¿t ná»‘i vá»›i database thÃ¬ sáº½ nhÆ° tháº¿ nÃ o? Nhiá»u káº¿t ná»‘i ná»¯a thÃ¬ giáº£i quyáº¿t ra sao?... BÃ i viáº¿t nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n giáº£i quyáº¿t cÃ¡c tháº¯c máº¯c Ä‘Ã³ nhÃ©.

1. Chuáº©n bá»‹ project
Download source code
Hiá»ƒn thá»‹ cÃ¡c thÆ° má»¥c project, dÃ¹ng cÃ¢u lá»‡nh command "tree"

Xem qua thÆ° má»¥c .dock...', 'Khi cÃ¡c báº¡n Ä‘á»c bÃ i viáº¿t [Deploy Spring Boot Application Development Docker Window 10](https://viblo.asia/p/deploy-spring-boot-application-development-docker-window-10-3RlL5Aa6LbB) cháº¯c nhiá»u báº¡n sáº½ Ä‘áº·t cÃ¢u há»i: Náº¿u muá»‘n káº¿t ná»‘i vá»›i database thÃ¬ sáº½ nhÆ° tháº¿ nÃ o? Nhiá»u káº¿t ná»‘i ná»¯a thÃ¬ giáº£i quyáº¿t ra sao?... BÃ i viáº¿t nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n giáº£i quyáº¿t cÃ¡c tháº¯c máº¯c Ä‘Ã³ nhÃ©.

### 1. Chuáº©n bá»‹ project
Download [source code](https://gitlab.com/springbootdevops/spring-postgres.git)
Hiá»ƒn thá»‹ cÃ¡c thÆ° má»¥c project, dÃ¹ng cÃ¢u lá»‡nh command "**tree**"
![image.png](https://images.viblo.asia/7a34dabf-dd38-4444-a7d9-1e5aaf2577a6.png)

Xem qua thÆ° má»¥c **.docker -> docker-compose.yaml**
```
services:
  backend:
    build:
      context: backend
      target: dev-envs
    ports:
      - 8080:8080
    environment:
      - POSTGRES_DB=example
    networks:
      - spring-postgres
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
  db:
    image: postgres
    restart: always
    secrets:
      - db-password
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - spring-postgres
    environment:
      - POSTGRES_DB=example
      - POSTGRES_PASSWORD_FILE=/run/secrets/db-password
    expose:
      - 5432
volumes:
  db-data:
secrets:
  db-password:
    file: db/password.txt
networks:
  spring-postgres:
```
 Trong compose file cÃ³ 2 service: db vÃ  backend. Sá»­ dá»¥ng port 8080, trÃ¡nh sá»­ dá»¥ng port vá»›i cÃ¡c á»©ng dá»¥ng khÃ¡c, miá»…n lÃ m sao chÆ°a á»©ng dá»¥ng nÃ o dÃ¹ng port 8080. NgoÃ i ra, Ä‘á»‹nh nghÄ©a cÃ¡c biáº¿n mÃ´i trÆ°á»ng, connect backend service  vá»›i postgres database, Ä‘áº·t username  vÃ   password database
### 2. Cháº¡y  docker compose
Cháº¡y cÃ¢u lá»‡nh docker compost command: **docker compose up -d**

![image.png](https://images.viblo.asia/33c0be67-ade2-4f85-9a96-e7cc25be2cbd.png)

Tiáº¿p theo, vÃ o docker desktop -> Images, hiá»ƒn thá»‹ tÃªn Spring-postgres-backend vÃ  postgress
![image.png](https://images.viblo.asia/a1fa641f-e252-42be-91a3-c6a4d2fdc003.png)

Aplication run start, kiá»ƒm tra [http://localhost:8080/](http://localhost:8080/) hiá»ƒn thá»‹ thÃ´ng tin "Hello from Docker!"
![image.png](https://images.viblo.asia/51ca3bb0-41a5-48f3-8228-6658af551c74.png)

NhÆ° vÃ¢y, chÃºng ta Ä‘Ã£ xÃ¢y dá»±ng Ä‘Æ°á»£c nhiá»u á»©ng dá»¥ng cháº¡y trÃªn Docker Compose (backend service, postgres database ) trÃªn 1 cá»•ng.
### 3.  Dá»«ng vÃ  xÃ³a Containers
Khi cÃ³ quÃ¡ nhiá»u Containers cháº¡y cÃ¹ng 1 lÃºc, sáº½ áº£nh hÆ°á»Ÿng Ä‘áº¿n CPU, Memory, Disk, Network I/O. Do Ä‘Ã³ chÃºng ta nÃªn quáº£n lÃ½ Containers phÃ¹ há»£p nháº¥t, lá»±a chá»n cÃ¡c Containers hoáº¡t Ä‘á»™ng Ä‘á»ƒ tiáº¿t kiá»‡m nguá»“n tÃ i nguyÃªn. CÃ¢u lá»‡nh **docker compose down**
![image.png](https://images.viblo.asia/ee41d129-d045-49c6-8dbd-d3181c78416a.png)

NgoÃ i ra, chÃºng ta cÃ³ thá»ƒ action trÃªn giao diá»‡n Docker Desktop, lá»±a chá»n Containers -> Action phÃ¹ há»£p nháº¥t thÃ´i
![image.png](https://images.viblo.asia/5136d6f8-f532-4340-adae-48c898e23ed8.png)

### 4. Tá»•ng káº¿t
BÃ i viáº¿t nÃ y, cÃ³ thá»ƒ giÃºp cÃ¡c báº¡n xÃ¢y dá»±ng há»‡ thá»‘ng cÃ³ nhiá»u Container nhÆ° backend service, database lÃªn Docker Compose. CÃ²n khÃ³ khÄƒn gÃ¬ ná»¯a, báº¯t tay lÃ m viá»‡c thÃ´i nhá»‰. CÃ¡c thÃ­m cÃ³ tháº¯c máº¯c hÃ£y comment bÃ¬nh luáº­n bÃªn dÆ°á»›i nhÃ¡.', '2023-02-12T18:34:22.000000Z', '2023-02-28T00:40:04.000000Z', '2023-02-12T18:34:19.000000Z'),
	('Deploy Spring Boot Application Development Docker Window 10', '3RlL5Aa6LbB', '3', 'unlisted', 'https://images.viblo.asia/46110dee-8438-4d27-a48e-2a1daee8cf5e.png', 'ÄÃ¢y cÃ³ láº½ lÃ  má»™t chá»§ Ä‘á» khÃ´ng cÃ²n xa láº¡ gÃ¬ vá»›i nhá»¯ng báº¡n dev cÃ³ kinh nghiá»‡m chinh chiáº¿n lÃ£o lÃ ng lÃ¢u nÄƒm rá»“i "ÄÃºng nháº­n sai cÃ£i". Tuy nhiÃªn, vá»›i nhá»¯ng báº¡n Intern vÃ  Fresher thÃ¬ nÃ³ láº¡i lÃ  chá»§ Ä‘á» ráº¥t cáº§n thiáº¿t. MÃ¬nh cÃ³ tÃ¬m kiáº¿m vÃ  Ä‘á»c cÃ¡c bÃ i viáº¿t chá»§ yáº¿u cÃ¡c bÃ i viáº¿t sá»­ dá»¥ng Docker trÃªn há»‡ Ä‘iá»u hÃ nh Ubuntu/Centos chÆ°a cÃ³ nhiá»u cÃ¡c bÃ i viáº¿t hÆ°á»›ng dáº«n chi tiáº¿t trÃªn Window. ChÃ­nh vÃ¬ váº­y, vá»›i bÃ i vi...', 'ÄÃ¢y cÃ³ láº½ lÃ  má»™t chá»§ Ä‘á» khÃ´ng cÃ²n xa láº¡ gÃ¬ vá»›i nhá»¯ng báº¡n dev cÃ³ kinh nghiá»‡m chinh chiáº¿n lÃ£o lÃ ng lÃ¢u nÄƒm rá»“i "ÄÃºng nháº­n sai cÃ£i". Tuy nhiÃªn, vá»›i nhá»¯ng báº¡n Intern vÃ  Fresher thÃ¬ nÃ³ láº¡i lÃ  chá»§ Ä‘á» ráº¥t cáº§n thiáº¿t. MÃ¬nh cÃ³ tÃ¬m kiáº¿m vÃ  Ä‘á»c cÃ¡c bÃ i viáº¿t chá»§ yáº¿u cÃ¡c bÃ i viáº¿t sá»­ dá»¥ng Docker trÃªn há»‡ Ä‘iá»u hÃ nh Ubuntu/Centos chÆ°a cÃ³ nhiá»u cÃ¡c bÃ i viáº¿t hÆ°á»›ng dáº«n chi tiáº¿t trÃªn Window. ChÃ­nh vÃ¬ váº­y, vá»›i bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n má»™t cÃ¡ch chi tiáº¿t vÃ  cá»¥ thá»ƒ nháº¥t dÃ nh cho cÃ¡c dev thÆ°á»ng xuyÃªn dÃ¹ng Window. BÃ i viáº¿t nÃ y, táº­p trung vÃ o pháº§n thá»±c hÃ nh, lÃ½ thuyáº¿t cÃ¡c báº¡n tá»± tÃ¬m hiá»ƒu nhÃ¡.
### 1. TÃ³m táº¯t ná»™i dung
*  HÆ°á»›ng dáº«n táº¡o project Spring Boot
*  HÆ°á»›ng dáº«n cÃ i Docker Desktop
*  HÆ°á»›ng dáº«n triá»ƒn khai trÃªn Docker
### 2. HÆ°á»›ng dáº«n táº¡o project Spring Boot
Äáº§u tiÃªn, chÃºng ta cáº§n chuáº©n bá»‹ mÃ´i trÆ°á»ng: intellij, maven, jdk. (Intellij IDEA 2020.2.1, Maven 3.8.1, jdk 17).
Tiáº¿p theo, cÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ táº¡o project Spring Boot nhÆ°: [Spring Initializr](https://start.spring.io/) hoáº·c táº¡o Project trong Intellij IDEA. CÃ³ má»™t cÃ¡ch cho cÃ¡c báº¡n lÆ°á»i nhÆ° tÃ´i lÃ  download [source code](https://gitlab.com/springbootdevops/springbootdocker.git)
Sau khi táº¡o Ä‘Æ°á»£c project, kiá»ƒm tra Project Structure (trá» vÃ o thÆ° má»¥c source code, dÃ¹ng command **tree**)
![image.png](https://images.viblo.asia/a6d63976-b0d6-484c-b679-60f3155b4b2b.png)

Trong Ä‘Ã³, file SpringBootDockerApplication.java táº¡o ra má»™t API Ä‘Æ¡n giáº£n hiá»ƒn thá»‹ â€œHello World!â€
```
package com.example.springbootdocker;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@SpringBootApplication
public class SpringBootDockerApplication {

    @RequestMapping("/")
    public String home() {
        return "Hello World!";
    }

    public static void main(String[] args) {
        SpringApplication.run(SpringBootDockerApplication.class, args);
    }
}

```

DÃ¹ng cÃ¢u lá»‡nh Ä‘á»ƒ Ä‘Ã³ng gÃ³i ra file JAR command **./mvnw package**
![image.png](https://images.viblo.asia/46110dee-8438-4d27-a48e-2a1daee8cf5e.png)

Hoáº·c dÃ¹ng tool **Intellij IDEA -> Maven -> Lifecycle -> clearn -> install**
![image.png](https://images.viblo.asia/956d9a0c-3e71-4f80-9b81-2dac8fb9d285.png)

Sau khi build thÃ nh cÃ´ng file JAR, chá»‰ cáº§n cháº¡y file JAR **java -jar target/spring-boot-docker-0.0.1-SNAPSHOT.jar**. Trong Ä‘Ã³: ***spring-boot-docker-0.0.1-SNAPSHOT.jar*** lÃ  tÃªn file JAR build xong, target lÃ  thÆ° má»¥c chá»©a file JAR
![image.png](https://images.viblo.asia/0e2015d1-f041-40d9-a24b-f99c466fa02f.png)

### 3. HÆ°á»›ng dáº«n cÃ i Docker Desktop
Download [Docker Desktop](https://www.docker.com/get-started/)  lá»±a chá»n Ä‘Ãºng phiÃªn báº£n cho há»‡ Ä‘iá»u hÃ nh Windown
Äá»ƒ cÃ i Docker Desktop, nhá»¯ng thao tÃ¡c ráº¥t Ä‘Æ¡n giáº£n chá»‰ cÃ³ "next" vÃ  "next". KhÃ´ng cÃ²n nháº¥n "next" Ä‘Æ°á»£c ná»¯a, mÃ n hÃ¬nh sáº½ hiá»ƒn thá»‹ Docker Destop
![image.png](https://images.viblo.asia/cab1d3c4-d1af-4b6f-8763-c83aeb6a844c.png)

Náº¿u mÃ  váº«n loay hoay khÃ´ng biáº¿t cÃ i nhÆ° tháº¿ nÃ o, báº¡n cÃ³ thá»ƒ tham kháº£o [bÃ i viáº¿t](https://viblo.asia/p/cai-dat-docker-tren-windows-10-3Q75w6gelWb) nÃ y nhÃ©!
### 4. HÆ°á»›ng dáº«n triá»ƒn khai trÃªn Docker
Thá»±c hiá»‡n cÃ¡c bÆ°á»›c trÃªn khÃ´ng cÃ³ khÃ³ khÄƒn gÃ¬ vá»›i cÃ¡c thÃ­m chá»©? Náº¿u khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬, chÃºng ta Ä‘i tiáº¿p vÃ o pháº§n quan trá»ng nháº¥t cá»§a bÃ i viáº¿t nÃ y thÃ´i nÃ o cÃ¡c báº¡n Æ¡iiiii
Source code project Spring Boot, trong Ä‘Ã³ cÃ³ file Dockerfile
```
FROM eclipse-temurin:17-jdk-focal
WORKDIR /app
COPY .mvn/ .mvn
COPY mvnw pom.xml ./
RUN ./mvnw dependency:go-offline
COPY src ./src
CMD ["./mvnw", "spring-boot:run"]
```
Trong Ä‘Ã³,
* FROM eclipse-temurin:17-jdk-focal : dÃ¹ng thÆ° viá»‡n jdk 17,  Eclipse Temurin cung cáº¥p code vÃ  quy trÃ¬nh há»— trá»£ xÃ¢y dá»±ng cÃ¡c tá»‡p nhá»‹ phÃ¢n time runing.
* WORKDIR /app:  táº¡o má»™t thÆ° má»¥c Ä‘á»ƒ chá»©a code á»©ng dá»¥ng cá»§a hÃ¬nh áº£nh project.
* COPY .mvn/ ./mvn: Copy thÆ° viá»‡n Maven tá»« mÃ¡y local Ä‘áº¿n container image .
* COPY mvnw pom.xml ./  Copy file pom tá»« mÃ¡y local Ä‘áº¿n container image.
* RUN ./mvnw dependency:go-offline  RUN kÃ­ch hoáº¡t táº¥t cáº£ project.
* COPY src ./src Copy thÆ° má»¥c src tá»« local lÃªn mÃ´i trÆ°á»ng docker
* CMD ["./mvnw", "spring-boot:run"] Cháº¡y cÃ¢u lá»‡nh Docker biÃªn dá»‹ch vÃ  cháº¡y app package

Tiáº¿p theo, cáº§n build lÃªn Docker Image. CÃ¢u lá»‡nh **docker build -f Dockerfile -t spring-boot .**
![image.png](https://images.viblo.asia/a699d1e2-be12-476e-a4f4-87377fc94941.png)

Sau khi build lÃªn Docker Image xong, kiá»ƒm tra trÃªn Docker Desktop -> Images -> hiá»ƒn thá»‹ Name "spring-boot" Ä‘Ãºng nhÆ° tÃªn Ä‘Ã£ Ä‘áº·t
![image.png](https://images.viblo.asia/53ca6382-9673-4ce5-9102-c57140afc15e.png)

NgoÃ i ra, cÃ¡c thÃ­m cÃ³ thá»ƒ Ä‘áº©y trá»±c tiáº¿p hÃ¬nh áº£nh cá»§a mÃ¬nh lÃªn Docker Hub Ä‘á»ƒ dá»… dÃ ng chia sáº». Action -> Push to Hub
![image.png](https://images.viblo.asia/fef8fd43-b6b6-4a99-a03c-83ada7a5a2d1.png)

Äáº·t tÃªn Container Name -> Nháº¥n button "Run". Hiá»ƒn thá»‹ thÃ´ng tin **Containers**
![image.png](https://images.viblo.asia/e85e50c4-0a33-4bee-9610-44ee29de0de7.png)

CÃ¡c thÃ­m xem **Logs** cháº¡y nhÃ©
![image.png](https://images.viblo.asia/25065864-47c9-42c3-9c96-8f4a3b1e9ef6.png)

Docker Dashboardâ€™s tab Stats, dá»… dÃ ng kiá»ƒm tra cÃ¡c thÃ´ng tin CPU, Memory, Disk Read/Wirte, Network I/O
![image.png](https://images.viblo.asia/1bd3bd29-0450-4dba-8f7e-eb379798ab1f.png)

### 5. Tá»•ng káº¿t
ChÃºng ta Ä‘Ã£ há»c Ä‘Æ°á»£c cÃ¡ch triá»ƒn khai dá»±ng project spring boot Ä‘Æ¡n giáº£n deploy vá»›i docker  trÃªn há»‡ Ä‘iá»u hÃ nh Window 10 má»™t cÃ¡ch Ä‘Æ¡n giáº£n, cÃ¡c ná»™i dung chia sáº» chá»‰ liÃªn quan Ä‘áº¿n hÃ¬nh áº£nh ráº¥t trá»±c quan vÃ  rÃµ rÃ ng. CÃ¡c thÃ­m cÃ³ tháº¯c máº¯c hÃ£y comment bÃ¬nh luáº­n bÃªn dÆ°á»›i nhÃ¡.
[BÃ i tiáº¿p theo](https://viblo.asia/p/xay-dung-multi-container-spring-boot-apps-voi-docker-compose-38X4E5X14N2), sáº½ lÃ  má»™t chá»§ Ä‘á» ná»‘i chuá»—i bÃ i viáº¿t Spring Boot deploy Docker. Má»i cÃ¡c báº¡n ghÃ© thÄƒm.', '2023-02-12T17:23:56.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-12T18:39:44.000000Z'),
	('Write up level 1 - PTITCTF [pwn]', 'MG24Bwn5Jz3', '4', 'unlisted', 'https://images.viblo.asia/b60fdd0f-1a48-4a12-89bd-462b24ffcbbf.png', 'Write-up PTIT CTF 2023
Level 1
<br>
Viá»‡c Ä‘áº§u tiÃªn lÃ  mÃ¬nh sáº½ check xem file cá»§a nÃ³ thuá»™c loáº¡i nÃ o.<br>
<br>
MÃ¬nh sáº½ dÃ¹ng ida64 Ä‘á»ƒ Ä‘á»c pseudo code cá»§a bÃ i tá»« file 64bit nÃ y.<br>
.<br>
NhÃ¬n qua tháº¥y key word cá»§a bÃ i lÃ  á»Ÿ dÃ²ng 21 xor[i] = source[i] ^ someThing[i]; ,
check source tháº¥y Ä‘Æ°á»£c data cá»§a nÃ³ db ''>R!+Q.VEHr'',0 .<br>
VÃ  Ä‘á»ƒ vÃ o Ä‘Æ°á»£c hÃ m system("cat flag") ta cáº§n xor vá»›i IamHaCer!! Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c...', '# Write-up PTIT CTF 2023
## Level 1
![image.png](https://images.viblo.asia/b60fdd0f-1a48-4a12-89bd-462b24ffcbbf.png)<br>
Viá»‡c Ä‘áº§u tiÃªn lÃ  mÃ¬nh sáº½ check xem file cá»§a nÃ³ thuá»™c loáº¡i nÃ o.<br>
![image.png](https://images.viblo.asia/a28e323f-379f-4533-9acd-6a92864e4e5e.png)<br>
MÃ¬nh sáº½ dÃ¹ng ida64 Ä‘á»ƒ Ä‘á»c pseudo code cá»§a bÃ i tá»« file 64bit nÃ y.<br>
![image.png](https://images.viblo.asia/3742f703-80f9-4359-91d4-eed4a0a5f669.png).<br>
NhÃ¬n qua tháº¥y key word cá»§a bÃ i lÃ  á»Ÿ dÃ²ng 21 `xor[i] = source[i] ^ someThing[i];` ,
check source tháº¥y Ä‘Æ°á»£c data cá»§a nÃ³ *`db ''>R!+Q.VEHr'',0`* .<br>
VÃ  Ä‘á»ƒ vÃ o Ä‘Æ°á»£c hÃ m `system("cat flag")` ta cáº§n xor vá»›i *`IamHaCer!!`* Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c biáº¿n `someThing` Ä‘Ãºng..<br>
![image.png](https://images.viblo.asia/9d317d29-1bfd-4fa2-847d-5477351de706.png).<br>
![image.png](https://images.viblo.asia/2dbec3de-bc56-4300-a48e-c74365b52982.png).<br>
VÃ  Ä‘Ã¢y lÃ  nhá»¯ng thá»© chÃºng ta cáº§n hoÃ n thiá»‡n ná»‘t: .<br>
![image.png](https://images.viblo.asia/3c416977-4761-47db-9c7a-8c30ea7feede.png).<br>
vÃ  cuá»‘i cÃ¹ng thÃ¬ nÃ³ cÃ³ flag lÃ  nhÆ° nÃ y: ``PISCTF{My_M1nd_50_3z_RI9ht_?}``<br>
## Level 2
![image.png](https://images.viblo.asia/22c76c26-0f32-4eab-b0dc-23b077de168a.png)<br>
Viá»‡c Ä‘áº§u tiÃªn lÃ  mÃ¬nh sáº½ check xem file cá»§a nÃ³ thuá»™c loáº¡i nÃ o. bá»§h<br>
![image.png](https://images.viblo.asia/c604ee8b-a161-4e1a-b792-4b4455c2c2f5.png)<br>
Bá»§h, ta tháº¥y ngay lá»—i format string á»Ÿ hÃ m *`printf(v4)`* do nÃ³ khÃ´ng format Ä‘áº§u ra cho v4 nÃªn cÃ³ thá»ƒ nghÄ© ngay Ä‘áº¿n lá»—i nÃ y. <br>
Má»i cÃ´ng Ä‘oáº¡n thÃ¬ bÃ i nÃ y cÃ³ váº» láº·p láº¡i á»Ÿ bÃ i 1. MÃ¬nh cÅ©ng hÆ¡i lÃº vÃ¬ spam `%x` vÃ  `%p` hÆ¡i nhiá»u mÃ  mÃ©o ra gÃ¬ cuá»‘i cÃ¹ng thÃ¬ nÃ³ lÃ  `%s` <br>
MÃ¬nh sáº½ rÃºt kinh nghiá»‡m á»Ÿ nhá»¯ng láº§n lÃ m bÃ i sau ğŸ¥²<br>
Chi tiáº¿t hÆ¡n thÃ¬ `%x` sáº½ leak cho báº¡n Ä‘áº§u ra lÃ  hex cÃ²n `%p` sáº½ leak cho báº¡n Ä‘á»‹a chá»‰ <br>
![image.png](https://images.viblo.asia/3bc0de10-f2a2-4820-b2e3-02f33d498624.png) <br>
VÃ  káº¿t quáº£ cuá»‘i cÃ¹ng thÃ¬ nÃ³ lÃ  nhÆ° nÃ y <br>
``ISCTF{W3ll_w311_Y0u_4re_4_BAD_b0y_0r_g1rL_<:}``<br>
# Giáº£i thÃ­ch vá» lá»—i Format strings
Lá»—i nÃ y khÃ¡ lÃ  nguy hiá»ƒm tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i Buffer OverFlow.  Khi má»™t chÆ°Æ¡ng trÃ¬nh cÃ³ lá»—i nÃ y, hacker cÃ³ thá»ƒ leak dá»¯ liá»‡u. <br>
Format string lÃ  string dÃ¹ng Ä‘á»ƒ format trong cÃ¡c hÃ m: `printf, fprintf, ...`<br>
`Vd`: printf("a1", a3) thÃ¬ a1 lÃ  format string <br>
Má»™t sá»‘ kiá»ƒu format Ä‘Ã¡ng chÃº Ã½:
* %s: In ra xÃ¢u Ä‘Æ°á»£c trá» bá»Ÿi tham sá»‘.
* %x: In ra tham sá»‘ á»Ÿ dáº¡ng hex.
* %p: In ra tham sá»‘ á»Ÿ dáº¡ng con trá».
## Lá»— há»•ng format string
HÃ£y xem qua vÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y.<br>
BÃ¬nh thÆ°á»ng ta hay dÃ¹ng hÃ m printf nhÆ° sau:<br>
```c
printf("Hello %s", name);
```
NhÆ°ng náº¿u dÃ¹ng nhÆ° dÆ°á»›i Ä‘Ã¢y:<br>
```c
#include<stdio.h>
#include<string.h>

int main(){
    char input[64];
    gets(input);
    printf(input);
    return 0;
}
```
Compiler nÃ³:
```c
gcc fmtString.c -o fmtString
```
Ta sáº½ thá»­ nÃ³ vá»›i option`%s` Ä‘áº§u tiÃªn: <br>
![image.png](https://images.viblo.asia/4e8d7847-3c0a-4b11-86e3-b5d2ecab0af0.png)<br>
Láº­p tá»©c nÃ³ gáº·p lá»—i `Segmentation fault`<br>
Tiáº¿p theo thá»­ vá»›i option `%x`:<br>
![image.png](https://images.viblo.asia/1fb696ea-e022-4d5f-a47f-a0d94db82122.png)<br>
![image.png](https://images.viblo.asia/32186ec6-ec4b-4a8a-9184-a93237412f35.png)<br>
Cuá»‘i cÃ¹ng thÃ¬ thá»­ vá»›i option `%p`:<br>
![image.png](https://images.viblo.asia/67cd99c0-e251-4826-90c9-1766c821d3ff.png)<br>
![image.png](https://images.viblo.asia/17a3286b-687b-475e-975b-a00ea7388b51.png)<br>
ThÆ°á»ng thÃ¬ %p sáº½ leak cho hacker cÃ¡c Ä‘á»‹a chá»‰ trÃªn stack<br>
ÄÃ³ chÃ­nh lÃ  lá»—i format string. <br>

Hai bÃ i nÃ y khÃ¡ lÃ  basic Ä‘á»ƒ tÃ¬m hiá»ƒu vá» cÃ¡c vuln cÆ¡ báº£n, cÃ³ thá»ƒ lÃ m bÃ i warmup tá»‘t :>>.<br>
Khá»Ÿi Ä‘áº§u 1 nÄƒm má»›i tiáº¿p theo. ChÃºc toÃ n thá»ƒ mem viblo Ä‘áº¡t Ä‘Æ°á»£c nhiá»u thÃ nh cÃ´ng vÃ  gáº·t hÃ¡i Ä‘Æ°á»£c nhiá»u thÃ nh tá»±u trong nÄƒm 2023. ÄÃ¢y cÅ©ng lÃ  bÃ i viáº¿t Ä‘Ã¡nh dáº¥u sá»± khá»Ÿi Ä‘áº§u cá»§a mÃ¬nh. Cáº£m Æ¡n má»i ngÆ°á»i Ä‘Ã£ Ä‘á»c!!.<br>
``MÃ£i yÃªu ğŸ«¶ğŸ§¨``<br>
*``wu by 0nly^y0u``*<br>', '2023-02-12T16:07:52.000000Z', '2023-02-27T10:43:06.000000Z', '2023-02-13T04:51:51.000000Z'),
	('ARC vÃ  Ká»¹ thuáº­t quáº£n lÃ½ vÃ¹ng nhá»› trong Swift', 'EoW4ogY74ml', '5', 'unlisted', 'https://images.viblo.asia/c125a567-3fb3-4d27-bba4-7b47b32ea424.png', 'Má»«ng xuÃ¢n QuÃ½ MÃ£o 2023!
Äáº§u nÄƒm má»›i, chÃºc toÃ n thá»ƒ anh chá»‹ em Viblo má»™t nÄƒm trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng,trÃ n Ä‘áº§y niá»m vui vÃ  háº¡nh phÃºc: Vui trong sá»©c khoáº», tráº» trong tÃ¢m há»“n, khÃ´n trong lÃ½ tÆ°á»Ÿng vÃ  trÆ°á»Ÿng thÃ nh má»i lÄ©nh vá»±c.

Viá»‡c quáº£n lÃ­ bá»™ nhá»› trong má»—i á»©ng dá»¥ng lÃ  ráº¥t quan trá»ng. Náº¿u á»©ng dá»¥ng cá»§a báº¡n sá»­ dá»¥ng dá»¯ liá»‡u bá»«a bÃ£i 1 cÃ¡ch khÃ´ng cáº§n thiáº¿t thÃ¬ sáº½ lÃ m memory cá»§a á»©ng dá»¥ng tÄƒng cao, vÃ  trong trÆ°...', '> **Má»«ng xuÃ¢n QuÃ½ MÃ£o 2023!**
>
> Äáº§u nÄƒm má»›i, chÃºc toÃ n thá»ƒ anh chá»‹ em Viblo má»™t nÄƒm trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng,trÃ n Ä‘áº§y niá»m vui vÃ  háº¡nh phÃºc: Vui trong sá»©c khoáº», tráº» trong tÃ¢m há»“n, khÃ´n trong lÃ½ tÆ°á»Ÿng vÃ  trÆ°á»Ÿng thÃ nh má»i lÄ©nh vá»±c.




Viá»‡c quáº£n lÃ­ bá»™ nhá»› trong má»—i á»©ng dá»¥ng lÃ  ráº¥t quan trá»ng. Náº¿u á»©ng dá»¥ng cá»§a báº¡n sá»­ dá»¥ng dá»¯ liá»‡u bá»«a bÃ£i 1 cÃ¡ch khÃ´ng cáº§n thiáº¿t thÃ¬ sáº½ lÃ m memory cá»§a á»©ng dá»¥ng tÄƒng cao, vÃ  trong trÆ°á»ng há»£p xáº¥u cÃ³ thá»ƒ dáº«n Ä‘áº¿n crash.
Swift sá»­ dá»¥ng ARC Ä‘á»ƒ há»— trá»£ developer quáº£n lÃ­ á»©ng dá»¥ng cá»§a app. á» bÃ i viáº¿t nÃ y mÃ¬nh sáº½ nÃ³i vá» ARC trong swift.

## **1. ARC lÃ  gÃ¬**
##

* ARC lÃ  viáº¿t táº¯t cá»§a Automatic Reference Counting. Swift sá»­ dá»¥ng ARC Ä‘á»ƒ giÃºp báº¡n viá»‡c quáº£n lÃ½ bá»™ nhá»› cá»§a app.
* ARC sáº½ tá»± Ä‘á»™ng giáº£i phÃ³ng bá»™ nhá»› Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi 1 biáº¿n khi biáº¿n Ä‘Ã³ khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dung ná»¯a.
* Tuy nhiÃªn, Ä‘á»ƒ ARC cÃ³ thá»ƒ biáº¿t Ä‘Æ°á»£c khi nÃ o biáº¿n Ä‘Ã³ khÃ´ng cÃ²n dc sá»­ dá»¥ng, thÃ¬ ARC pháº£i biáº¿t vá» cÃ¡c relations giá»¯a biáº¿n Ä‘Ã³ vs cÃ¡c biáº¿n khÃ¡c trong code cá»§a báº¡n.


## **2. CÃ¡ch ARC hoáº¡t Ä‘á»™ng**
* Má»—i khi báº¡n táº¡o 1 biáº¿n, ARC sáº½ tá»± chia sáº» 1 pháº§n bá»™ nhá»› Ä‘á»ƒ lÆ°u trá»¯ biáº¿n Ä‘Ã³. Khi biáº¿n Ä‘Ã³ khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng, ARC giáº£i phÃ³ng biáº¿n, láº¥y láº¡i bá»™ nhá»› Ä‘á»ƒ dÃ¹ng cho nhá»¯ng má»¥c Ä‘Ã­ch khÃ¡c
* Äá»ƒ xÃ¡c Ä‘á»‹nh 1 biáº¿n khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng, ARC sáº½ Ä‘áº¿m sá»‘ lÆ°á»£ng strong reference hiá»‡n táº¡i cá»§a biáº¿n Ä‘Ã³ Ä‘á»‘i vá»›i cÃ¡c biáº¿n khÃ¡c. Chá»‰ khi sá»‘ lÆ°á»£ng strong reference = 0 thÃ¬ biáº¿n Ä‘Ã³ má»›i Ä‘Æ°á»£c giáº£i phÃ³ng bá»™ nhá»›.

*Váº­y strong reference lÃ  gÃ¬?*

## **3. Strong reference**

   *Má»—i khi báº¡n gÃ¡n 1 biáº¿n kiá»ƒu class cho 1 property, constant hoáº·c variable, thÃ¬ nhá»¯ng thá»© Ä‘Ã³ táº¡o 1 strong reference Ä‘áº¿n biáº¿n Ä‘Ã³.*
```
class Car {
    var price: Int
    init(price: Int) {
        self.price = price
    }

    deinit {
        print("Car is being deinitialized")
    }
}

var hondaCar: Car? = Car(price: 10000)
```
á» Ä‘Ã¢y, báº¡n gÃ¡n biáº¿n *Car(price: 10000)* cho varialbe *hondaCar*

-> **hondaCar Ä‘Ã£ táº¡o 1 strong reference Ä‘áº¿n Car(price: 10000)**
![](https://images.viblo.asia/59e0a88a-e850-4cfb-a295-3b2dde85ec81.png)
ThÃªm dÃ²ng code sau vÃ  run thá»­ trÃªn playground:

```
hondaCar = nil
```
Káº¿t quáº£ thu Ä‘Æ°á»£c á»Ÿ mÃ n hÃ¬nh console nhÆ° sau:

```
Car is being deinitialized
```
Náº¿u báº¡n set *honedaCar = nil* -> Khi Ä‘Ã³ *Car(price:10000)* sáº½ khÃ´ng cÃ²n strong reference nÃ o trá» Ä‘áº¿n -> ARC sáº½ giáº£i phÃ³ng bá»™ nhá»› cho Car.
Tiáº¿p tá»¥c thá»­ cháº¡y Ä‘oáº¡n code sau vÃ  quan sÃ¡t mÃ n hÃ¬nh console:
```
class Car {
    var price: Int
    init(price: Int) {
        self.price = price
    }

    deinit {
        print(" Car is being deinitialzed")
    }
}

var car1: Car? = Car(price: 10000)
var car2 = car1
var car3 = car1

car1 = nil
car2 = nil


```
Trong vÃ­ dá»¥ trÃªn, sáº½ táº¡o ra 1 sÆ¡ Ä‘á»“ relation giá»¯a cÃ¡c instance nhÆ° sau:
![](https://images.viblo.asia/c125a567-3fb3-4d27-bba4-7b47b32ea424.png)
Khi Ä‘Ã³ náº¿u chá»‰ set car1, car2 = nil, thÃ¬ Car váº«n cÃ²n 1 strong reference tá»« car3 trá» Ä‘áº¿n -> ARC sáº½ khÃ´ng giáº£i phÃ³ng bá»™ nhá»› cho Car trong trÆ°á»ng há»£p nÃ y.

### **3.1. Strong reference giá»¯a cÃ¡c class**
```
class Person {
    var department: Department?
    deinit {
        print("Person is being deinitialized")
    }
}

class Department {
    var owner: Person?
    deinit {
        print("Department is being deinitialized")
    }
}

var duy: Person? = Person()
var hadong: Department? = Department()

duy!.department = hadong
hadong!.owner = duy

duy = nil
hadong = nil
```
Trong vÃ­ dá»¥ trÃªn, sáº½ táº¡o ra 1 sÆ¡ Ä‘á»“ relation giá»¯a cÃ¡c instance nhÆ° sau:

![](https://images.viblo.asia/6eecf4a2-9928-4d23-b835-04112647df77.jpg)

* Viá»‡c set property department vÃ  owner cá»§a 2 instance tuan vÃ  gotham Ä‘Ã£ táº¡o ra 2 strong reference trá» Ä‘áº¿n nhau.
* Khi Ä‘Ã³ Person vÃ  Departmen, má»—i thá»© sáº½ cÃ³ 2 strong refernce trá» Ä‘áº¿n. VÃ¬ váº­y, khi báº¡n chá»‰ set tuan = nil vÃ  gotham = nil thÃ¬ Person vÃ  Departmen váº«n sáº½ khÃ´ng Ä‘Æ°á»£c xÃ³a khá»i bá»™ nhá»› dÃ¹ khÃ´ng cáº§n dÃ¹ng Ä‘áº¿n ná»¯a.

**-> TrÆ°á»ng há»£p nÃ y gá»i lÃ  retain cycle -> Táº¡o ra rÃ² rá»‰ bá»™ nhá»› (memory leaks).**

### **3.2. Xá»­ lÃ­ strong reference**

Swift cung cáº¥p 2 cÃ¡ch Ä‘á»ƒ xá»­ lÃ­ strong reference cycle khi báº¡n lÃ m viá»‡c vá»›i cÃ¡c biáº¿n kiá»ƒu class:

* *weak reference*
* *unowned reference*

## **4. Weak reference**

* *weak refernce*: thay vÃ¬ táº¡o 1 strong reference, nÃ³ sáº½ chá»‰ táº¡o 1 weak -> ARC sáº½ khÃ´ng lÃ m tÄƒng sá»‘ lÆ°á»£ng strong reference trá» tá»›i biáº¿n Ä‘Ã³.
* Sá»­ dá»¥ng *weak reference* khi biáº¿n cÃ²n láº¡i cÃ³ thá»i gian tá»“n táº¡i ngáº¯n hÆ¡n(thÆ°á»ng bá»‹ giáº£i phÃ³ng bá»™ nhá»› trÆ°á»›c)
```
class Person {
    weak var department: Department?

    deinit {
        print("Person is being deinitialized")
    }
}
```
Sá»­a láº¡i vÃ­ dá»¥ trÃªn báº±ng cÃ¡ch sá»­a department thÃ nh kiá»ƒu **weak**( vÃ¬ department cÃ³ thá»i gian tá»“n táº¡i ngáº¯n hÆ¡n ngÆ°á»i).
Khi Ä‘Ã³, sÆ¡ Ä‘á»“ relation ship sáº½ thÃ nh:
![](https://images.viblo.asia/feaf548c-0e94-4789-a584-095d2104adbb.jpg)
* set *hadong = nil* -> Departmen k cÃ²n strong reference nÃ o trÃ² Ä‘áº¿n -> Ä‘Æ°á»£c giáº£i phÃ³ng khá»i bá»™ nhá»›, khi Ä‘Ã³ strong reference cá»§a Departmen trÃ² Ä‘áº¿n Person cÅ©ng sáº½ bá»‹ máº¥t.
* set *duy = nil* -> Person khÃ´ng cÃ²n strong refernce nÃ o trá» Ä‘áº¿n -> ARC giáº£i phÃ³ng khá»i bá»™ nhá»›.
Káº¿t quáº£ thu Ä‘Æ°á»£c:
```
Department is being deinitialized
Person is being deinitialized
```
## **5. Unowned reference**
* TÆ°Æ¡ng tá»± nhÆ° **weak refernce**, nÃ³ sáº½ khÃ´ng táº¡o ra 1 **strong reference**.
* KhÃ¡c **weak reference** á»Ÿ chá»—, **unowned** dÃ¹ng cho nhá»¯ng biáº¿n cÃ³ thá»i gian tá»“n táº¡i lÃ¢u hÆ¡n.
Note: náº¿u báº¡n truy cáº­p Ä‘áº¿n 1 biáº¿n **unowned** sau khi nÃ³ Ä‘Ã£ Ä‘Æ°á»£c giáº£i phÃ³ng khá»i bá»™ nhá»› -> app sáº½ **crash**. VÃ¬ váº­y hÃ£y cáº©n tháº­n khi dÃ¹ng unowned.
Sá»­a vÃ­ dá»¥ trÃªn thÃ nh nhÆ° sau vÃ  sáº½ váº«n thu Ä‘Æ°á»£c káº¿t quáº£ tÆ°Æ¡ng tá»± so vá»›i khi dÃ¹ng **weak**:
```
class Department {
    unowned var owner: Person?

    deinit {
        print("Department is being deinitialized")
    }
}
```
![](https://images.viblo.asia/058ea8d9-bdd0-4bf2-958c-fc2926dc78c6.jpg)
**TÃ i liá»‡u tham kháº£o** :
https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html
> Hi vá»ng sau bÃ i viáº¿t nÃ y cÃ¡c báº¡n Ä‘á»c cÃ³ thá»ƒ hiá»ƒu má»™t cÃ¡ch khÃ¡i quÃ¡t vá» cÆ¡ cháº¿ ARC. Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ Ä‘á»c vÃ  má»i cÃ¢u há»i hay Ã½ kiáº¿n cÃ¡c báº¡n hÃ£y Ä‘á»ƒ dÆ°á»›i bÃ¬nh luáº­n nhÃ© !!!!
>', '2023-02-12T12:58:39.000000Z', '2023-02-23T09:02:09.000000Z', '2023-02-12T12:57:39.000000Z'),
	('Xpath cho ngÆ°á»i nÃ´ng dÃ¢n - Pháº§n 1', 'GrLZDDRJZk0', '6', 'unlisted', 'https://images.viblo.asia/f1ee95f5-a657-4c99-9967-eba6ade9e36a.jpg', 'Anh TÃ¨o lÃ  nÃ´ng dÃ¢n á»Ÿ má»™t trang tráº¡i rau A ná». Dá»‹ch COVID-19 bÃ¹ng phÃ¡t, trang tráº¡i pháº£i cháº¥p hÃ nh lá»‡nh cá»§a chÃ­nh phá»§, táº¡m dá»«ng hoáº¡t Ä‘á»™ng.
Cháº£ cÃ³ viá»‡c gÃ¬ lÃ m ngoÃ i lÆ°á»›t thiÃªn Ä‘á»‹a cáº£ ngÃ y, anh TÃ¨o chÃ¡n quÃ¡ nÃªn tÃ¬m láº¡i Ä‘á»‘ng sÃ¡ch cÅ© Ä‘á»c.

NÃ o lÃ  bÃ­ kÃ­p xem xong xÃ³a, há»c tiáº¿ng Nháº­t cÃ¹ng idol,... cÃ¹ng vÃ´ vÃ n cÃ¡c cuá»‘n kinh thÆ° Ä‘i cÃ¹ng tuá»•i thÆ¡ anh. Chá»£t anh tháº¥y á»Ÿ gÃ³c nhÃ  cÃ³ cuá»‘n sÃ¡ch láº¡, láº­t lÃªn vÃ  Ä‘...', 'Anh TÃ¨o lÃ  nÃ´ng dÃ¢n á»Ÿ má»™t trang tráº¡i rau A ná». Dá»‹ch COVID-19 bÃ¹ng phÃ¡t, trang tráº¡i pháº£i cháº¥p hÃ nh lá»‡nh cá»§a chÃ­nh phá»§, táº¡m dá»«ng hoáº¡t Ä‘á»™ng.
Cháº£ cÃ³ viá»‡c gÃ¬ lÃ m ngoÃ i lÆ°á»›t thiÃªn Ä‘á»‹a cáº£ ngÃ y, anh TÃ¨o chÃ¡n quÃ¡ nÃªn tÃ¬m láº¡i Ä‘á»‘ng sÃ¡ch cÅ© Ä‘á»c.


NÃ o lÃ  bÃ­ kÃ­p xem xong xÃ³a, há»c tiáº¿ng Nháº­t cÃ¹ng idol,... cÃ¹ng vÃ´ vÃ n cÃ¡c cuá»‘n kinh thÆ° Ä‘i cÃ¹ng tuá»•i thÆ¡ anh. Chá»£t anh tháº¥y á»Ÿ gÃ³c nhÃ  cÃ³ cuá»‘n sÃ¡ch láº¡, láº­t lÃªn vÃ  Ä‘á»c tiÃªu Ä‘á»: "Automation chÃ¢n kinh".

Nhá» Ä‘á»c cuá»‘n sÃ¡ch trÃªn, anh Ä‘Ã£ trá»Ÿ thÃ nh má»™t QA thá»±c thá»¥ táº¡i cÃ´ng ty cÃ´ng nghá»‡ A. Series automation nÃ y ká»ƒ láº¡i quÃ¡ trÃ¬nh mÃ  anh TÃ¨o há»c automation, cÃ¡c kiáº¿n thá»©c cÆ¡ báº£n, cÃ¡c lá»—i thÆ°á»ng gáº·p mÃ  anh há»c Ä‘Æ°á»£c. ÄÃ¢y lÃ  bÃ i Ä‘áº§u tiÃªn trong series nÃ y.

## ChÃ©m vá» XPath
TrÆ°á»›c tiÃªn, báº¡n cáº§n 1 chÃºt kiáº¿n thá»©c vá» DOM. Náº¿u chÆ°a biáº¿t, báº¡n hÃ£y Ä‘á»c qua [bÃ i nÃ y](https://freetuts.net/dom-la-gi-cac-loai-dom-trong-javascript-366.html) Ä‘á»ƒ cÃ³ cÃ¡i nhÃ¬n tá»•ng quan vá» DOM nhÃ©.

Äá»ƒ viá»‡c há»c dá»… dÃ ng vÃ  thá»±c hÃ nh thÃº vá»‹ hÆ¡n, anh TÃ¨o Ä‘Ã£ chuáº©n bá»‹ 1 chiáº¿c DOM html á»Ÿ Ä‘Ã¢y. Báº¡n hÃ£y má»Ÿ link dÆ°á»›i Ä‘Ã¢y á»Ÿ 1 tab má»›i, Ä‘á»ƒ cÃ³ thá»ƒ thá»±c hÃ nh cÃ¹ng anh TÃ¨o nghen ^^

https://minhphong306.github.io/static/teo_xpath.html

Chiáº¿c DOM trÃªn sáº½ hiá»ƒn thá»‹ nhÆ° sau:
![](https://images.viblo.asia/f1ee95f5-a657-4c99-9967-eba6ade9e36a.jpg)

LÆ°u Ã½ lÃ  thá»© tá»± trong báº£ng danh sÃ¡ch ca sÄ© Ä‘Æ°á»£c random, nÃªn má»—i láº§n F5 refresh láº¡i trÃ¬nh duyá»‡t sáº½ cÃ³ thá»ƒ khÃ¡c nhau.

Anh TÃ¨o má»Ÿ sÃ¡ch, Ä‘á»c nhá»¯ng dÃ²ng Ä‘áº§u tiÃªn

```
- XPath, hay XML Path lÃ  cÃ¡ch Ä‘á»ƒ tÃ¬m kiáº¿m pháº§n tá»­ trÃªn trang, sá»­ dá»¥ng cÃº phÃ¡p cá»§a xml.

- XPath cÃ³ hai loáº¡i: tÃ¬m kiáº¿m tuyá»‡t Ä‘á»‘i vÃ  tÃ¬m kiáº¿m tÆ°Æ¡ng Ä‘á»‘i
Tuyá»‡t Ä‘á»‘i: báº¯t Ä‘áº§u báº±ng "/" (má»™t dáº¥u gáº¡ch chÃ©o)
TÆ°Æ¡ng Ä‘á»‘i: báº¯t Ä‘áº§u báº±ng "//" (hai dáº¥u gáº¡ch chÃ©o)

- CÃº phÃ¡p cÆ¡ báº£n:
<loáº¡i_xpath> <tagname>[<thuá»™c_tÃ­nh>=<giÃ¡_trá»‹>]
```

- Cá»§ láº¡c giÃ²n tan - anh TÃ¨o nghÄ© - cÃ¡i gÃ¬ mÃ  tÆ°Æ¡ng Ä‘á»‘i vá»›i tuyá»‡t Ä‘á»‘i, nghe pháº¯c táº¡p váº­y. Oh, cÃ³ vÃ­ dá»¥ nÃ y

```
-- VÃ­ dá»¥ tÃ¬m kiáº¿m tá»›i tháº» tiÃªu Ä‘á» "TÃ¨o há»c xpath", ta lÃ m nhÆ° sau:
**TÃ¬m kiáº¿m tuyá»‡t Ä‘á»‘i:**
/html/body/div/div/div/h2
**TÃ¬m kiáº¿m tÆ°Æ¡ng Ä‘á»‘i**
//h2[@class=''header'']
```
Anh TÃ¨o má»Ÿ link thá»±c hÃ nh phÃ­a trÃªn, báº¥m F12, chá»n tab elements Ä‘á»ƒ test thá»­. Anh nháº­p Ä‘oáº¡n xpath tÃ¬m kiáº¿m tuyá»‡t Ä‘á»‘i vÃ o Ã´ tÃ¬m kiáº¿m thÃ¬ tháº¥y hiá»ƒn nhÆ° nhÆ° hÃ¬nh dÆ°á»›i:
![image.png](https://images.viblo.asia/1dd19854-6695-4698-868d-0ca6ba68ab8c.png)

-- Oh,  thÃ¬ ra tuyá»‡t Ä‘á»‘i á»Ÿ Ä‘Ã¢y nghÄ©a lÃ  cáº§n chá»‰ ra chÃ­nh xÃ¡c tuyá»‡t Ä‘á»‘i Ä‘Æ°á»ng dáº«n tá»« nhá» tá»›i lá»›n. Trong vÃ­ dá»¥ trÃªn thÃ¬ cáº§n chá»‰ ra Ä‘i tá»« tháº» html rá»“i Ä‘áº¿n body, div, div,..., giá»‘ng nhÆ° khi tÃ¬m Ä‘Æ°á»ng báº±ng Google Map, cáº§n nháº­p chÃ­nh xÃ¡c tá»a Ä‘á»™ (kinh Ä‘á»™, vÄ© Ä‘á»™) váº­y

```
/html/body/div/div/div/h2
```

-- HÆ¡i nÃ´ng dÃ¢n nhá»‰. Giá» mÃ  tÃ¬m kiáº¿m cÃ¡i nÃ o sÃ¢u sÃ¢u tÃ­ thÃ¬ khÃ©o xpath dÃ i hÆ¡n cáº£ ... cá»§a mÃ¬nh áº¥y chá»©. Thá»­ cÃ¡i tÆ°Æ¡ng Ä‘á»‘i xem cÃ³ tiáº¿n bá»™ hÆ¡n khÃ´ng nÃ o

![image.png](https://images.viblo.asia/f7fab751-f948-4d29-80eb-7d4892604936.png)

-- Ahh, thÃº vá»‹ hÆ¡n nÃ y. Thay vÃ¬ nháº­p Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i, ta chá»‰ cáº§n chá»‰ ra nhá»¯ng Ä‘áº·c tÃ­nh riÃªng biá»‡t cá»§a pháº§n tá»­ cáº§n chá»n. Trong vÃ­ dá»¥ trÃªn thÃ¬ chá»‰ cáº§n chá»‰ ra tháº» cáº§n tÃ¬m lÃ  tháº» h2, cÃ³ class lÃ  header lÃ  Ä‘Æ°á»£c. CÅ©ng giá»‘ng nhÆ° viá»‡c tÃ¬m Ä‘Æ°á»ng, chá»‰ cáº§n chá»‰ ra phá»‘ Tráº§n Duy HÆ°ng, gá»‘c cÃ¢y sá»‘ bao nhiÃªu, Ã  nháº§m sá»‘ nhÃ  bao nhiÃªu, lÃ  Ä‘Æ°á»£c. KhÃ´ng cáº§n pháº£i kinh Ä‘á»™ hay vÄ© Ä‘á»™ gÃ¬ cho khÃ³ nhá»› cáº£. Hihi

```
//h2[@class=''header'']
```

-- Dá»… nhá»‰. Thá»­ lÃ m bÃ i táº­p coi.

BÃ i táº­p:
1. Viáº¿t xpath tÃ¬m kiáº¿m Ã´ checkbox cá»§a SÆ¡n TÃ¹ng M-TP

Má»Ÿ tab elements lÃªn, anh TÃ¨o báº¯t Ä‘áº§u phÃ¢n tÃ­ch

-- CÃ¡i Ã´ checkbox cáº§n tÃ¬m cÃ³ tháº» lÃ  input, id lÃ  "cbSonTung". NhÆ° váº­y chá»‰ cáº§n viáº¿t 1 chiáº¿c XPath Ä‘Æ¡n giáº£n tháº¿ nÃ y lÃ  ngon ngay

```
//input[@id=''cbSonTung'']
```

![image.png](https://images.viblo.asia/828ad5ff-000f-4ef6-8a18-f42db35043af.png)

2. Giá»‘ng bÃ i 1, nhÆ°ng khÃ´ng Ä‘Æ°á»£c dÃ¹ng thuá»™c tÃ­nh id

-- KhÃ´ng dÃ¹ng id Ã . Váº­y thÃ¬ mÃ¬nh sáº½  tÃ¬m táº¥t cáº£ cÃ¡c input cÃ³ type lÃ  checkbox. Sau nÃ³ tÃ¬m Ä‘áº¿n cÃ¡i checkbox thá»© 3 lÃ  Ä‘Æ°á»£c.
```
(//input[@type=''checkbox''])[3]
```
Báº¡n Ä‘á»c lÆ°u Ã½ chá»— nÃ y nha. BÃ¬nh thÆ°á»ng Ä‘á»ƒ tÃ¬m pháº§n tá»­ cÃ³ input cÃ³ type lÃ  checkbox, chÃºng ta lÃ m nhÆ° sau:
```
//input[@type=''checkbox'']
```
VÃ¬ káº¿t quáº£ cÃ³ thá»ƒ cÃ³ nhiá»u hÆ¡n 1 pháº§n tá»­, nÃªn ta cÃ³ thá»ƒ dÃ¹ng cáº·p ngoáº·c vuÃ´ng, bÃªn trong lÃ  sá»‘ thá»© tá»± cá»§a pháº§n tá»­ Ä‘á»ƒ chá»n chÃ­nh xÃ¡c pháº§n tá»­ Ä‘Ã³
```
[3]
```
VÃ  Ä‘á»ƒ search Ä‘Æ°á»£c trong Ã´ tÃ¬m kiáº¿m cá»§a chrome, báº¡n cáº§n bao cÃ¡i xpath báº±ng 1 cáº·p ngoáº·c trÃ²n "()"
```
(xpath)[vá»‹_trÃ­]
```
NhÆ° trong vÃ­ dá»¥ cá»§a anh TÃ¨o:
```
(//input[@type=''checkbox''])[3]
```
-- Nggonnnn - anh TÃ¨o cao há»©ng.

BÃ¢y giá», báº¡n thá»­ F5 láº¡i trÃ¬nh duyá»‡t, tÃ¬m kiáº¿m láº¡i vá»›i xpath vá»«a lÃ m á»Ÿ bÃ i 2

-- Thá»­ F5 coi cÃ³ gÃ¬ khÃ¡c nÃ o

![image.png](https://images.viblo.asia/8378c79a-161e-4507-b261-3fe0eea96500.png)

Sau khi F5, anh TÃ¨o tháº¥y váº«n tÃ¬m Ä‘Æ°á»£c pháº§n tá»­, nhÆ°ng láº§n nÃ y láº¡i lÃ  checkbox cá»§a BÃ­ch PhÆ°Æ¡ng, khÃ´ng pháº£i SÆ¡n TÃ¹ng M-TP.

-- ThÃ´i toang. Hiá»ƒu rá»“i. ThÃ¬ ra cÃ¡c pháº§n tá»­ cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»£c thá»© tá»±, nÃªn tÃ¬m kiáº¿m kiá»ƒu dÃ¹ng vá»‹ trÃ­ lÃ  hÆ¡i dÃ¢m, sáº½ bá»‹ sai. LÃ m tháº¿ nÃ o nhá»‰ ??

Vá»«a nghÄ©, anh TÃ¨o vá»«a láº­t trang sÃ¡ch

LÃºc nÃ y báº¡n cáº§n dÃ¹ng tá»›i axes method Ä‘á»ƒ tÃ¬m kiáº¿m cÃ¡c pháº§n tá»­ Ä‘á»™ng.

Muá»‘n biáº¿t anh TÃ¨o tÃ¬m checkbox cá»§a SÆ¡n TÃ¹ng M-TP kiá»ƒu gÃ¬, báº¡n hÃ£y Ä‘Ã³n Ä‘á»c pháº§n 2: TÃ¬m kiáº¿m XPath cho checkbox SÆ¡n TÃ¹ng M-TP nhÃ© ^^

## Nguá»“n
BÃ i viáº¿t Ä‘Æ°á»£c trÃ­ch tá»« blog cá»§a mÃ¬nh: [Link](https://minhphong306.wordpress.com/2020/06/26/automation-test-xpath-cho-nguoi-nong-dan/)

Náº¿u trong bÃ i viáº¿t cÃ³ gÃ¬ sai sÃ³t, báº¡n hÃ£y cho mÃ¬nh biáº¿t nhÃ© ^^

Äáº§u nÄƒm má»›i, chÃºc toÃ n thá»ƒ anh chá»‹ em Viblo má»™t nÄƒm trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng, Ä‘áº·t goal vÃ  giá»¯ ká»‰ luáº­t Ä‘á»ƒ Ä‘áº¡t goal cá»§a mÃ¬nh nhÃ© ğŸ”¥ğŸ”¥', '2023-02-12T10:15:57.000000Z', '2023-02-28T03:00:23.000000Z', '2023-02-12T10:19:33.000000Z'),
	('Tá»‘i Æ°u sá»­ dá»¥ng Hooks trong React', '018J2vawJYK', '7', 'unlisted', '', 'Xin chÃ o cÃ¡c báº¡n, tiáº¿p tá»¥c series vá» React thÃ¬ hÃ´m nay mÃ¬nh xin chia sáº» vá» cÃ¡ch sá»­ dá»¥ng tá»‘i Æ°u cÃ¡c hooks trong React. ThÃ¬ React hooks Ä‘Æ°á»£c release vÃ o phiÃªn báº£n v16. 8.0 cÃ¡ch Ä‘Ã¢y cÅ©ng Ä‘Æ°á»£c 4 nÄƒm rá»“i, khi react hooks ra Ä‘á»i thÃ¬ Ä‘Ã£ lÃ m thay Ä‘á»•i tÆ° duy láº­p trÃ¬nh cá»§a cÃ¡c láº­p trÃ¬nh viÃªn. VÃ  hÃ´m nay mÃ¬nh muá»‘n nÃ³i vá» viá»‡c chuyá»ƒn Ä‘á»•i tá»« class component sang function components + hooks
VÃ²ng Ä‘á»i
Class co...', 'Xin chÃ o cÃ¡c báº¡n, tiáº¿p tá»¥c series vá» React thÃ¬ hÃ´m nay mÃ¬nh xin chia sáº» vá» cÃ¡ch sá»­ dá»¥ng tá»‘i Æ°u cÃ¡c hooks trong React. ThÃ¬ React hooks Ä‘Æ°á»£c release vÃ o phiÃªn báº£n v16. 8.0 cÃ¡ch Ä‘Ã¢y cÅ©ng Ä‘Æ°á»£c 4 nÄƒm rá»“i, khi react hooks ra Ä‘á»i thÃ¬ Ä‘Ã£ lÃ m thay Ä‘á»•i tÆ° duy láº­p trÃ¬nh cá»§a cÃ¡c láº­p trÃ¬nh viÃªn. VÃ  hÃ´m nay mÃ¬nh muá»‘n nÃ³i vá» viá»‡c chuyá»ƒn Ä‘á»•i tá»« class component sang function components + hooks
## VÃ²ng Ä‘á»i
### Class component
```javascript
class Chart extends Component {
  componentDidMount() {
    // khi Ä‘Ã£ mount Chart
  }
  componentDidUpdate(prevProps) {
    if (prevProps.data == props.data) return
    // khi update dá»¯ liá»‡u
  }
  componentWillUnmount() {
    // trÆ°á»›c khi unmount Chart
  }
  render() {
    return (
      <svg className="Chart" />
    )
  }
}
```
### Function component
```javascript
const Chart = ({ data }) => {
  useEffect(() => {
    // khi mount Chart hoáº·c update dá»¯ liá»‡u
    return () => {
      // khi update dá»¯ liá»‡u
      // trÆ°á»›c khi unmount chart
    }
  }, [data])
  return (
    <svg className="Chart" />
  )
}
```
## Cáº­p nháº­t dá»¯ liá»‡u
Sá»­ dá»¥ng useEffect Ä‘á»ƒ náº¯m báº¯t vÃ²ng Ä‘á»i cá»§a React.
CÃ³ pháº£i báº¡n Ä‘ang suy nghÄ© useEffect tháº­t lÃ  vi diÃªu khÃ´ng?ğŸ˜ƒğŸ˜ƒğŸ˜ƒ. NhÆ°ng mÃ  chÆ°a Ä‘Ã¢u tháº­t sá»± useEffect khÃ´ng pháº£i lÃ  hook Ä‘á»ƒ giáº£i quyáº¿t má»i váº¥n Ä‘á». HÃ£y cÃ¹ng mÃ¬nh tÃ¬m hiá»ƒu tiáº¿p nhÃ¡.
BÃ¢y giá» hÃ£y xem má»™t vÃ­ dá»¥ khÃ¡c biá»‡t lÃ  muá»‘n tÃ­nh toÃ¡n dá»¯ liá»‡u báº±ng hÃ m getDataWithinRange.
### Class component
```javascript
class Chart extends Component {
  state = {
    data: null,
  }
  componentDidMount() {
    const newData = getDataWithinRange(this.props.dateRange)
    this.setState({data: newData})
  }
  componentDidUpdate(prevProps) {
    if (prevProps.dateRange != this.props.dateRange) {
      const newData = getDataWithinRange(this.props.dateRange)
      this.setState({data: newData})
    }
  }
  render() {
    return (
      <svg className="Chart" />
    )
  }
}
```

### Function component
```javascript
const Chart = ({ dateRange }) => {
  const [data, setData] = useState()
  useEffect(() => {
    const newData = getDataWithinRange(dateRange)
    setData(newData)
  }, [dateRange])
  return (
    <svg className="Chart" />
  )
}
```
useEffect Ä‘ang cáº­p nháº­t data dá»±a vÃ o sá»± thay Ä‘á»•i cá»§a dateRange => khi prop dateRange thay Ä‘á»•i thÃ¬ useEffect Ä‘Æ°á»£c kÃ­ch hoáº¡t vÃ  tÃ­nh toÃ¡n newData báº±ng function getDataWithinRange sau Ä‘Ã³ cáº­p nháº­t láº¡i dá»¯ liá»‡u báº±ng hook setData.
Thay vÃ¬ sá»­ dá»¥ng 2 hook useEffect vÃ  useStatet thÃ¬ ta cÃ³ thá»ƒ tá»‘i Æ°u báº±ng hook useMemo
```javascript
const Chart = ({ dateRange }) => {
  const data = useMemo(() => (
    getDataWithinRange(dateRange)
  ), [dateRange])
  return (
    <svg className="Chart" />
  )
}
```
DÆ°á»›i Ä‘Ã¢y lÃ  1 vÃ­ dá»¥ tháº¥y sá»± tá»‘i Æ°u rÃµ rá»‡t vá» code giá»¯a class component vÃ  function component
## VÃ­ dá»¥
### Class component
```javascript
class Chart extends Component {
  state = {
    data: null,
    dimensions: null,
    xScale: null,
    yScale: null,
  }
  componentDidMount() {
    const newData = getDataWithinRange(this.props.dateRange)
    this.setState({data: newData})
    this.setState({dimensions: getDimensions()})
    this.setState({xScale: getXScale()})
    this.setState({yScale: getYScale()})
  }
  componentDidUpdate(prevProps, prevState) {
    if (prevProps.dateRange != this.props.dateRange) {
      const newData = getDataWithinRange(this.props.dateRange)
      this.setState({data: newData})
    }
    if (prevProps.margins != this.props.margins) {
      this.setState({dimensions: getDimensions()})
    }
    if (prevState.data != this.state.data) {
      this.setState({xScale: getXScale()})
      this.setState({yScale: getYScale()})
    }
  }
  render() {
    return (
      <svg className="Chart" />
    )
  }
}
```

### Function component
```javascript
const Chart = ({ dateRange, margins }) => {
  const data = useMemo(() => (
    getDataWithinRange(dateRange)
  ), [dateRange])
  const dimensions = useMemo(getDimensions, [margins])
  const xScale = useMemo(getXScale, [data])
  const yScale = useMemo(getYScale, [data])
  return (
    <svg className="Chart" />
  )
}
```
NhÆ° vÃ­ dá»¥ trÃªn class component pháº£i quáº£n lÃ½ quÃ¡n nhiá»u state, trong khi function component thÃ¬ chá»‰ cáº§n giÃ¡ trá»‹ cá»§a biáº¿n Ä‘áº§u ra. MÃ£ ngáº¯n hÆ¡n chÆ°a cháº¯c lÃ  dá»… Ä‘á»c hÆ¡n nhÆ°ng cháº¯c cháº¯n viá»‡c quáº£n lÃ½ state sáº½ dá»… dÃ ng hÆ¡n. VÃ  thÆ°á»ng thÃ¬ cÃ¡c Ä‘oáº¡n mÃ£ trong function component cá»§a chÃºng tÃ´i ngáº¯n hÆ¡n trong class component lÃ  tá»« 46% Ä‘áº¿n 50%

### Lá»i káº¿t
NhÆ° váº­y lÃ  mÃ¬nh cÃ¹ng cÃ¡c báº¡n Ä‘Ã£ Ä‘i qua vÃ²ng Ä‘á»i cá»§a React Ä‘á»ƒ biáº¿t sá»± khÃ¡c biá»‡t cá»§a class component vÃ  function component, cÅ©ng nhÆ° tÃ¬m hiá»ƒu useMemo Ä‘á»ƒ quáº£n lÃ½ state trong React. Hy vá»ng cÃ¡c báº¡n sáº½ cÃ³ thÃªm nhá»¯ng kiáº¿n thá»©c giÃºp tá»‘i Æ°u code vÃ  maintain dá»… dÃ ng hÆ¡n vá» sau. ChÃºc cÃ¡c báº¡n cÃ³ 1 ngÃ y lÃ m viá»‡c hiá»‡u quáº£.', '2023-02-12T06:47:19.000000Z', '2023-02-27T17:00:36.000000Z', '2023-02-12T06:46:38.000000Z'),
	('Wireshark Advanced Usage - Sá»­ dá»¥ng Wireshark nÃ¢ng cao', 'x7Z4DDal4nX', '8', 'unlisted', 'https://images.viblo.asia/4e77a6d7-2d82-43da-adaf-fcfa50a383e8.png', 'ÄÃ¢y lÃ  pháº§n 2 vá» Wireshark. Trong pháº§n nÃ y, chÃºng ta sáº½ Ä‘á» cáº­p Ä‘áº¿n má»™t sá»‘ cÃ¡ch sá»­ dá»¥ng nÃ¢ng cao vá»›i Wireshark. CÃ¡c nhÃ  phÃ¡t triá»ƒn dá»± Ã¡n Ä‘Ã£ bao gá»“m nhiá»u kháº£ nÄƒng khÃ¡c nhau, tá»« theo dÃµi cÃ¡c cuá»™c há»™i thoáº¡i TCP Ä‘áº¿n báº» khÃ³a thÃ´ng tin xÃ¡c thá»±c khÃ´ng dÃ¢y.
I. The Statistics and Analyze Tabs
Tab Statistics vÃ  Analyze cÃ³ thá»ƒ cung cáº¥p cho chÃºng ta cÃ¡i nhÃ¬n sÃ¢u sáº¯c vá» dá»¯ liá»‡u mÃ  chÃºng ta Ä‘ang kiá»ƒm tra. Tá»«...', 'ÄÃ¢y lÃ  pháº§n 2 vá» Wireshark. Trong pháº§n nÃ y, chÃºng ta sáº½ Ä‘á» cáº­p Ä‘áº¿n má»™t sá»‘ cÃ¡ch sá»­ dá»¥ng nÃ¢ng cao vá»›i Wireshark. CÃ¡c nhÃ  phÃ¡t triá»ƒn dá»± Ã¡n Ä‘Ã£ bao gá»“m nhiá»u kháº£ nÄƒng khÃ¡c nhau, tá»« theo dÃµi cÃ¡c cuá»™c há»™i thoáº¡i TCP Ä‘áº¿n báº» khÃ³a thÃ´ng tin xÃ¡c thá»±c khÃ´ng dÃ¢y.
# I. The Statistics and Analyze Tabs
Tab Statistics vÃ  Analyze cÃ³ thá»ƒ cung cáº¥p cho chÃºng ta cÃ¡i nhÃ¬n sÃ¢u sáº¯c vá» dá»¯ liá»‡u mÃ  chÃºng ta Ä‘ang kiá»ƒm tra. Tá»« nhá»¯ng Ä‘iá»ƒm nÃ y, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u plugin tÃ­ch há»£p sáºµn mÃ  Wireshark cung cáº¥p. CÃ¡c plugin á»Ÿ Ä‘Ã¢y cÃ³ thá»ƒ cung cáº¥p cho chÃºng ta cÃ¡c bÃ¡o cÃ¡o chi tiáº¿t vá» lÆ°u lÆ°á»£ng máº¡ng Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng. NÃ³ cÃ³ thá»ƒ hiá»ƒn thá»‹ cho chÃºng ta má»i thá»©, tá»« nhá»¯ng top talkers hÃ ng Ä‘áº§u trong environment Ä‘áº¿n cÃ¡c cuá»™c trÃ² chuyá»‡n cá»¥ thá»ƒ vÃ  tháº­m chÃ­ phÃ¢n tÃ­ch theo IP vÃ  giao thá»©c.
## A. Statistics Tab
![image.png](https://images.viblo.asia/4e77a6d7-2d82-43da-adaf-fcfa50a383e8.png)

Má»—i má»¥c menu sáº½ hiá»ƒn thá»‹ má»™t cá»­a sá»• má»›i hiá»ƒn thá»‹ sá»‘ liá»‡u thá»‘ng kÃª cá»¥ thá»ƒ.

## B. Analyze Tab
Tá»« tab Analyze, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c plugin cho phÃ©p chÃºng tÃ´i thá»±c hiá»‡n nhá»¯ng viá»‡c nhÆ° theo dÃµi cÃ¡c luá»“ng TCP, lá»c cÃ¡c loáº¡i há»™i thoáº¡i, chuáº©n bá»‹ cÃ¡c bá»™ lá»c gÃ³i má»›i vÃ  kiá»ƒm tra thÃ´ng tin mÃ  Wireshark táº¡o ra vá» lÆ°u lÆ°á»£ng truy cáº­p. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i vÃ­ dá»¥ vá» cÃ¡ch sá»­ dá»¥ng cÃ¡c plugin nÃ y.


![image.png](https://images.viblo.asia/c69ef34e-9073-4de2-bf56-58a2d836c8d8.png)

### 1. TCP Streams
Wireshark cÃ³ thá»ƒ ghÃ©p cÃ¡c gÃ³i TCP láº¡i vá»›i nhau Ä‘á»ƒ táº¡o láº¡i toÃ n bá»™ luá»“ng á»Ÿ Ä‘á»‹nh dáº¡ng cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c. Kháº£ nÄƒng nÃ y cÅ©ng cho phÃ©p chÃºng ta láº¥y dá»¯ liá»‡u ( images, files, etc.) ra khá»i quÃ¡ trÃ¬nh chá»¥p. Äiá»u nÃ y hoáº¡t Ä‘á»™ng vá»›i háº§u háº¿t má»i giao thá»©c sá»­ dá»¥ng TCP lÃ m cÆ¡ cháº¿ váº­n chuyá»ƒn.

![ezgif-3-c3a050e9b9.gif](https://images.viblo.asia/8e8f3b5b-79dc-4dea-842e-81b04473af56.gif)

### 2. Extract Files From The GUI
Má»™t cÃ¡ch thÃº vá»‹ khÃ¡c Ä‘á»ƒ láº¥y dá»¯ liá»‡u tá»« tá»‡p pcap Ä‘áº¿n tá»« FTP. Giao thá»©c truyá»n tá»‡p di chuyá»ƒn dá»¯ liá»‡u giá»¯a mÃ¡y chá»§ vÃ  mÃ¡y chá»§ Ä‘á»ƒ láº¥y dá»¯ liá»‡u Ä‘Ã³ ra khá»i byte thÃ´ vÃ  tÃ¡i táº¡o láº¡i tá»‡p. (hÃ¬nh áº£nh, tÃ i liá»‡u vÄƒn báº£n, v.v.) FTP sá»­ dá»¥ng TCP lÃ m giao thá»©c váº­n chuyá»ƒn vÃ  sá»­ dá»¥ng cÃ¡c cá»•ng 20 & 21Ä‘á»ƒ hoáº¡t Ä‘á»™ng. Cá»•ng TCP 20 Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ truyá»n dá»¯ liá»‡u giá»¯a mÃ¡y chá»§ vÃ  mÃ¡y chá»§, trong khi cá»•ng 21 Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m cá»•ng Ä‘iá»u khiá»ƒn FTP. Báº¥t ká»³ lá»‡nh nÃ o nhÆ° Ä‘Äƒng nháº­p, liá»‡t kÃª tá»‡p vÃ  phÃ¡t hÃ nh táº£i xuá»‘ng hoáº·c táº£i lÃªn Ä‘á»u diá»…n ra qua cá»•ng nÃ y. Äá»ƒ lÃ m nhÆ° váº­y, chÃºng ta cáº§n xem xÃ©t cÃ¡c FTPbá»™ lá»c hiá»ƒn thá»‹ khÃ¡c nhau trong Wireshark.


![ezgif-1-660a6958da.gif](https://images.viblo.asia/4ec2780d-f237-4036-8a08-1dc40d295c23.gif)

# II. Filter
CÃ¡c bá»™ lá»c cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi cÃ¡c tÃ­nh nÄƒng khÃ¡c nhÆ° táº¡o sá»‘ liá»‡u thá»‘ng kÃª vÃ  tÃ´ mÃ u danh sÃ¡ch gÃ³i (tÃ­nh nÄƒng sau chá»‰ kháº£ dá»¥ng cho Wireshark ). Báº¡n cÃ³ thá»ƒ tÃ¬m tháº¥y tham chiáº¿u toÃ n diá»‡n vá» cÃ¡c trÆ°á»ng bá»™ lá»c trong Wireshark vÃ  trong tham chiáº¿u bá»™ lá»c hiá»ƒn thá»‹ táº¡i https://www.wireshark.org/docs/dfref/ .

á» Ä‘Ã¢y mÃ¬nh cÃ³ má»™t bÃ i ctf misc cá»§a LACTF vá» **RFC 3514** cÃ³ liÃªn quan Ä‘áº¿n pháº§n nÃ y. ~~[misc/EBE](https://lactf-challs.storage.googleapis.com/uploads/a94835a27e3f85ce743e2b0f5fa87a6cd62089b1919795e08b28478d0a581a88/EBE.pcap)~~

![image.png](https://images.viblo.asia/fc86c5e6-e4cc-49a8-9ed3-6c546f90699e.png)

Khi chÆ°a dÃ¹ng filter thÃ¬ chÃºng ta tháº¥y á»Ÿ pháº§n Follow UDP Stream lÃ  má»™t flag bá»‹ lÃ m nhiá»…u vÃ  trong trÆ°á»ng há»£p chÃºng ta khÃ´ng biáº¿t vá» quy táº¯c lÃ m nhiá»…u.

![image.png](https://images.viblo.asia/5e5936e8-a6df-4d47-8b8b-c45ee8cd3c6d.png)

Váº­y bÆ°á»›c Ä‘áº§u Ä‘á»ƒ giáº£i Ä‘Æ°á»£c bÃ i nÃ y thÃ¬ chÃºng ta cáº§n so sÃ¡nh kÃ½ tá»± Ä‘Ãºng vá»›i kÃ½ tá»± bá»‹ lÃ m nhiá»…u!

Vá»›i flag máº«u chÃºng ta cÃ³ Ä‘Æ°á»£c tá»« ngÆ°á»i ra Ä‘á» lÃ  lactf{123456}. Váº­y chÃºng ta sáº½ so sÃ¡nh **lactf** vá»›i cÃ¡c kÃ½ tá»± khÃ¡c.

![image.png](https://images.viblo.asia/69cebc2c-76be-4ef7-94fc-c097b0cab0c6.png)


![image.png](https://images.viblo.asia/f1fce5ef-55b0-45b4-bbdf-067b963a991c.png)

Váº­y **Header Checksum** cá»§a kÃ½ tá»± Ä‘Ãºng lÃ  **0x64c1** vÃ  sai lÃ  **0xe4c0**.

=> CÃ´ng thá»©c Filter cá»§a pháº§n nÃ y lÃ  **ip.checksum == 0x64c1**

Sau Ä‘Ã³ chÃºng ta sáº½ láº¥y Ä‘Æ°á»£c flag lÃ : **lactf{3V1L_817_3xf1l7R4710N_4_7H3_W1N_51D43c8000034d0c}**', '2023-02-11T22:02:28.000000Z', '2023-02-27T06:23:06.000000Z', '2023-02-11T22:01:42.000000Z'),
	('Luá»“ng I/O  trong Java', 'vlZL990WLQK', '9', 'unlisted', 'https://images.viblo.asia/852d252c-308c-4761-a75d-9546ee72fac0.jpg', 'Luá»“ng I/O trong Java

Trong project nÃ y chÃºng ta sáº½ cÃ¹ng nhau lÃ m quen vá»›i khÃ¡i niá»‡m luá»“ng (streams) vÃ  file.
- KhÃ¡i niá»‡m luá»“ng (stream): Má»™t stream cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° lÃ  má»™t dÃ£y liÃªn tá»¥c dá»¯ liá»‡u. Java Ä‘á»‹nh nghÄ©a 2 kiá»ƒu luá»“ng: byte vÃ  kÃ½ tá»± (phiÃªn báº£n gá»‘c chá»‰ Ä‘á»‹nh nghÄ©a kiá»ƒu luá»“ng byte, vÃ  sau Ä‘Ã³ luá»“ng kÃ½ tá»± Ä‘Æ°á»£c thÃªm vÃ o trong cÃ¡c phiÃªn báº£n vá» sau). Luá»“ng kÃ½ tá»± Ä‘Æ°á»£c thiáº¿t káº¿ há»— trá»£ viá»‡...', '## Luá»“ng I/O trong Java
[![Build](https://github.com/TheAlgorithms/Java/actions/workflows/build.yml/badge.svg?branch=master)](https://github.com/hoangtien2k3qx1/Java)
[![Discord chat](https://img.shields.io/discord/808045925556682782.svg?logo=discord&colorB=7289DA&style=flat-square)](https://discord.com/channels/1016568392267866162/1016568393068986463)
[![Gitpod ready-to-code](https://img.shields.io/badge/Gitpod-ready--to--code-blue?logo=gitpod)](https://gitpod.io/#https://github.com/hoangtien2k3qx1/Java)

Trong project nÃ y chÃºng ta sáº½ cÃ¹ng nhau lÃ m quen vá»›i khÃ¡i niá»‡m luá»“ng (streams) vÃ  file.
- **KhÃ¡i niá»‡m luá»“ng (stream)**: Má»™t stream cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° lÃ  má»™t dÃ£y liÃªn tá»¥c dá»¯ liá»‡u. Java Ä‘á»‹nh nghÄ©a 2 kiá»ƒu luá»“ng: byte vÃ  kÃ½ tá»± (phiÃªn báº£n gá»‘c chá»‰ Ä‘á»‹nh nghÄ©a kiá»ƒu luá»“ng byte, vÃ  sau Ä‘Ã³ luá»“ng kÃ½ tá»± Ä‘Æ°á»£c thÃªm vÃ o trong cÃ¡c phiÃªn báº£n vá» sau). Luá»“ng kÃ½ tá»± Ä‘Æ°á»£c thiáº¿t káº¿ há»— trá»£ viá»‡c nháº­p xuáº¥t dá»¯ liá»‡u kiá»ƒu kÃ½ tá»± (Unicode). Trong má»™t vÃ i trÆ°á»ng há»£p luá»“ng kÃ½ tá»± sá»­ dá»¥ng hiá»‡u quáº£ hÆ¡n luá»“ng byte, nhÆ°ng á»Ÿ má»©c há»‡ thá»‘ng thÃ¬ táº¥t cáº£ nhá»¯ng xuáº¥t nháº­p Ä‘á»u pháº£i qui vá» byte. Luá»“ng kÃ½ tá»± há»— trá»£ hiá»‡u quáº£ chá»‰ Ä‘á»‘i vá»›i viá»‡c quáº£n lÃ½, xá»­ lÃ½ cÃ¡c kÃ½ tá»±.

### Luá»“ng Byte:
- CÃ¡c luá»“ng byte Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a dÃ¹ng hai lá»›p phÃ¢n cáº¥p, má»©c trÃªn cÃ¹ng lÃ  hai lá»›p trá»«u tÆ°á»£ng **InputStream** vÃ  **OutputStream**, lÃ  cÃ¡c lá»›p cha cá»§a cÃ¡c lá»›p xuáº¥t nháº­p kiá»ƒu byte. InputStream Ä‘á»‹nh nghÄ©a nhá»¯ng Ä‘áº·c Ä‘iá»ƒm chung cho nhá»¯ng luá»“ng nháº­p byte. OutputStream mÃ´ táº£ cÃ¡ch xá»­ lÃ½ cá»§a cÃ¡c luá»“ng xuáº¥t byte.

<img src="http://i.imgur.com/TdlBT3Z.png">

NhÃ¬n trong hÃ¬nh, báº¡n cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c quan há»‡ giá»¯a cÃ¡c class trong IO vá»›i nhau. ChÃºng ta cáº§n quan tÃ¢m nhiá»u Ä‘áº¿n **FileInputStream** (FileOutputStream) vÃ  **BufferedInputStream** (BufferedOutputStream) khi lÃ m viá»‡c xuáº¥t nháº­p vá»›i file.
- **FileInputStream**: LÃ m viá»‡c vá»›i file, Äá»c tá»«ng byte dá»¯ liá»‡u báº±ng phÆ°Æ¡ng thá»©c read(), khi káº¿t thÃºc nÃ³ tráº£ vá» giÃ¡ trá»‹ -1. CÃ¡ch nÃ y cÃ³ tá»‘c Ä‘á»™ tÆ°Æ¡ng Ä‘á»‘i cháº­m.
Äá»c theo tá»«ng byte:


```sh
FileInputStream in = new FileInputStream("data.txt");
while ((byteRead = in.read()) != -1) {
  System.out.println(byteRead);
}
```
Äá»c theo tá»«ng máº£ng byte.
```java
//Dá»¯ liá»‡u Ä‘á»c Ä‘Æ°á»£c lÆ°u vÃ o máº£ng byteBuf.
//byteRead lÃ  sá»‘ byte Ä‘á»c Ä‘Æ°á»£c
FileInputStream in = new FileInputStream("data.txt");
byte[] byteBuf = new byte[4096];
while ((byteRead = in.read()) != -1) {
  for(int i = 0; i <= byteRead; i++){
    System.out.println(byteBuf[i]);
  }
}
```

### Tuy nhiÃªn Ä‘iá»u nÃ y dÆ°á»ng nhÆ° khÃ´ng Ä‘Æ°á»£c khuyáº¿n khÃ­ch. Äá»ƒ tÄƒng tá»‘c Ä‘á»™ báº±ng viá»‡c sá»­ dá»¥ng bá»™ Ä‘á»‡m, hÃ£y sá»­ dá»¥ng [**BufferedInputStream**].
- **BufferedInputStream**: Java sá»­ dá»¥ng cÆ¡ cháº¿ nháº­p/xuáº¥t cÃ³ láº­p vÃ¹ng Ä‘á»‡m Ä‘á»ƒ táº¡m thá»i láº­p cache dá»¯ liá»‡u vÃ o/ra cá»§a má»™t dÃ²ng. NÃ³ giÃºp chÆ°Æ¡ng trÃ¬nh Ä‘á»c/ghi lÆ°á»£ng dá»¯ liá»‡u nhá» khÃ´ng áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n hiá»‡u nÄƒng chung cá»§a há»‡ thá»‘ng. Trong khi thá»±c hiá»‡n vÃ o cÃ³ vÃ¹ng Ä‘á»‡m, má»™t sá»‘ lÆ°á»£ng byte lá»›n Ä‘Æ°á»£c Ä‘á»c táº¡i má»™t thá»i Ä‘iá»ƒm, vÃ  lÆ°u trá»¯ trong má»™t vÃ¹ng Ä‘á»‡m nháº­p. Khi chÆ°Æ¡ng trÃ¬nh Ä‘á»c dÃ²ng nháº­p thÃ¬ thay vÃ¬ ra dÃ²ng vÃ o Ä‘á»ƒ Ä‘á»c nÃ³ Ä‘á»c tá»« vÃ¹ng Ä‘á»‡m nháº­p. Tiáº¿n trÃ¬nh láº­p vÃ¹ng Ä‘á»‡m ra cÅ©ng thá»±c hiá»‡n tÆ°Æ¡ng tá»±. khi dá»¯ liá»‡u Ä‘Æ°á»£c má»™t chÆ°Æ¡ng trÃ¬nh ghi ra dÃ²ng ra, dá»¯ liá»‡u ra Ä‘Æ°á»£c lÆ°u trá»¯ trong má»™t vÃ¹ng Ä‘á»‡m ra. Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ Ä‘áº¿n khi vÃ¹ng Ä‘á»‡m Ä‘áº§y hoáº·c cÃ¡c dÃ²ng tra thá»±c hiá»‡n xáº£ trá»‘ng (flush). Cuá»‘i cÃ¹ng liá»‡u ra trong vÃ¹ng Ä‘á»‡m Ä‘Æ°á»£c chuyá»ƒn Ä‘áº¿n dÃ²ng ra.

Lá»›p nÃ y tá»± Ä‘á»™ng táº¡o ra vÃ  duy trÃ¬ vÃ¹ng Ä‘á»‡m Ä‘á»ƒ há»— trá»£ thao tÃ¡c vÃ o. Nhá» Ä‘Ã³ chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ Ä‘á»c dá»¯ liá»‡u tá»« dÃ²ng tá»«ng byte má»™t mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n tá»‘c Ä‘á»™ thá»±c hiá»‡n cá»§a há»‡ thá»‘ng. Bá»Ÿi lá»›p **BufferedInputStream** lÃ  má»™t bá»™ lá»c, nÃªn cÃ³ thá»ƒ Ã¡p dá»¥ng nÃ³ cho má»™t sá»‘ Ä‘á»‘i tÆ°á»£ng nháº¥t Ä‘á»‹nh cá»§a lá»›p InputStream (khÃ´ng nháº¥t thiáº¿t chá»‰ lÃ m viá»‡c vá»›i file) vÃ  cÅ©ng cÃ³ thá»ƒ phá»‘i há»£p vá»›i cÃ¡c táº­p tin Ä‘áº§u vÃ o khÃ¡c.
BufferedInputStream Ä‘Æ°á»£c hiá»ƒu má»™t phÆ°Æ¡ng thá»©c trung gian, tham sá»‘ truyá»n vÃ o cá»§a nÃ³ lÃ  má»™t dÃ²ng inputstream (vÃ­ dá»¥ FileInputStream). KhÃ¡c vá»›i FileInputStream cÃ³ tham sá»‘ truyá»n vÃ o 1 file.
```sh
BufferedInputStream in = new BufferedInputStream(new FileInputStream("data.txt"));
while ((byteRead = in.read()) != -1) {
  System.out.println(byteRead);
}
```
Äá»c theo máº£ng byte:
```sh
BufferedInputStream in = new BufferedInputStream(new FileInputStream("data.txt"));
byte[] byteBuf = new byte[4096];
while ((byteRead = in.read()) != -1) {
  for(int i = 0; i <= byteRead; i++){
    System.out.println(byteBuf[i]);
  }
}
```
- **CÃ¡c phÆ°Æ¡ng thá»©c cá»§a lá»›p InputStream**

|TÃªn phÆ°Æ¡ng thá»©c	|MÃ´ táº£|
|------------------------|-----|
|read()|	Äá»c cÃ¡c byte dá»¯ liá»‡u tá»« má»™t dÃ²ng. Náº¿u nhÆ° khÃ´ng cÃ³ byte dá»¯ liá»‡u nÃ o, nÃ³ pháº£i chá». Khi má»™t phÆ°Æ¡ng thá»©c pháº£i chá», cÃ¡c luá»“ng Ä‘ang thá»±c hiá»‡n pháº£i táº¡m dá»«ng cho Ä‘áº¿n khi cÃ³ dá»¯ liá»‡u.|
|read (byte [])|	Tráº£ vá» sá»‘ byte Ä‘á»c Ä‘Æ°á»£c hay â€˜-1â€™ náº¿u nhÆ° Ä‘Ã£ Ä‘á»c Ä‘áº¿n cuá»‘i dÃ²ng. NÃ³ gÃ¢y ra ngoáº¡i lá»‡ IOException náº¿u cÃ³ lá»—i xáº£y ra.|
|read (byte [], int, int)|	NÃ³ cÅ©ng Ä‘á»c vÃ o má»™t máº£ng byte. NÃ³ tráº£ vá» sá»‘ byte thá»±c sá»± Ä‘á»c Ä‘Æ°á»£c cho Ä‘áº¿n khi káº¿t thÃºc dÃ²ng. NÃ³ gÃ¢y ra ngoáº¡i lá»‡ IOException náº¿u lá»—i xáº£y ra.|
|available()|	PhÆ°Æ¡ng phÃ¡p nÃ y tráº£ vá» sá»‘ lÆ°á»£ng byte cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c mÃ  khÃ´ng pahá»‰ chá». NÃ³ tráº£ vá» sá»‘ byte hiá»‡n táº¡i cÃ³ trong dÃ²ng. NÃ³ khÃ´ng pháº£i lÃ  phÆ°Æ¡ng thá»©c tin cáº­y Ä‘á»ƒ thá»±c hiá»‡n tiáº¿n trÃ¬nh xá»­ lÃ½ Ä‘áº§u vÃ o.|
|close()|	PhÆ°Æ¡ng thá»©c nÃ y Ä‘Ã³ng dÃ²ng. NÃ³ dÃ¹ng Ä‘á»ƒ giáº£i phÃ³ng má»i tÃ i nguyÃªn dÃ²ng Ä‘Ã£ sá»­ dá»¥ng. LuÃ´n luÃ´n Ä‘Ã³ng dÃ²ng Ä‘á»ƒ cháº¯c cháº¯n ráº±ng dÃ²ng xá»­ lÃ½ Ä‘Æ°á»£c káº¿t thÃºc. NÃ³ gÃ¢y ra ngoáº¡i lá»‡ IOException náº¿u lá»—i xáº£y ra.|
|mark()|	ÄÃ¡nh dáº¥u vá»‹ trÃ­ hiá»‡n táº¡i cá»§a dÃ²ng.|
|markSupported()|	Tráº£ vá» giÃ¡ trá»‹ boolean chá»‰ ra ráº±ng dÃ²ng cÃ³ há»— trá»£ cÃ¡c kháº£ nÄƒng mark vÃ  reset hay khÃ´ng. NÃ³ tráº£ vá» True náº¿u dÃ²ng há»— trá»£ ngÆ°á»£c láº¡i tráº£ vá» False.|
|reset()|	PhÆ°Æ¡ng thá»©c nÃ y Ä‘á»‹nh vá»‹ láº¡i dÃ²ng theo vá»‹ trÃ­ Ä‘Æ°á»£c Ä‘Ã¡nh láº§n cuá»‘i cÃ¹ng. NÃ³ gÃ¢y ra ngoáº¡i lá»‡ IOException náº¿u lá»—i xáº£y ra.|
|skip()|	PhÆ°Æ¡ng thá»©c nÃ y bá» qua â€˜nâ€™ byte dÃ²ng vÃ o. "-n" chá»‰ Ä‘á»‹nh sá»‘ byte Ä‘Æ°á»£c bá» qua. NÃ³ gÃ¢y ra ngoáº¡i lá»‡ IOException náº¿u lá»—i xáº£y ra. PhÆ°Æ¡ng thá»©c nÃ y sá»­ dá»¥ng Ä‘á»ƒ di chuyá»ƒn tá»›i vá»‹ trÃ­ Ä‘áº·c biá»‡t bÃªn trong dÃ²ng vÃ o.|

- **CÃ¡c phÆ°Æ¡ng thá»©c cá»§a lá»›p OutputStream**

|TÃªn phÆ°Æ¡ng thá»©c	   |MÃ´ táº£|
|--------------------|-----|
|write(int)|	PhÆ°Æ¡ng thá»©c nÃ y ghi má»™t byte|
|write(byte[])|	PhÆ°Æ¡ng thá»©c nÃ y phong toáº£ cho Ä‘áº¿n khi má»™t byte Ä‘Æ°á»£c ghi. dÃ²ng pháº£i chá» cho Ä‘áº¿n khi tÃ¡c vá»¥ ghi hoÃ n táº¥t. NÃ³ gÃ¢y ra ngoáº¡i lá»‡ IOException náº¿u lá»—i xáº£y ra.|
|write(byte[],int,int)|	PhÆ°Æ¡ng thá»©c nÃ y ghi máº£ng cÃ¡c byte. Lá»›p OutputStream Ä‘á»‹nh nghÄ©a ba dáº¡ng khÃ¡c nhau cá»§a phÆ°Æ¡ng thá»©c Ä‘á»ƒ cÃ³ thá»ƒ ghi má»™t byte riÃªng láº», má»™t máº£ng cÃ¡c byte, hay má»™t Ä‘oáº¡n cá»§a má»™t máº£ng byte.|
|flush()|	PhÆ°Æ¡ng thá»©c nÃ y xáº£ sáº¡ch dÃ²ng.Äá»‡m dá»¯ liá»‡u Ä‘Æ°á»£c ghi ra dÃ²ng. NÃ³ kÃ­ch hoáº¡t IOException náº¿u lá»—i xáº£y ra.|
|close()|	PhÆ°Æ¡ng thá»©c Ä‘Ã³ng dÃ²ng.NÃ³ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ giáº£i phÃ³ng má»i tÃ i nguyÃªn gáº¯n vá»›i dÃ²ng. NÃ³ kÃ­ch hoáº¡t IOException náº¿u lá»—i xáº£y ra.|

### Luá»“ng kÃ½ tá»±:
Trong nhiá»u trÆ°á»ng há»£p luá»“ng byte khÃ´ng pháº£i lÃ  cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ quáº£n lÃ½ nháº­p xuáº¥t dá»¯ liá»‡u kÃ½ tá»±. Trong láº­p trÃ¬nh Java cÃ³ kiá»ƒu luá»“ng kÃ½ tá»± phá»¥c vá»¥ riÃªng cho viá»‡c nháº­p xuáº¥t dá»¯ liá»‡u trÃªn luá»“ng. Má»©c trÃªn cÃ¹ng lÃ  2 lá»›p trá»«u tÆ°á»ng Reader vÃ  Writer. CÃ¡c lá»›p dáº«n xuáº¥t tá»« Reader vÃ  Writer há»— trá»£ thao tÃ¡c trÃªn cÃ¡c luá»“ng kÃ½ tá»± Unicode.

<img src="http://i.imgur.com/2Ltj8wI.png">

Äá»ƒ thao tÃ¡c vá»›i file, báº¡n cáº§n quan tÃ¢m Ä‘áº¿n cÃ¡c class *FileReader* vÃ  *BufferedReader*
VÃ­ dá»¥ chá»‰ sá»­ dá»¥ng FileReader
```sh
//Äá»c tá»«ng kÃ½ tá»± má»™t
FileReader inputStream = new FileReader("data.txt");
int c;
while ((c = inputStream.read()) != -1) {
  System.out.print((char)c);
}
```

Náº¿u sá»­ dá»¥ng BufferedReader
```sh
//CÃ³ thá»ƒ Ä‘á»c theo tá»«ng dÃ²ng
FileReader fin = new FileReader("data.txt");
BufferedReader in = new BufferedReader(fin);
String str;
while ((str = in.readLine()) != null) {
  System.out.println(str);
}
```
VÃ­ dá»¥ Ä‘á»c dá»¯ liá»‡u tá»« há»‡ thá»‘ng (Console)
```sh
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
System.out.println("Nháº­p chuá»—i kÃ½ tá»±, káº¿t thÃºc báº±ng dáº¥u cháº¥m .");
do {
  c = (char) br.read();
  System.out.println(c);
} while (c != ''.'');
```
á» Ä‘Ã¢y, chÃºng ta khÃ´ng cÃ³ cÃ¡ch nÃ o xÃ¢y dá»±ng 1 lá»›p BufferedReader trá»±c tiáº¿p tá»« System.in vÃ¬ tháº¿ nÃªn cáº§n chuyá»ƒn nÃ³ thÃ nh luá»“ng kÃ½ tá»± báº±ng cÃ¡ch dÃ¹ng InputStreamReader Ä‘á»ƒ chuyá»ƒn byte thÃ nh kÃ½ tá»±.

- **CÃ¡c phÆ°Æ¡ng thá»©c cá»§a lá»›p Reader**

|PhÆ°Æ¡ng thá»©c |MÃ´ táº£|
|------------|-----|
|void close | ÄÃ³ng luá»“ng|
|void mark(int numChars)| ÄÃ¡nh dáº¥u vá»‹ trÃ­ hiá»‡n táº¡i trÃªn luá»“ng|
|int read()| Äá»c má»™t kÃ½ tá»±|
|int read(char buffer[])| Ä‘á»c buffer.length kÃ½ tá»± vÃ  ghi vÃ o buffer|
|abstract int read(char buffer[], int offset, int numChars)| Äá»c numChars kÃ½ tá»± cho vÃ o vÃ¹ng Ä‘á»‡m buffer táº¡i vá»‹ trÃ­ buffer[offset]|
|boolean ready()| Kiá»ƒm tra xem luá»“ng cÃ³ Ä‘á»c Ä‘Æ°á»£c khÃ´ng|
|void reset()| Dá»i con trá» nháº­p Ä‘áº¿n vá»‹ trÃ­ Ä‘Ã¡nh dáº¥u trÆ°á»›c Ä‘Ã³|
|long skip(long numChars| Bá» qua numChars cá»§a luá»“ng nháº­p|

- **CÃ¡c phÆ°Æ¡ng thá»©c cá»§a lá»›p Writer**

| abstract void close() | ÄÃ³ng luá»“ng xuáº¥t|
|-----------------------|----------------|
| void flush() | Dá»n dáº¹p luá»“ng. (Xuáº¥t buffer ra)|
| void write(int ch) | Ghi má»™t kÃ½ tá»±|
| void write(byte buffer[]) | Ghi má»™t máº£ng kÃ½ tá»±|
| void write(char buffer[], int offset, int numChars) | Ghi má»™t pháº§n cá»§a máº£ng kÃ½ tá»±|
| void write(String str) | Ghi má»™t chuá»—i|
| void write(String str, int offset, int numChars) | Ghi má»™t pháº§n cá»§a chuá»—i kÃ½ tá»±|

### Äá»c vÃ  ghi Ä‘á»‘i tÆ°á»£ng trong Java
Trong Java, viá»‡c Ä‘á»c vÃ  ghi má»™t object do class ObjectOutputStream vÃ  ObjectInputStream Ä‘áº£m nhiá»‡m. ÄÃ¢y lÃ  2 lá»›p con cá»§a lá»›p java.io.OutputStream vÃ  java.io.InputStream. Äá»ƒ Ä‘á»c ghi theo Object trong Java thÃ¬ táº¡i class Object Ä‘Ã³ ta cáº§n Ä‘áº·t giao tiáº¿p java.io.Serializable. Má»™t vÃ­ dá»± Ä‘Æ¡n giáº£n Ä‘á»c ghi 1 Object MyStudent nhÆ° sau:
```Java
public class ReadWriteObject {
    public static void main(String[] args){
        MyStudent myStudent = new MyStudent(); // tao doi tuong myStudent

        //Ghi Object vao file

        try {   // dat try cacth de tranh ngoai le khi tao va viet File
            FileOutputStream f = new FileOutputStream("student.dat"); // tao file f tro den student.dat
            ObjectOutputStream oStream = new ObjectOutputStream(f); // dung de ghi theo Object vao file f
            oStream.writeObject(myStudent); // ghi MyStudent theo kieu Object vao file
            oStream.close();
        } catch (IOException e) {
            System.out.println("Error Write file");
        }

        // doc Object tu file
        MyStudent ms = null;

        try {   // dat try cacth de tranh ngoai le khi tao va doc File
            FileInputStream f = new FileInputStream("student.dat"); // tao file f tro den student.dat
            ObjectInputStream inStream = new ObjectInputStream(f);  // dung de doc theo Object vao file f
            // dung inStream doc theo Object, ep kieu tra ve la MyStudent
            ms = (MyStudent) inStream.readObject();
            inStream.close();
        } catch (ClassNotFoundException e) {
            System.out.println("Class not found");
        } catch (IOException e) {
            System.out.println("Error Read file");
        }

        // Xuat KQ
        System.out.println("My name is " + ms.name + ". I am " + ms.age + " years old");
    }
}

class MyStudent implements Serializable{
    String name = "Nguyen Cong Thanh";
    int age = 21;
}
```

### TÃ i liá»‡u tham kháº£o:

Link project github: [**https://github.com/hoangtien2k3qx1/Java/tree/main/JavaCore/Java_Input_Output**](https://github.com/hoangtien2k3qx1/Java/tree/main/src/main/java/JavaCore/Java_Input_Output)

Github: [**https://github.com/hoangtien2k3qx1**](https://github.com/hoangtien2k3qx1)', '2023-02-11T19:57:22.000000Z', '2023-02-28T04:46:03.000000Z', '2023-02-13T18:38:43.000000Z'),
	('ChÆ°Æ¡ng 6: TREES - 7.CÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n:Problems & Solutions(52-61)', '5pPLkPDNVRZ', '10', 'unlisted', 'https://images.viblo.asia/7a5e6819-6214-4695-985d-9b7a7ad1cda1.png', 'LÆ°u Ã½: Äá»‘i vá»›i cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n thá»© tá»± vá»›i cÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n(binary search trees) vÃ  cÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n cÃ¢n báº±ng (balanced binary search trees), Inorder traversal cÃ³ lá»£i tháº¿ hÆ¡n cÃ¡c loáº¡i duyá»‡t khÃ¡c vÃ¬ nÃ³ Ä‘Æ°a ra thá»© tá»± Ä‘Æ°á»£c sáº¯p xáº¿p.

Problem-52
ÄÆ°a ra thuáº­t toÃ¡n tÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t giá»¯a hai node trong BST.

Solution: KhÃ´ng gÃ¬ khÃ¡c ngoÃ i viá»‡c tÃ¬m LCA cá»§a hai node trong BST. [Pro...', '**LÆ°u Ã½**: Äá»‘i vá»›i cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n thá»© tá»± vá»›i cÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n(binary search trees) vÃ  cÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n cÃ¢n báº±ng (balanced binary search trees), Inorder traversal cÃ³ lá»£i tháº¿ hÆ¡n cÃ¡c loáº¡i duyá»‡t khÃ¡c vÃ¬ nÃ³ Ä‘Æ°a ra thá»© tá»± Ä‘Æ°á»£c sáº¯p xáº¿p.

### Problem-52
ÄÆ°a ra thuáº­t toÃ¡n tÃ¬m Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t giá»¯a hai node trong BST.

**Solution:** KhÃ´ng gÃ¬ khÃ¡c ngoÃ i viá»‡c tÃ¬m LCA cá»§a hai node trong BST. [Problem 54]

### Problem-53
ÄÆ°a ra thuáº­t toÃ¡n Ä‘áº¿m sá»‘ BST cÃ³ thá»ƒ cÃ³ vá»›i n node.

**Solution:** ÄÃ¢y lÃ  má»™t váº¥n Ä‘á» cá»§a Dynamic Programming. MÃ¬nh sáº½ trÃ¬nh bÃ y chi tiáº¿t khi viáº¿t tá»›i chÆ°Æ¡ng nÃ y.

### Problem-54
ÄÆ°a ra cÃ¡c con trá» tá»›i hai node trong cÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n, hÃ£y tÃ¬m tá»• tiÃªn chung tháº¥p nháº¥t (LCA). Giáº£ sá»­ ráº±ng cáº£ hai giÃ¡ trá»‹ Ä‘Ã£ tá»“n táº¡i trong cÃ¢y.

**Solution:**
Ã tÆ°á»Ÿng chÃ­nh cá»§a giáº£i phÃ¡p lÃ : trong khi duyá»‡t BST tá»« gá»‘c xuá»‘ng dÆ°á»›i, node Ä‘áº§u tiÃªn mÃ  chÃºng ta gáº·p pháº£i vá»›i giÃ¡ trá»‹ náº±m trong khoáº£ng tá»« Î± Ä‘áº¿n Î², tá»©c lÃ  Î± < node â†’ dá»¯ liá»‡u < Î², lÃ  Tá»• tiÃªn chung nhá» nháº¥t (LCA) cá»§a Î± vÃ  Î² (trong Ä‘Ã³ Î± < Î²).
VÃ¬ váº­y, chá»‰ cáº§n duyá»‡t qua BST theo thá»© tá»± trÆ°á»›c vÃ  náº¿u chÃºng ta tÃ¬m tháº¥y má»™t node cÃ³ giÃ¡ trá»‹ náº±m giá»¯a Î± vÃ  Î², thÃ¬ node Ä‘Ã³ lÃ  LCA.
Náº¿u giÃ¡ trá»‹ cá»§a nÃ³ lá»›n hÆ¡n cáº£ Î± vÃ  Î² thÃ¬ LCA náº±m á»Ÿ phÃ­a bÃªn trÃ¡i cá»§a node vÃ  náº¿u giÃ¡ trá»‹ cá»§a nÃ³ nhá» hÆ¡n cáº£ a vÃ  Î² thÃ¬ LCA náº±m á»Ÿ phÃ­a bÃªn pháº£i.

![image.png](https://images.viblo.asia/7a5e6819-6214-4695-985d-9b7a7ad1cda1.png)

```
	public BinarySearchTreeNode LCA(BinarySearchTreeNode root,
									BinarySearchTreeNode a,
									BinarySearchTreeNode b){
		if(root == null){
			return root;
		}
		if(root == a || root == b){
			return root;
		}
		if (Math.max(a.getData(), b.getData()) < root.getData()) {
			return LCA(root.getLeft(), a, b);
		} else if (Math.min(a.getData(), b.getData()) > root.getData()) {
			return LCA(root.getRight(), a, b);
		} else {
			return root;
		}
	}
```

Time Complexity: O(n). Space Complexity: O(n), Ä‘á»‘i vá»›i cÃ¢y nghiÃªng.

### Problem-55
ÄÆ°a ra thuáº­t toÃ¡n kiá»ƒm tra xem cÃ¢y nhá»‹ phÃ¢n Ä‘Ã£ cho cÃ³ pháº£i lÃ  BST hay khÃ´ng.

**Solution:** HÃ£y xem xÃ©t chÆ°Æ¡ng trÃ¬nh Ä‘Æ¡n giáº£n dÆ°á»›i Ä‘Ã¢y, Ä‘á»‘i vá»›i má»—i node, hÃ£y kiá»ƒm tra xem node bÃªn trÃ¡i cá»§a nÃ³ cÃ³ nhá» hÆ¡n khÃ´ng vÃ  kiá»ƒm tra xem node bÃªn pháº£i cÃ³ lá»›n hÆ¡n khÃ´ng.
```
	public boolean isBST(BinaryTreeNode root){
		if (root == null) {
			return false;
		}
		if(root.getLeft() != null && root.getLeft().getData() > root.getData()){
			return false;
		}
		if(root.getRight() != null && root.getRight().getData() < root.getData()){
			return false;
		}
		if(!isBST(root.getLeft()) || !isBST(root.getRight())){
			return false;
		}
		return true;
	}
```

**CÃ¡ch tiáº¿p cáº­n nÃ y lÃ  sai** vÃ¬ Ä‘iá»u nÃ y sáº½ tráº£ vá» true cho cÃ¢y nhá»‹ phÃ¢n bÃªn dÆ°á»›i. Chá»‰ kiá»ƒm tra táº¡i node hiá»‡n táº¡i lÃ  khÃ´ng Ä‘á»§.

![image.png](https://images.viblo.asia/2f8da455-d176-4e5f-a25f-526c25d53573.png)

### Problem-56
ChÃºng ta cÃ³ thá»ƒ nghÄ© Ä‘áº¿n viá»‡c cÃ³ Ä‘Æ°á»£c thuáº­t toÃ¡n chÃ­nh xÃ¡c khÃ´ng?

**Solution:** Äá»‘i vá»›i má»—i node, hÃ£y kiá»ƒm tra xem giÃ¡ trá»‹ lá»›n nháº¥t trong cÃ¢y con bÃªn trÃ¡i cÃ³ nhá» hÆ¡n dá»¯ liá»‡u node hiá»‡n táº¡i vÃ  giÃ¡ trá»‹ nhá» nháº¥t trong cÃ¢y con bÃªn pháº£i cÃ³ lá»›n hÆ¡n dá»¯ liá»‡u node hay khÃ´ng.

```
	public boolean isBST(BinaryTreeNode root){
		if (root == null) {
			return false;
		}
		if(root.getLeft() != null && findMax(root.getLeft()) > root.getData()){
			return false;
		}
		if(root.getRight() != null && findMin(root.getRight()) < root.getData()){
			return false;
		}
		if(!isBST(root.getLeft()) || !isBST(root.getRight())){
			return false;
		}
		return true;
	}
```

Giáº£ sá»­ ráº±ng chÃºng ta cÃ³ cÃ¡c hÃ m trá»£ giÃºp FindMin() vÃ  FindMax() tráº£ vá» giÃ¡ trá»‹ sá»‘ nguyÃªn tá»‘i thiá»ƒu hoáº·c tá»‘i Ä‘a tá»« má»™t cÃ¢y khÃ´ng trá»‘ng.
Time Complexity: O(n2). Space Complexity: O(n).

### Problem-57
ChÃºng ta cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘á»™ phá»©c táº¡p cá»§a Problem-56 khÃ´ng?

**Solution: Yes.** Má»™t giáº£i phÃ¡p tá»‘t hÆ¡n lÃ  chá»‰ xem xÃ©t tá»«ng node má»™t láº§n.
Máº¹o nhá» lÃ  viáº¿t má»™t hÃ m IsBST(BinaryTreeNode root, int min, int max) Ä‘i qua cÃ¢y Ä‘á»ƒ theo dÃµi cÃ¡c giÃ¡ trá»‹ tá»‘i thiá»ƒu vÃ  tá»‘i Ä‘a Ä‘Æ°á»£c phÃ©p thu háº¹p khi nÃ³ di chuyá»ƒn, chá»‰ xem xÃ©t má»—i node má»™t láº§n.
CÃ¡c giÃ¡ trá»‹ ban Ä‘áº§u cho min vÃ  max pháº£i lÃ  INT_MIN vÃ  INT_MAX â€” chÃºng thu háº¹p tá»« Ä‘Ã³.

```
Initial call: isBST(root, Integer.MIN_VALUE, Integer.MAX_VALUE);
public boolean isBST(BinaryTreeNode root, int min, int max){
    if(root == null){
        return true;
    }
    return (root.getData() > min && root.getData() < max &&
            isBST(root.getLeft(), min, root.getData()) &&
            isBST(root.getRight(), root.getData(), max));
}
```

Time Complexity: O(n). Space Complexity: O(n), cho cÃ¢y nghiÃªng.

### Problem-58
ChÃºng ta cÃ³ thá»ƒ cáº£i thiá»‡n hÆ¡n ná»¯a Ä‘á»™ phá»©c táº¡p cá»§a Problem-56 khÃ´ng?

**Solution:** CÃ³, báº±ng cÃ¡ch sá»­ dá»¥ng inorder traversal.
Ã tÆ°á»Ÿng Ä‘áº±ng sau giáº£i phÃ¡p nÃ y lÃ  viá»‡c duyá»‡t inorder traversal cá»§a BST táº¡o ra cÃ¡c danh sÃ¡ch Ä‘Æ°á»£c sáº¯p xáº¿p.
Trong khi duyá»‡t BST theo thá»© tá»±, táº¡i má»—i node, hÃ£y kiá»ƒm tra Ä‘iá»u kiá»‡n ráº±ng giÃ¡ trá»‹ khÃ³a cá»§a nÃ³ pháº£i lá»›n hÆ¡n giÃ¡ trá»‹ khÃ³a cá»§a node Ä‘Ã£ truy cáº­p trÆ°á»›c Ä‘Ã³.
NgoÃ i ra, chÃºng ta cáº§n khá»Ÿi táº¡o prev vá»›i giÃ¡ trá»‹ sá»‘ nguyÃªn nhá» nháº¥t cÃ³ thá»ƒ (giáº£ sá»­ Integer.MIN_VALUE).

```
	private int prev = Integer.MIN_VALUE;
	public boolean isBST(BinarySearchTreeNode root){
				if(root == null){
			return true;
		}
				if(!isBST(root.getLeft())){
					return true;
				}
				if(root.getData() < prev){
					return false;
				}
				prev = root.getData();
				return isBST(root.getRight());
	}
```

Time Complexity: O(n). Space Complexity: O(n), cho cÃ¢y nghiÃªng.

### Problem-59
ÄÆ°a ra thuáº­t toÃ¡n chuyá»ƒn BST sang circular DLL(Circular Doubly Link List) hÃ¬nh trÃ²n vá»›i Ä‘á»™ phá»©c táº¡p khÃ´ng gian O(1).

**Solution:**
* Con trá» trÃ¡i vÃ  pháº£i trong cÃ¡c node sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m con trá» trÆ°á»›c vÃ  sau tÆ°Æ¡ng á»©ng trong Danh sÃ¡ch liÃªn káº¿t vÃ²ng Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i.
* Thá»© tá»± cá»§a cÃ¡c node trong Danh sÃ¡ch pháº£i giá»‘ng nhÆ° trong Inorder cho CÃ¢y nhá»‹ phÃ¢n Ä‘Ã£ cho.
* node Ä‘áº§u tiÃªn cá»§a Inorder traversal pháº£i lÃ  node Ä‘áº§u cá»§a Circular List.

![image.png](https://images.viblo.asia/c5c513a6-ec67-464c-8403-d15a1f19978c.png)

```
// Java Program to convert a Binary Tree to a
// Circular Doubly Linked List

// Node class represents a Node of a Tree
class Node {
    int val;
    Node left, right;

    public Node(int val)
    {
        this.val = val;
        left = right = null;
    }
}

// A class to represent a tree
class Tree {
    Node root;
    public Tree() { root = null; }

    // concatenate both the lists and returns the head
    // of the List
    public Node concatenate(Node leftList, Node rightList)
    {
        // If either of the list is empty, then
        // return the other list
        if (leftList == null)
            return rightList;
        if (rightList == null)
            return leftList;

        // Store the last Node of left List
        Node leftLast = leftList.left;

        // Store the last Node of right List
        Node rightLast = rightList.left;

        // Connect the last node of Left List
        // with the first Node of the right List
        leftLast.right = rightList;
        rightList.left = leftLast;

        // left of first node refers to
        // the last node in the list
        leftList.left = rightLast;

        // Right of last node refers to the first
        // node of the List
        rightLast.right = leftList;

        // Return the Head of the List
        return leftList;
    }

    // Method converts a tree to a circular
    // Link List and then returns the head
    // of the Link List
    public Node bTreeToCList(Node root)
    {
        if (root == null)
            return null;

        // Recursively convert left and right subtrees
        Node left = bTreeToCList(root.left);
        Node right = bTreeToCList(root.right);

        // Make a circular linked list of single node
        // (or root). To do so, make the right and
        // left pointers of this node point to itself
        root.left = root.right = root;

        // Step 1 (concatenate the left list with the list
        //         with single node, i.e., current node)
        // Step 2 (concatenate the returned list with the
        //         right List)
        return concatenate(concatenate(left, root), right);
    }

    // Display Circular Link List
    public void display(Node head)
    {
        System.out.println("Circular Linked List is :");
        Node itr = head;
        do {
            System.out.print(itr.val + " ");
            itr = itr.right;
        } while (itr != head);
        System.out.println();
    }
}

// Driver Code
class Main {
    public static void main(String args[])
    {
        // Build the tree
        Tree tree = new Tree();
        tree.root = new Node(10);
        tree.root.left = new Node(12);
        tree.root.right = new Node(15);
        tree.root.left.left = new Node(25);
        tree.root.left.right = new Node(30);
        tree.root.right.left = new Node(36);

        // head refers to the head of the Link List
        Node head = tree.bTreeToCList(tree.root);

        // Display the Circular LinkedList
        tree.display(head);
    }
}
```

BÃ i nÃ y trong sÃ¡ch tÃ¡c giáº£ viáº¿t hÆ¡i ngáº¯n gá»n nÃªn mÃ¬nh cÃ³ tham kháº£o code vÃ  thuáº­t toÃ¡n [á»Ÿ Ä‘Ã¢y](https://www.geeksforgeeks.org/convert-a-binary-tree-to-a-circular-doubly-link-list/)

### Problem-60
Cho má»™t danh sÃ¡ch liÃªn káº¿t kÃ©p(doubly linked list) Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p, hÃ£y viáº¿t thuáº­t toÃ¡n chuyá»ƒn Ä‘á»•i nÃ³ thÃ nh cÃ¢y tÃ¬m kiáº¿m nhá»‹ phÃ¢n cÃ¢n báº±ng.

**Solution:** TÃ¬m Ä‘á»™ dÃ i danh sÃ¡ch vÃ  xÃ¢y dá»±ng cÃ¢y tá»« dÆ°á»›i lÃªn.

```
	public BinarySearchTreeNode sortedList2BST(ListNode head){
		int len = 0;
		ListNode currentNode = head;
		while(currentNode != null){
			len++;
			currentNode = currentNode.getNext();
		}
		return construct(head, 0, len - 1);
	}

	public BinarySearchTreeNode construct(ListNode head, int start, int end){
		if(start > end){
			return null;
		}
		int mid = start + (end - start)/2;
		BinarySearchTreeNode left = construct(head, start, mid - 1);
		BinarySearchTreeNode root = new BinarySearchTreeNode(head.getData());
		root.setLeft(left);
		if(head.getNext() != null){
			head.setData(head.getNext().getData());
			head.setNext(head.getNext().getNext());
		}
		root.setRight(construct(head, mid + 1, end));
		return root;
	}
```

Time Complexity: 2T(n/2) + O(n) [Cho viá»‡c tÃ¬m node giá»¯a] = O(nlogn).

### Problem-61
Cho má»™t máº£ng Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p, hÃ£y Ä‘Æ°a ra thuáº­t toÃ¡n Ä‘á»ƒ chuyá»ƒn Ä‘á»•i máº£ng thÃ nh BST.

**Solution:** Náº¿u chÃºng ta pháº£i chá»n má»™t pháº§n tá»­ máº£ng lÃ m gá»‘c cá»§a má»™t BST cÃ¢n báº±ng, chÃºng ta nÃªn chá»n pháº§n tá»­ nÃ o? Gá»‘c cá»§a BST cÃ¢n báº±ng pháº£i lÃ  pháº§n tá»­ á»Ÿ giá»¯a tá»« máº£ng Ä‘Ã£ sáº¯p xáº¿p.
chÃºng ta sáº½ chá»n pháº§n tá»­ á»Ÿ giá»¯a tá»« máº£ng Ä‘Ã£ sáº¯p xáº¿p trong má»—i láº§n láº·p.
Sau Ä‘Ã³, chÃºng ta táº¡o má»™t node trong cÃ¢y Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i pháº§n tá»­ nÃ y.
Sau khi pháº§n tá»­ Ä‘Æ°á»£c chá»n, pháº§n tá»­ cÃ²n láº¡i lÃ  gÃ¬? Báº¡n cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c váº¥n Ä‘á» phá»¥ trong váº¥n Ä‘á» khÃ´ng? CÃ³ hai máº£ng cÃ²n láº¡i â€” máº£ng bÃªn trÃ¡i vÃ  máº£ng bÃªn pháº£i.

Hai máº£ng nÃ y lÃ  cÃ¡c váº¥n Ä‘á» con cá»§a váº¥n Ä‘á» ban Ä‘áº§u, vÃ¬ cáº£ hai Ä‘á»u Ä‘Æ°á»£c sáº¯p xáº¿p.
HÆ¡n ná»¯a, chÃºng lÃ  cÃ¡c cÃ¢y con cá»§a node con trÃ¡i vÃ  pháº£i cá»§a node hiá»‡n táº¡i.

MÃ£ bÃªn dÆ°á»›i táº¡o BST cÃ¢n báº±ng tá»« máº£ng Ä‘Ã£ sáº¯p xáº¿p trong thá»i gian O(n) (n lÃ  sá»‘ pháº§n tá»­ trong máº£ng).
So sÃ¡nh má»©c Ä‘á»™ tÆ°Æ¡ng tá»± cá»§a mÃ£ vá»›i thuáº­t toÃ¡n tÃ¬m kiáº¿m nhá»‹ phÃ¢n.
Cáº£ hai Ä‘á»u Ä‘ang sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p chia Ä‘á»ƒ trá»‹.

```
	public BinaryTreeNode buildBST(int A[], int left, int right){
		BinaryTreeNode newNode;
		if(left > right){
			return null;
		}
		newNode = new BinaryTreeNode();
		if(left == right){
			newNode.setData(A[left]);
			newNode.setLeft(null);
			newNode.setRight(null);
		} else {
			int mid = left + (right - left)/2;
			newNode.setData(A[mid]);
			newNode.setLeft(buildBST(A, left, mid - 1));
			newNode.setRight(buildBST(A, mid + 1, right));
		}
		return newNode;
	}
```', '2023-02-11T17:13:25.000000Z', '2023-02-26T15:00:16.000000Z', '2023-02-11T17:13:24.000000Z'),
	('Thá»±c hÃ nh setup cá»¥m kafka trÃªn AWS EC2 Pháº§n 2:', 'MkNLrOj8VgA', '11', 'unlisted', 'https://images.viblo.asia/e6e10c17-c8e2-4949-a7da-8641b16b9909.png', 'TÃ¡c giáº£: https://www.facebook.com/lang.thinh.146/
Source: https://github.com/quocthinh861/kafka-zookeeper-cluster.git
<img loading="lazy" data-attachment-id="863" data-permalink="https://normanlimxk.com/kafka-ec2/" data-orig-file="https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png" data-orig-size="1288,471" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&q...', '> TÃ¡c giáº£: https://www.facebook.com/lang.thinh.146/
>
> Source: https://github.com/quocthinh861/kafka-zookeeper-cluster.git
>
<img loading="lazy" data-attachment-id="863" data-permalink="https://normanlimxk.com/kafka-ec2/" data-orig-file="https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png" data-orig-size="1288,471" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kafka-ec2" data-image-description="" data-image-caption="" data-medium-file="https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=300" data-large-file="https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=1024" src="https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=1024" alt="" class="wp-image-863" width="768" height="281" srcset="https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=1024 1024w, https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=768 768w, https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=150 150w, https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png?w=300 300w, https://normansdeepdive.files.wordpress.com/2021/11/kafka-ec2.png 1288w" sizes="(max-width: 768px) 100vw, 768px">

á» bÃ i viáº¿t trÆ°á»›c, chÃºng ta Ä‘Ã£ setup xong cá»¥m zookeeper bao gá»“m 3 servers cháº¡y trÃªn 3 AZ khÃ¡c nhau, bÃ i viáº¿t nÃ y sáº½ tiáº¿p tá»¥c táº¡o thÃªm 3 con trÃªn 3 AZ cÃ²n láº¡i Ä‘á»ƒ táº¡o cá»¥m boostrap server nhÃ©

# Kiáº¿n trÃºc Kafka
NÃ³i sÆ¡ qua má»™t tÃ­, Kafka sá»­ dá»¥ng Zookeeper Ä‘á»ƒ gá»­i cÃ¡c message Ä‘áº¿n cÃ¡c server (hay cÃ²n Ä‘Æ°á»£c gá»i lÃ  broker) thÃ´ng qua topic. CÃ¡c topic nÃ y sáº½ cÃ³ sá»‘ báº£n sao (replication factor) vÃ  sáº½ Ä‘Æ°á»£c phÃ¢n tÃ¡n trÃªn kháº¯p broker. Trong pháº¡m vi bÃ i lab nÃ y, mÃ´ hÃ¬nh cá»§a chÃºng ta sáº½ nhÆ° sau:

![image.png](https://images.viblo.asia/e6e10c17-c8e2-4949-a7da-8641b16b9909.png)

CÃ³ thá»ƒ tháº¥y ráº±ng chÃºng ta cÃ³ 3 broker, vá»›i cÃ¡ch setup nhÆ° tháº¿ nÃ y náº¿u trong tÃ­nh huá»‘ng 1 con broker bá»‹ shutdow thÃ¬ dá»¯ liá»‡u cá»§a chÃºng ta táº¡i thá»i Ä‘iá»ƒm Ä‘Ã³ váº«n Ä‘Æ°á»£c báº£o toÃ n, nhá» vÃ o cÆ¡ cháº¿ sao lÆ°u cá»§a kafka (N-1 brokers can be down, if N is your default topic replication factor). Dá»¯ liá»‡u Ä‘Æ°á»£c phÃ¢n tÃ¡n Ä‘á»u trÃªn cá»¥m, cÃ³ nghÄ©a Ã­t bá»™ nhá»› Ä‘Æ°á»£c sá»­ dá»¥ng hÆ¡n trÃªn tá»«ng broker nhÆ°ng váº«n cÃ³ thá»ƒ báº£o toÃ n tÃ­nh kháº£ dá»¥ng cá»§a dá»¯ liá»‡u

# Cáº¥u hÃ¬nh Kafka
Äá»ƒ cáº¥u hÃ¬nh cho Kafka thÃ¬ cÃ³ ráº¥t nhiá»u setting cho nÃ³, viá»‡c setup sao cho phÃ¹ há»£p phá»¥ thuá»™c vÃ o háº¡ táº§ng cá»§a báº¡n. BÃ i viáº¿t nÃ y chá»§ yáº¿u sá»­ dá»¥ng cÃ¡c setting máº·c Ä‘á»‹nh cung cáº¥p bá»Ÿi Kafka. Báº¡n cÃ³ thá»ƒ Ä‘á»c file cáº¥u hÃ¬nh Kafka táº¡i [Ä‘Ã¢y](https://github.com/quocthinh861/kafka-zookeeper-cluster/blob/main/kafka/server.properties). ChÃº Ã½ chÃºng ta chá»‰ ra Ä‘Æ°á»ng dáº«n sao lÆ°u dá»¯ liá»‡u vÃ  chá»‰ ra cá»¥m zookeeper Ä‘Ã£ cÃ i Ä‘áº·t á»Ÿ [bÃ i viáº¿t trÆ°á»›c](https://viblo.asia/p/thuc-hanh-setup-cum-kafka-tren-aws-ec2-EvbLbb9lLnk)
```
# The id of the broker. This must be set to a unique integer for each broker.
broker.id=1
...
# Zookeeper connection string (see zookeeper docs for details).
# This is a comma separated host:port pairs, each corresponding to a zk
# server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002".
# You can also append an optional chroot string to the urls to specify the
# root directory for all kafka znodes.
zookeeper.connect=zookeeper1:2181,zookeeper2:2181,zookeeper3:2181/kafka
```

# Setup Kafka
TrÆ°á»›c tiÃªn mÃ¬nh sáº½ setup chá»‰ vá»›i 1 server cháº¡y kafka. Äáº§u tiÃªn cÃ¡c báº¡n táº¡o ra 1 instance vá»›i AIM Ä‘Ã£ Ä‘Æ°á»£c táº¡o sáºµn á»Ÿ bÃ i trÆ°á»›c, Ä‘áº·t tÃªn lÃ  `My Kafka 1`, vá»›i bÃ i viáº¿t trÆ°á»›c mÃ¬nh Ä‘Ã£ táº¡o 3 server Zookeeper trÃªn 3 subnet khÃ¡c nhau, vá»›i instance nÃ y cÃ¡c báº¡n chá»n 1 trong cÃ¡c subnet cÃ²n láº¡i, trong vÃ­ dá»¥ cá»§a mÃ¬nh, mÃ¬nh thiáº¿t láº­p private ip cho nÃ³ lÃ  `192.168.1.119` (chÃº Ã½ Ä‘á»‹a chá»‰ ip nÃ y chÃ­nh lÃ  Ä‘á»‹a chá»‰ ip mÃ  cÃ¡c báº¡n Ä‘Ã£ set trong bÃ i viáº¿t trÆ°á»›c `/etc/hosts` lÃºc Ä‘áº§u nha)

![image.png](https://images.viblo.asia/dfd6c3b6-05de-412d-98f5-b434ba1f957b.png)

SSH vÃ o instance, táº¡i Ä‘Ã¢y cÃ¡c báº¡n Ä‘Ã£ cÃ³ sáºµn thÆ° má»¥c /kafka vá»›i táº¥t cáº£ setup Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p sáºµn. Äá»ƒ cháº¡y Kafka trÆ°á»›c tiÃªn nhÃ¬n vÃ o file setting cho nÃ³[ á»Ÿ Ä‘Ã¢y ](https://github.com/quocthinh861/kafka-zookeeper-cluster/blob/main/setup/setup-6-kafka-single.sh). CÃ³ ráº¥t nhiá»u thÃ´ng sá»‘ cáº¥u hÃ¬nh, mÃ¬nh muá»‘n táº­p trung vÃ o má»™t sá»‘ thÃ´ng sá»‘ quan trá»ng sau Ä‘Ã¢y:

Vá»›i má»—i Kafka server cáº§n cÃ³ 1 id riÃªng biá»‡t `broker.id=1`

`log.dirs=/data/kafka` chá»‰ Ä‘á»‹nh nÃªn lÆ°u dá»¯ liá»‡u log

`min.insync.replicas=2 `vÃ¬ chÃºng ta chá»‰ cÃ³ 1 kafka server nÃªn cÃ¡c báº¡n sá»­a láº¡i thÃ nh 1 nhÃ© (sá»­a láº¡i báº±ng 2 khi á»Ÿ phÃ­a dÆ°á»›i bÃ i viáº¿t)

`zookeeper.connect=zookeeper1:2181,zookeeper2:2181,zookeeper3:2181/kafka` Ä‘Ã¢y lÃ  chuá»—i káº¿t ná»‘i cá»¥m Zookeeper Ä‘Ã£ táº¡o, chÃº Ã½ chÃºng ta thÃªm `/kafka` á»Ÿ phÃ­a cuá»‘i Ä‘á»ƒ Zookeeper lÆ°u táº¥t cáº£ dá»¯ liá»‡u cá»¥m kafka á»Ÿ má»™t thÆ° má»¥c riÃªng cÃ³ tÃªn lÃ  kafka cho dá»… quáº£n lÃ½ nha

BÆ°á»›c tiáº¿p theo gáº¯n file setting nÃ y thay tháº¿ file setting máº·c Ä‘á»‹nh

```
# edit kafka configuration
rm config/server.properties
nano config/server.properties
```

Cháº¡y thá»­ xem sao `bin/kafka-server-start.sh config/server.properties`.

![image.png](https://images.viblo.asia/199eaf02-f881-4d10-bdfe-1e5ac096932e.png)

Äáº¿n Ä‘Ã¢y cÅ©ng nhÆ° bÃ i viáº¿t trÆ°á»›c, mÃ¬nh sáº½ biáº¿n nÃ³ thÃ nh service Ä‘á»ƒ cháº¡y ngáº§m, file script cÃ³ ná»™i dung á»Ÿ [Ä‘Ã¢y](https://github.com/quocthinh861/kafka-zookeeper-cluster/blob/main/kafka/kafka)

```
# Install Kafka boot scripts
sudo nano /etc/init.d/kafka
sudo chmod +x /etc/init.d/kafka
sudo chown root:root /etc/init.d/kafka
# you can safely ignore the warning
sudo update-rc.d kafka defaults
```

Sau Ä‘Ã³ chÃºng ta cÃ³ thá»ƒ táº¯t vÃ  khá»Ÿi Ä‘á»™ng nhÆ° 1 service
```
# start kafka
sudo service kafka start
```

Äá»ƒ xÃ¡c Ä‘á»‹nh service Ä‘ang cháº¡y, cÃ¡c báº¡n dÃ¹ng cÃ¢u lá»‡nh `nc -vz localhost 9092`

![image.png](https://images.viblo.asia/57d5f62a-827a-43e2-b38f-247137857439.png)

ChÃºng ta Ä‘Ã£ setup xong cá»¥m 1 node Kafka rá»“i, Ä‘á»ƒ cháº¡y thá»­ vÃ i cÃ¢u lá»‡nh xem cá»¥m hoáº¡t Ä‘á»™ng tá»‘t khÃ´ng nhÃ©

ChÃºng ta táº¡o ra 1 topic trÃªn server Kafka
```
# create a topic
bin/kafka-topics.sh --zookeeper zookeeper1:2181/kafka --create --topic first_topic --replication-factor 1 --partitions 3
```

VÃ o má»™t trong cÃ¡c con Zookeeper cháº¡y cÃ¢u lá»‡nh `bin/kafka-topics.sh --list --zookeeper localhost:2181 `, káº¿t quáº£ cho tháº¥y topic Ä‘Æ°á»£c táº¡o á»Ÿ trÃªn Ä‘Ã£ Ä‘Æ°á»£c Zookeeper lÆ°u láº¡i ğŸ˜˜

![image.png](https://images.viblo.asia/cc0e3c6c-b2a3-444d-a3d3-67600dc6f706.png)

Váº­y lÃ  Ä‘Ã£ hoÃ n thÃ nh xong viá»‡c setup cá»¥m Kafka gá»“m 1 node rá»“i. Tiáº¿p theo chá»‰ cáº§n táº¡o AIM tá»« instance nÃ y vÃ  táº¡o thÃªm 2 instance trÃªn 2 subnet cÃ²n láº¡i giá»‘ng bÃ i viáº¿t trÆ°á»›c tháº¿ lÃ  xong (chÃº Ã½ file config cÃ¡c báº¡n sá»­a láº¡i broker.id cho 2 instance láº§n lÆ°á»£t 2, 3) ğŸ˜šá» bÃ i viáº¿t tiáº¿p theo, mÃ¬nh sáº½ thá»±c hiá»‡n cÃ¡c thao tÃ¡c gá»­i nháº­n dá»¯ liá»‡u trÃªn cá»¥m nÃ y nhÃ© !!!', '2023-02-11T14:33:06.000000Z', '2023-02-27T01:31:04.000000Z', '2023-02-11T14:32:59.000000Z'),
	('[Series] Learn Go Day 2', 'Rk74a27AJeO', '1', 'unlisted', 'https://images.viblo.asia/62731dd2-f99f-4a30-95f5-2442ef3a5632.png', 'Giá»›i thiá»‡u
Hello everyone, chÃºng ta tiáº¿p tá»¥c há»c Go ngÃ y 2 nhÃ©. Let''s go!!!

Ná»™i dung
Pointers
Pointer lÃ  má»™t biáº¿n chá»©a Ä‘á»‹a chá»‰ cá»§a má»™t vÃ¹ng nhá»› trong bá»™ nhá»›. Thay vÃ¬ lÆ°u trá»±c tiáº¿p giÃ¡ trá»‹ vÃ o biáº¿n, ta cÃ³ thá»ƒ lÆ°u trá»¯ Ä‘á»‹a chá»‰ cá»§a giÃ¡ trá»‹ Ä‘Ã³ vÃ  sá»­ dá»¥ng con trá» Ä‘á»ƒ truy cáº­p Ä‘áº¿n giÃ¡ trá»‹ Ä‘Ã³. Viá»‡c sá»­ dá»¥ng con trá» trong Go cÃ³ thá»ƒ giÃºp cáº£i thiá»‡n hiá»‡u suáº¥t vÃ  tiáº¿t kiá»‡m bá»™ nhá»› so vá»›i viá»‡c sao chÃ©p dá»¯ liá»‡u...', '## Giá»›i thiá»‡u
Hello everyone, chÃºng ta tiáº¿p tá»¥c há»c Go ngÃ y 2 nhÃ©. Let''s go!!!

## Ná»™i dung
### Pointers
Pointer lÃ  má»™t biáº¿n chá»©a Ä‘á»‹a chá»‰ cá»§a má»™t vÃ¹ng nhá»› trong bá»™ nhá»›. Thay vÃ¬ lÆ°u trá»±c tiáº¿p giÃ¡ trá»‹ vÃ o biáº¿n, ta cÃ³ thá»ƒ lÆ°u trá»¯ Ä‘á»‹a chá»‰ cá»§a giÃ¡ trá»‹ Ä‘Ã³ vÃ  sá»­ dá»¥ng con trá» Ä‘á»ƒ truy cáº­p Ä‘áº¿n giÃ¡ trá»‹ Ä‘Ã³. Viá»‡c sá»­ dá»¥ng con trá» trong Go cÃ³ thá»ƒ giÃºp cáº£i thiá»‡n hiá»‡u suáº¥t vÃ  tiáº¿t kiá»‡m bá»™ nhá»› so vá»›i viá»‡c sao chÃ©p dá»¯ liá»‡u giá»¯a cÃ¡c biáº¿n.

Äá»ƒ táº¡o má»™t con trá», báº¡n sá»­ dá»¥ng toÃ¡n tá»­ **"&"** Ä‘á»ƒ láº¥y Ä‘á»‹a chá»‰ cá»§a má»™t biáº¿n, vÃ  toÃ¡n tá»­ **"*"** Ä‘á»ƒ truy cáº­p giÃ¡ trá»‹ táº¡i Ä‘á»‹a chá»‰ Ä‘Ã³.

cÃº phÃ¡p:

* ToÃ¡n tá»­ **"&"**:
    ```go
    i := 42
    p = &i
    ```
* ToÃ¡n tá»­ **"*"**:
    ```go
    g := *p
    ```

VÃ­ dá»¥:
```go
import "fmt"

func main() {
	i, j := 42, 2701

	p := &i         // point trá» tá»›i Ä‘á»‹a chá»‰ Ã´ nhá»› cá»§a i
	fmt.Println(*p) // káº¿t quáº£ => 42
	*p = 21         // gÃ¡n giÃ¡ trá»‹ vÃ o Ã´ nhá»›
	fmt.Println(i)  // káº¿t quáº£ => 21

	p = &j         // gÃ¡n point trá» tá»›i Ä‘á»‹a chá»‰ Ã´ nhá»› cá»§a j
	*p = *p / 37   // gÃ¡n giÃ¡ trá»‹ vÃ o Ã´ nhá»›
	fmt.Println(j) // káº¿t quáº£ => 73
}
```

### Structs
Struct lÃ  má»™t kiá»ƒu dá»¯ liá»‡u (composite data type) cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a má»™t táº­p há»£p cÃ¡c trÆ°á»ng (fields) cÃ³ kiá»ƒu dá»¯ liá»‡u khÃ¡c nhau. NÃ³ giÃºp báº¡n tá»• chá»©c vÃ  lÆ°u trá»¯ cÃ¡c dá»¯ liá»‡u cÃ³ liÃªn quan vá»›i nhau trong cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng.
```go
type Vertex struct {
	X int
	Y int
}

func main() {
	fmt.Println(Vertex{1, 2})
}
```

ChÃºng ta cÃ³ thá»ƒ táº¡o má»™t Ä‘á»‘i tÆ°á»£ng **Vertex** báº±ng cÃ¡ch gÃ¡n giÃ¡ trá»‹ cho cÃ¡c trÆ°á»ng dá»¯ liá»‡u cá»§a struct.
```go
vertex := Vertex{
  Y: 100,
  X: 200,
}
```

ChÃºng ta cÃ³ thá»ƒ truy cáº­p vÃ  gÃ¡n giÃ¡ trá»‹ cho cÃ¡c trÆ°á»ng dá»¯ liá»‡u cá»§a struct báº±ng cÃ¡ch sá»­ dá»¥ng toÃ¡n tá»­ **"."**.
```go
vertex.Y = 200
vertex.X = 300
```

ChÃºng ta cÃ³ thá»ƒ truy cáº­p vÃ  sá»­a Ä‘á»•i ná»™i dung cá»§a struct báº±ng cÃ¡ch sá»­ dá»¥ng Pointer.
```go
v := Vertex{1, 2}
p := &v
p.X = 400
```

### Arrays
Má»™t máº£ng Ä‘Æ°á»£c khai bÃ¡o báº±ng cÃ¡ch chá»‰ Ä‘á»‹nh loáº¡i dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  Ä‘á»™ dÃ i cá»§a máº£ng.

CÃº phÃ¡p:
```go
var <name> [lenght]<type>
```

vÃ­ dá»¥:  Táº¡o máº£ng a cÃ³ chiá»u dÃ i lÃ  10 vá»›i cÃ¡c pháº§n tá»­ kiá»ƒu int.

```go
var a [10]int
```
> LÆ°u Ã½: Má»™t khi khai bÃ¡o, chiá»u dÃ i vÃ  kiá»ƒu dá»¯ liá»‡u cá»§a máº£ng thÃ¬ khÃ´ng thá»ƒ thay Ä‘á»•i. Náº¿u muá»‘n thay Ä‘á»•i chiá»u dÃ i, pháº£i táº¡o máº£ng má»›i vÃ  sao chÃ©p dá»¯ liá»‡u tá»« máº£ng cÅ©.


####  Zero value
Khi khai bÃ¡o má»™t máº£ng mÃ  khÃ´ng gÃ¡n giÃ¡ trá»‹, toÃ n bá»™ pháº§n tá»­ sáº½ Ä‘Æ°á»£c gÃ¡n giÃ¡ trá»‹ máº·c Ä‘á»‹nh theo kiá»ƒu dá»¯ liá»‡u (int = 0, string = "").

VÃ­ dá»¥: máº£ng [5]int sáº½ cÃ³ táº¥t cáº£ cÃ¡c pháº§n tá»­ cÃ³ giÃ¡ trá»‹ 0.

![init-array.png](https://images.viblo.asia/43ae4cf7-5615-475b-96a2-06c20c76af9e.png)

####  Literal
```go
array := [5]int{10, 20, 30, 40, 50}
```

####  Calculating Size
Náº¿u Ä‘á»™ dÃ i Ä‘Æ°á»£c cho lÃ  **"..."**, Go sáº½ xÃ¡c Ä‘á»‹nh Ä‘á»™ dÃ i cá»§a máº£ng dá»±a trÃªn sá»‘ pháº§n tá»­ Ä‘Æ°á»£c khá»Ÿi táº¡o.
```go
array := [...]int{10, 20, 30, 40, 50}
```

#### Specific elements
Náº¿u báº¡n biáº¿t Ä‘á»™ dÃ i cá»§a máº£ng mÃ¬nh cáº§n, nhÆ°ng chá»‰ khá»Ÿi táº¡o cÃ¡c pháº§n tá»­ cá»¥ thá»ƒ, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cÃº phÃ¡p nÃ y.
```go
array := [5]int{1: 10, 2: 20}
```

#### Pointer elements
Báº¡n cÃ³ thá»ƒ cÃ³ má»™t máº£ng cÃ¡c con trá». Báº¡n sá»­ dá»¥ng toÃ¡n tá»­ * Ä‘á»ƒ truy cáº­p giÃ¡ trá»‹ má»—i con trá» mÃ  pháº§n tá»­ trá» tá»›i.
```go
array := [5]*int{0: new(int), 1: new(int)}

*array[0] = 10
*array[1] = 20
```
CÃ¡c giÃ¡ trá»‹ cá»§a máº£ng Ä‘Æ°á»£c khai bÃ¡o trong **array** trÃ´ng giá»‘ng nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:
![Screenshot 2023-02-11 at 18.13.11.png](https://images.viblo.asia/ee1cca29-ce19-4dcf-b8cd-e7b237cb392d.png)

Má»™t máº£ng lÃ  má»™t giÃ¡ trá»‹ trong Go. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nÃ³ trong má»™t thao tÃ¡c gÃ¡n. Do Ä‘Ã³, má»™t máº£ng cÃ³ thá»ƒ Ä‘Æ°á»£c gÃ¡n cho cÃ¡c máº£ng khÃ¡c cÃ¹ng loáº¡i vÃ  cÃ¹ng Ä‘á»™ dÃ i.
```go
var array1 [5]int
array2 := [5]int{1, 2, 3, 4, 5}
array1 = array2
```

CÃ²n Ä‘á»‘i vá»›i Pointer thÃ¬ khi chÃºng ta gÃ¡n lÃ  gÃ¡n cÃ¡c Ä‘á»‹a chá»‰ Ã´ nhá»› cá»§a con trá» chá»© khÃ´ng pháº£i cÃ¡c giÃ¡ trá»‹ mÃ  con trá» Ä‘ang trá» tá»›i.
```go
var array1 [3]*string

array2 := [3]*string{new(string), new(string), new(string)}

*array2[0] = "Red"
*array2[1] = "Blue"
*array2[2] = "Green"

array1 = array2
```

NÃ³ trÃ´ng giá»‘ng nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:
![Screenshot 2023-02-11 at 18.29.00.png](https://images.viblo.asia/62731dd2-f99f-4a30-95f5-2442ef3a5632.png)

#### Multidimensional array ( máº£ng Ä‘a chiá»u )
Multidimensional lÃ  má»™t cáº¥u trÃºc dá»¯ liá»‡u cho phÃ©p lÆ°u trá»¯ cÃ¡c pháº§n tá»­ dÆ°á»›i dáº¡ng báº£ng nhiá»u chiá»u. Má»—i pháº§n tá»­ trong máº£ng Ä‘a chiá»u Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi nhiá»u chá»‰ sá»‘ Ä‘Æ°á»£c gá»i lÃ  cÃ¡c chá»‰ má»¥c.

```go
 // initialize
var array [4][2]int

// literal & initialize
array := [4][2]int{{10, 11}, {20, 21}, {30, 31}, {40, 41}}

// Declare & initialize outer array
array := [4][2]int{1: {20, 21}, 3: {40, 41}}

// Declare & initialize outer and inner array
array := [4][2]int{1: {0: 20}, 3: {1: 41}}
```
Giá»‘ng nhÆ° hÃ¬nh dÆ°á»›i Ä‘Ã¢y:
![Screenshot 2023-02-11 at 18.46.12.png](https://images.viblo.asia/034ce08c-7d4b-445f-a409-8c501f6bbd9c.png)

#### Passing arrays between functions
Khi truyá»n má»™t máº£ng giá»¯a cÃ¡c hÃ m, cÃ³ thá»ƒ tá»‘n nhiá»u bá»™ nhá»› vÃ  áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t. Máº£ng Ä‘Æ°á»£c truyá»n báº±ng cÃ¡ch sao chÃ©p toÃ n bá»™ máº£ng vÃ o hÃ m vá»›i báº¥t ká»ƒ kÃ­ch thÆ°á»›c nÃ o cá»§a nÃ³.

```go
// Khai bÃ¡o 1 máº£ng 8 megabytes.
var num [1e6]int

handleNum(num)

func handleNum(num [1e6]int) {
    ...
}
```

Khi gá»i hÃ m **handleNum** vá»›i má»™t máº£ng **8 megabytes**, toÃ n bá»™ máº£ng sáº½ Ä‘Æ°á»£c sao chÃ©p vÃ  cáº¥p phÃ¡t trÃªn ngÄƒn xáº¿p, tá»‘n nhiá»u bá»™ nhá»› vÃ  áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t. CÃ¡ch tá»‘t hÆ¡n lÃ  truyá»n má»™t con trá» Ä‘áº¿n máº£ng vÃ  Ä‘á»ƒ chá»‰ sao chÃ©p **8 byte**.

```go
var num [1e6]int

handleNum(&num)

func handleNum(num *[1e6]int) {
    ...
}
```
##  Tá»•ng káº¿t
Váº­y lÃ  sau 1 ngÃ y mÃ¬nh Ä‘Ã£ há»c Ä‘Æ°á»£c:
* Pointers
* Structs
* Arrays

 Náº¿u cÃ³ tháº¯c máº¯c hoáº·c cáº§n giáº£i thÃ­ch rÃµ thÃªm chá»— nÃ o thÃ¬ cÃ¡c báº¡n cÃ³ thá»ƒ comment á»Ÿ dÆ°á»›i.
 CÃ¡m Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo dÃµi bÃ i viáº¿t cá»§a mÃ¬nh. ChÃºc cÃ¡c báº¡n cÃ³ 1 ngÃ y vui váº». Tks', '2023-02-11T12:50:39.000000Z', '2023-02-28T01:41:04.000000Z', '2023-02-11T12:42:20.000000Z'),
	('Äá»«ng dÃ¹ng Heroku triá»ƒn khai app NodeJS ná»¯a! HÃ£y dÃ¹ng ná»n táº£ng nÃ y...', 'Ny0VGEq0JPA', '2', 'unlisted', 'https://images.viblo.asia/914be8e6-d924-46ff-aa32-586ec482d142.png', 'Má»Ÿ Ä‘áº§u
Khi Ä‘á»c tiÃªu Ä‘á» má»i ngÆ°á»i Ä‘á»«ng tiáº¿p nháº­n nÃ³ má»™t cÃ¡ch quÃ¡ nghiÃªm tÃºc, má»¥c Ä‘Ã­ch cá»§a bÃ i viáº¿t nÃ y mÃ¬nh muá»‘n giá»›i thiá»‡u Ä‘áº¿n má»i ngÆ°á»i má»™t ná»n táº£ng ná»¯a cÃ³ kháº£ nÄƒng tÆ°Æ¡ng tá»±, tháº­m chÃ­ hÆ¡n má»™t sá»‘ chá»©c nÄƒng cá»§a Heroku. VÃ  má»™t Ä‘iá»u khÃ´ng kÃ©m quan trá»ng ná»¯a lÃ  ná»n táº£ng nÃ y thÃ¬ miá»…n phÃ­ khi sá»­ dá»¥ng. KhÃ´ng tá»‘n thÃªm thá»i gian lan man ná»¯a, ngay sau Ä‘Ã¢y mÃ¬nh sáº½ giá»›i thiá»‡u vá»›i má»i ngÆ°á»i ná»n táº£ng nÃ y vÃ  ...', '# Má»Ÿ Ä‘áº§u
Khi Ä‘á»c tiÃªu Ä‘á» má»i ngÆ°á»i Ä‘á»«ng tiáº¿p nháº­n nÃ³ má»™t cÃ¡ch quÃ¡ nghiÃªm tÃºc, má»¥c Ä‘Ã­ch cá»§a bÃ i viáº¿t nÃ y mÃ¬nh muá»‘n giá»›i thiá»‡u Ä‘áº¿n má»i ngÆ°á»i má»™t ná»n táº£ng ná»¯a cÃ³ kháº£ nÄƒng tÆ°Æ¡ng tá»±, tháº­m chÃ­ hÆ¡n má»™t sá»‘ chá»©c nÄƒng cá»§a Heroku. VÃ  má»™t Ä‘iá»u khÃ´ng kÃ©m quan trá»ng ná»¯a lÃ  ná»n táº£ng nÃ y thÃ¬ miá»…n phÃ­ khi sá»­ dá»¥ng. KhÃ´ng tá»‘n thÃªm thá»i gian lan man ná»¯a, ngay sau Ä‘Ã¢y mÃ¬nh sáº½ giá»›i thiá»‡u vá»›i má»i ngÆ°á»i ná»n táº£ng nÃ y vÃ  hÆ°á»›ng dáº«n cÃ¡ch triá»ƒn khai **App NodeJS** lÃªn trÃªn ná»n táº£ng nÃ y.

# Bizfly App Engine lÃ  gÃ¬?
![image.png](https://images.viblo.asia/acd6d2be-ab95-43a1-a70a-662cec82fcac.png)

**Bizfly App Engine** lÃ  ná»n táº£ng mÃ¬nh vÃ  team má»›i phÃ¡t triá»ƒn trong thá»i gian gáº§n Ä‘Ã¢y, ná»n táº£ng nÃ y cho phÃ©p báº¡n triá»ƒn khai cÃ¡c á»©ng dá»¥ng Ä‘Æ°á»£c viáº¿t báº±ng nhiá»u ngÃ´n ngá»¯ khÃ¡c nhau nhÆ°: Python, Golang, JavaScript, Ruby, C#, Java,... má»™t cÃ¡ch nhanh chÃ³ng, trung bÃ¬nh chá»‰ máº¥t vÃ i phÃºt Ä‘á»ƒ triá»ƒn khai. Há»‡ thá»‘ng sáº½ tá»± nháº­n diá»‡n ngÃ´n ngá»¯ vÃ  tiáº¿n hÃ nh xÃ¢y dá»±ng cho phÃ¹ há»£p.

Ná»n táº£ng nÃ y cÃ²n giÃºp Ä‘Æ¡n giáº£n hÃ³a quÃ¡ trÃ¬nh váº­n hÃ nh á»©ng dá»¥ng nhÆ°: cáº­p nháº­t phiÃªn báº£n má»›i, restart, stop, rollback,...

Hy vá»ng má»i ngÆ°á»i sáº½ thÃ­ch sáº£n pháº©m nÃ y vÃ  sá»­ dá»¥ng thÆ°á»ng xuyÃªn!

Document sáº£n pháº©m: https://docs.bizflycloud.vn/app_engine/


# Chuáº©n bá»‹

## Chuáº©n bá»‹ á»©ng dá»¥ng
Äá»ƒ triá»ƒn khai á»©ng dá»¥ng thÃ¬ cháº¯c cháº¯n cÃ¡c báº¡n cáº§n pháº£i cÃ³ Source Code rá»“i Ä‘Ãºng khÃ´ng nÃ o ğŸ˜. CÃ¡c báº¡n cÃ³ thá»ƒ dÃ¹ng source code cá»§a mÃ¬nh luÃ´n hoáº·c cÃ¹ng code mÃ  báº¡n cÃ³ sáºµn.

Code trong bÃ i nÃ y mÃ¬nh sáº½ dÃ¹ng á»Ÿ Ä‘Ã¢y: https://github.com/bizflycloud/app-engine-nodejs-sample

CÃ¹ng xem qua má»™t chÃºt vá» code nÃ y. Ná»™i dung file **server.js**:
```javascript
const express = require(''express'');
const port = process.env.PORT || 8080;

const app = express();

app.get(''/'', (request, response) => {
    response.send(`<!DOCTYPE html>
<html>
  <head>
    <title>BizflyCloud App Engine</title>
  </head>
  <body>
    <img style="display: block; margin-left: auto; margin-right: auto; width: 50%;" src="https://techvccloud.mediacdn.vn/2018/12/5/logofacebook-1543996079655547158445-crop-1543996085792308014951.png"></img>
  </body>
</html>`);
});

app.listen(port);
```

á»¨ng dá»¥ng nÃ y Ä‘Æ¡n giáº£n má»Ÿ má»™t web app láº¯ng nghe táº¡i cá»•ng cÃ³ giÃ¡ trá»‹ lÃ  giÃ¡ trá»‹ cá»§a biáº¿n mÃ´i trÆ°á»ng **PORT**, náº¿u biáº¿n nÃ y khÃ´ng Ä‘Æ°á»£c khai bÃ¡o sáº½ sá»­ dá»¥ng cá»•ng 8080.

Khi ngÆ°á»i dÃ¹ng truy cáº­p vÃ o á»©ng dá»¥ng nÃ y, server sáº½ tráº£ vá» 1 Ä‘oáº¡n HTML Ä‘á»ƒ trÃ¬nh duyá»‡t ngÆ°á»i dÃ¹ng hiá»ƒn thá»‹ ra.

Tiáº¿p theo lÃ  ná»™i dung cá»§a **packages.json**. Trong nÃ y ta sáº½ Ä‘á»‹nh nghÄ©a cÃ¡c **dependencies** vÃ  **scripts** láº§n lÆ°á»£t lÃ  nhá»¯ng thÃ nh pháº§n phá»¥ thuá»™c vÃ  cÃ¢u lá»‡nh mÃ  á»©ng dá»¥ng sáº½ cháº¡y.
```json
{
    "author": "BizflyCloud App Engine",
    "dependencies": {
        "express": "^4.18.1"
    },
    "description": "Sample Node.js Application using NPM",
    "license": "Apache-2.0",
    "name": "sample",
    "repository": {
        "type": "git",
        "url": "https://github.com/paketo-buildpacks/samples"
    },
    "scripts": {
        "start": "echo \"start\" && node server.js"
    },
    "version": "0.0.0"
}
```

NhÆ° váº­y báº¡n Ä‘Ã£ hiá»ƒu á»©ng dá»¥ng nÃ y lÃ m gÃ¬ rá»“i Ä‘Ãºng khÃ´ng, giá» chÃºng ta sáº½ Ä‘áº¿n giai Ä‘oáº¡n triá»ƒn khai.

## Chuáº©n bá»‹ tÃ i khoáº£n

Äá»ƒ triá»ƒn khai á»©ng dá»¥ng lÃªn App Engine cá»§a Bizflycloud thÃ¬ báº¡n cáº§n pháº£i cÃ³ tÃ i khoáº£n Ä‘Ã£, viá»‡c nÃ y khÃ´ng quÃ¡ khÃ³ khÄƒn, má»i ngÆ°á»i tá»± thá»±c hiá»‡n nhÃ©:

ÄÄƒng kÃ½ tÃ i khoáº£n á»Ÿ Ä‘Ã¢y nhÃ©: https://manage.bizflycloud.vn/register
![image.png](https://images.viblo.asia/e38e87e4-97d3-4a09-acb2-625eb31e2a35.png)

Sau khi Ä‘Ã£ cÃ³ tÃ i khoáº£n báº¡n hÃ£y tiáº¿n hÃ nh Ä‘Äƒng nháº­p, báº¡n sáº½ tháº¥y dá»‹ch vá»¥ App Engine á»Ÿ thanh menu bÃªn trÃ¡i
![image.png](https://images.viblo.asia/76e2afe7-46e5-431e-9ac2-260c83e2b1e7.png)

# Triá»ƒn khai á»©ng dá»¥ng
## Táº¡o App vÃ  Service

CÃ¡c á»©ng dá»¥ng cá»§a cÃ¡c báº¡n triá»ƒn khai trÃªn **App Engine** mÃ  liÃªn quan Ä‘áº¿n nhau cÃ³ thá»ƒ Ä‘Æ°á»£c gá»™p vÃ o cÃ¹ng chung má»™t **App**. Váº­y nÃªn Ä‘áº§u tiÃªn ta cáº§n táº¡o **App** trÆ°á»›c. á» Ä‘Ã¢y mÃ¬nh sáº½ táº¡o app cÃ³ tÃªn **example**. Sau khi táº¡o xong ta sáº½ Ä‘Æ°á»£c Ä‘áº©y vÃ o trong app Ä‘Ã³, á»Ÿ Ä‘Ã¢y mÃ¬nh tiáº¿p tá»¥c chá»n **táº¡o Service** Ä‘á»ƒ táº¡o thÃªm service má»›i phá»¥c vá»¥ viá»‡c triá»ƒn khai **App NodeJS**
![image.png](https://images.viblo.asia/c64bb92f-03a8-4d6c-a3f7-c9cd56d708c1.png)

Trong pháº§n táº¡o service mÃ¬nh sáº½ nháº­p vÃ o cÃ¡c thÃ´ng tin nhÆ° á»Ÿ GIF dÆ°á»›i:

![Screencast-2023-02-11-160238.gif](https://images.viblo.asia/6488884d-8fee-46b8-b24c-c73def55954d.gif)

* **TÃªn service**: ÄÃ¢y lÃ  tÃªn cá»§a service báº¡n muá»‘n triá»ƒn khai, tÃªn nÃ y sáº½ Ä‘Æ°á»£c chá»n lÃ m path khi báº¡n táº¡o tá»« service thá»© 2 trá»Ÿ Ä‘i.
* **Location**: Vá»‹ trÃ­ á»©ng dá»¥ng báº¡n sáº½ Ä‘Æ°á»£c triá»ƒn khai, nÃªn chá»n vá»‹ trÃ­ gáº§n báº¡n nháº¥t Ä‘á»ƒ giáº£m Ä‘á»™ trá»…. (Hiá»‡n táº¡i bÃªn mÃ¬nh Ä‘ang há»— trá»£ HÃ  Ná»™i thÃ´i, tÆ°Æ¡ng lai sáº½ nhiá»u vá»‹ trÃ­ hÆ¡n ğŸ˜)

Trong pháº§n thÃ´ng tin triá»ƒn khai, pháº§n nÃ y sáº½ chÆ°a cÃ¡c thÃ´ng tin vá» nguá»“n á»©ng dá»¥ng báº¡n sáº½ triá»ƒn khai.
* **Soure type:** Báº¡n cÃ³ thá»ƒ lá»±a chá»n cÃ¡ch thá»©c triá»ƒn khai báº±ng image hoáº·c source code. MÃ¬nh cÃ³ source code Ä‘Æ°á»£c lÆ°u trÃªn git nÃªn sáº½ chá»n **GIT**
* **Source URL**: ÄÆ°á»ng dáº«n Ä‘áº¿n repo cá»§a báº¡n dáº¡ng **http:// hoáº·c https://** nhÃ©.
* **Branch:** NhÃ¡nh mÃ  báº¡n muá»‘n triá»ƒn khai code.
* **Cháº¿ Ä‘á»™ Private**: DÃ nh cho cÃ¡c repo dáº¡ng private. Repo mÃ¬nh Ä‘ang triá»ƒn khai lÃ  Public nÃªn khÃ´ng cáº§n tick.

Cáº¥u hÃ¬nh á»©ng dá»¥ng lÃ  má»¥c chá»©a cÃ¡c thÃ´ng tin vá» háº¡ táº§ng vÃ  network báº¡n sáº½ triá»ƒn khai:
* **Cáº¥u hÃ¬nh:** ÄÃ¢y lÃ  cáº¥u hÃ¬nh cá»§a má»—i container cháº¡y á»©ng dá»¥ng cá»§a báº¡n.
* **Replicas:** Sá»‘ báº£n sao cháº¡y vá»›i cáº¥u hÃ¬nh bÃªn trÃªn.
* **Port:** Cá»•ng mÃ  dá»‹ch vá»¥ báº¡n Ä‘ang cháº¡y
* **Loáº¡i á»©ng dá»¥ng:** Má»—i loáº¡i á»©ng dá»¥ng sáº½ cÃ³ cÃ¡ch thá»©c Ä‘Ã³ng gÃ³i khÃ¡c nhau, hÃ£y chá»n Ä‘Ãºng loáº¡i á»©ng dá»¥ng báº¡n muá»‘n triá»ƒn khai. Äá»ƒ hiá»ƒu tá»«ng loáº¡i á»©ng dá»¥ng báº¡n cÃ³p thá»ƒ trá» vÃ o tá»«ng nÃºt Ä‘Ã³.

Sau khi Ä‘Ã£ nháº­p xong Ä‘áº§y Ä‘á»§ báº¡n chá»‰ cáº§n áº¥n XÃ¡c nháº­n thÃ´ng tin Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng ngay láº­p tá»©c.

## Káº¿t quáº£

Sau khi triá»ƒn khai xong há»‡ thá»‘ng sáº½ tráº£ vá» cho báº¡n má»™t URL Ä‘á»ƒ truy cáº­p dá»‹ch vá»¥ nhÆ° hÃ¬nh.

Báº¡n cÃ³ thá»ƒ truy cáº­p thá»­ táº¡i Ä‘Ã¢y: https://example-nnwpu.appengine.bfcplatform.vn/nodejs-npm

![image.png](https://images.viblo.asia/c2fe5abc-e0be-460c-8a13-8fc26b0afa36.png)

# CÃ¡c thao tÃ¡c váº­n hÃ nh
## GiÃ¡m sÃ¡t - Monitoring
Khi cÃ³ há»‡ thá»‘ng giÃ¡m sÃ¡t báº¡n cÃ³ thá»ƒ dá»… dÃ ng phÃ¡t hiá»‡n sá»± báº¥t thÆ°á»ng cá»§a á»©ng dá»¥ng má»™t cÃ¡ch nhanh chÃ³ng.

Há»‡ thá»‘ng giÃ¡m sÃ¡t cÃ¡c thÃ´ng sá»‘ háº¡ táº§ng quan trá»ng nhÆ° **CPU, Memory, Network vÃ  Disk I/O.**

![monitor-svc.gif](https://images.viblo.asia/e75ec14f-c8ab-41b7-af9d-0e60503809a9.gif)

## Nháº­t kÃ½ hoáº¡t Ä‘á»™ng - Logs
Logs Ä‘Æ°á»£c chia lÃ m 2 loáº¡i: **Runtime Logs** vÃ  **Build Logs**
* Runtime Logs sáº½ chá»©a logs trong quÃ¡ trÃ¬nh hoáº¡t Ä‘á»™ng
* Build Logs sáº½ chá»©a logs trong quÃ¡ trÃ¬nh Ä‘Ã³ng gÃ³i - xÃ¢y dá»±ng á»©ng dá»¥ng

![image.png](https://images.viblo.asia/e0dfd785-77dd-447e-8076-6b2ec00f2c4e.png)

## Tá»± Ä‘á»™ng má»Ÿ rá»™ng - AutoScale
ÄÃ¢y lÃ  tÃ­nh nÄƒng giÃºp á»©ng dá»¥ng cá»§a báº¡n tá»± Ä‘á»™ng má»Ÿ rá»™ng háº¡ táº§ng khi bá»‹ quÃ¡ táº£i. Báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh sá»‘ báº£n sao tá»‘i Ä‘a muá»‘n tá»± Ä‘á»™ng má»Ÿ rá»™ng vÃ  má»©c Ä‘á»™ pháº§n trÄƒm CPU mÃ  tÃ­nh nÄƒng nÃ y sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t.
![image.png](https://images.viblo.asia/890662f7-a359-41e9-bd25-92f3623989ae.png)

# Káº¿t
CÃ¡m Æ¡n má»i ngÆ°á»i Ä‘Ã£ Ä‘á»c Ä‘áº¿n táº­n Ä‘Ã¢y, hy vá»ng má»i ngÆ°á»i sáº½ dÃ nh thá»i gian Ä‘á»ƒ tráº£i nghiá»‡m sáº£n pháº©m nÃ y! Náº¿u cÃ³ Ä‘Ã³ng gÃ³p gÃ¬ hay muá»‘n tÃ­nh nÄƒng nÃ o phÃ¡t triá»ƒn trong tÆ°Æ¡ng lai, báº¡n cÃ³ thá»ƒ comment xuá»‘ng dÆ°á»›i bÃ i viáº¿t nÃ y hoáº·c nháº¯n trá»±c tiáº¿p cho mÃ¬nh qua Telegram @HoangViet12. Má»i pháº£n há»“i cá»§a cÃ¡c báº¡n Ä‘á»u ráº¥t quÃ½ giÃ¡ Ä‘á»‘i vá»›i mÃ¬nh.

Náº¿u tháº¥y bÃ i viáº¿t nÃ y hay hÃ£y Up Vote vÃ  Follow mÃ¬nh Ä‘á»ƒ tiáº¿p tá»¥c xem nhiá»u bÃ i viáº¿t vá» Bizfly App Engine ná»¯a nhÃ©! ğŸ‘‹ğŸ‘‹ğŸ‘‹

BÃ i viáº¿t nÃ y náº±m trong Series [BizflyCloud App Engine Tutorials](https://viblo.asia/s/bizflycloud-app-engine-tutorials-r1QLxnGr4Aw)', '2023-02-11T09:51:36.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-11T09:45:24.000000Z'),
	('Tá»•ng quan vá» thuáº­t toÃ¡n vÃ  cáº¥u trÃºc dá»¯ liá»‡u', 'W13VMgQWJY7', '3', 'unlisted', '', 'TrÆ°á»›c khi Ä‘i chi tiáº¿t vÃ o cÃ¡c ná»™i dung chi tiáº¿t tiáº¿p theo cá»§a khÃ³a há»c, ta xem xÃ©t vÃ­ dá»¥ sau:

Question :
>- Giáº£ sá»­ ta cÃ³ má»™t danh sÃ¡ch cÃ¡c cáº·p thÃ´ng tin: (há» vÃ  tÃªn, sá»‘ Ä‘iá»‡n thoáº¡i) dÆ°á»›i dáº¡ng: (t1,s1),(t2,s2),...,(tn,sn).
- YÃªu cáº§u Ä‘áº·t ra lÃ  hÃ£y viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh cho phÃ©p in ra "sá»‘ Ä‘iá»‡n thoáº¡i" khi nháº­p "há» vÃ 
tÃªn" cá»§a má»™t ngÆ°á»i báº¥t ká»³.

Äá»ƒ giáº£i bÃ i toÃ¡n nÃ y, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u cÃ¡...', '<p>TrÆ°á»›c khi Ä‘i chi tiáº¿t vÃ o cÃ¡c ná»™i dung chi tiáº¿t tiáº¿p theo cá»§a khÃ³a há»c, ta xem xÃ©t vÃ­ dá»¥ sau:</p>

> Question :
>- Giáº£ sá»­ ta cÃ³ má»™t danh sÃ¡ch cÃ¡c cáº·p thÃ´ng tin: (há» vÃ  tÃªn, sá»‘ Ä‘iá»‡n thoáº¡i) dÆ°á»›i dáº¡ng: (t1,s1),(t2,s2),...,(tn,sn).
> - YÃªu cáº§u Ä‘áº·t ra lÃ  hÃ£y viáº¿t má»™t chÆ°Æ¡ng trÃ¬nh cho phÃ©p in ra "sá»‘ Ä‘iá»‡n thoáº¡i" khi nháº­p "há» vÃ 
> tÃªn" cá»§a má»™t ngÆ°á»i báº¥t ká»³.

<p>Äá»ƒ giáº£i bÃ i toÃ¡n nÃ y, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u cÃ¡ch thá»©c nhÆ° sau:

 * Má»™t cÃ¡ch Ä‘Æ¡n giáº£n vÃ  trá»±c quan nháº¥t mÃ  chÃºng ta cÃ³ thá»ƒ nghÄ© Ä‘áº¿n Ä‘Ã³ lÃ  duyá»‡t láº§n lÆ°á»£t danh sÃ¡ch Ä‘Ã£ cho theo tÃªn t1,t2,...tn cho tá»›i khi tÃ¬m tháº¥y tÃªn Ä‘Ã£ chá»‰ Ä‘á»‹nh, thÃ¬ sáº½ tiáº¿n hÃ nh Ä‘á»‘i chiáº¿u Ä‘á»ƒ láº¥y ra sá»‘ Ä‘iá»‡n thoáº¡i tÆ°Æ¡ng á»©ng cá»§a ngÆ°á»i nÃ y. Tuy nhiÃªn, Ä‘á»ƒ duyá»‡t qua toÃ n bá»™ má»™t danh sÃ¡ch ráº¥t lá»›n sáº½ tá»‘n khÃ¡ nhiá»u thá»i gian. HÃ£y thá»­ tÆ°á»Ÿng tÆ°á»£ng Ä‘Ã¢y lÃ  chá»©c nÄƒng cá»§a má»™t chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m sá»‘ cá»§a tá»•ng Ä‘Ã i Ä‘iá»‡n thoáº¡i thÃ¬ nÃ³ sáº½ cá»±c ká»³ cháº­m, nháº¥t lÃ  khi pháº£i nháº­n Ä‘áº¿n hÃ ng triá»‡u truy váº¥n vÃ o cÃ¹ng má»™t thá»i Ä‘iá»ƒm thÃ¬ rÃµ rÃ ng Ä‘iá»u nÃ y sáº½ lÃ m táº¯c ngháº½n dá»‹ch vá»¥.
 * Má»™t cÃ¡ch nhanh hÆ¡n, náº¿u trÆ°á»›c Ä‘Ã³ danh má»¥c Ä‘iá»‡n thoáº¡i Ä‘Ã£ Ä‘Æ°á»£c sáº¯p xáº¿p theo thá»© tá»± tá»« Ä‘iá»ƒn (dictionary order) Ä‘á»‘i vá»›i há» vÃ  tÃªn, thÃ¬ chÃºng ta cÃ³ thá»ƒ Ã¡p dá»¥ng má»™t giáº£i thuáº­t tÃ¬m kiáº¿m khÃ¡c tá»‘t hÆ¡n, nhÆ° ta váº«n thÆ°á»ng lÃ m khi tra tá»« Ä‘iá»ƒn. Khi báº¡n tra tá»« Ä‘iá»ƒn, rÃµ rÃ ng báº¡n sáº½ khÃ´ng láº­t tá»«ng trang pháº£i khÃ´ng? Báº¡n sáº½ lÃ m gÃ¬? NhÆ° tÃ´i, tÃ´i sáº½ thÆ°á»ng lÃ m nhÆ° tháº¿ nÃ y: Láº­t Ä‘áº¿n vá»‹ trÃ­ nÃ o Ä‘Ã³ cá»§a tá»« Ä‘iá»ƒn, nghÄ© xem tá»« mÃ¬nh cáº§n tÃ¬m lÃ  trÆ°á»›c hoáº·c sau trang nÃ y, sau Ä‘Ã³ sáº½ láº­t tiáº¿p ngáº«u nhiÃªn Ä‘áº¿n phÃ­a mÃ  tÃ´i nghÄ© nÃ³ sáº½ á»Ÿ, rá»“i tiáº¿p tá»¥c cÃ¡c bÆ°á»›c nhÆ° vá»«a lÃ m cho tá»›i khi tÃ¬m Ä‘Æ°á»£c tá»« mong muá»‘n. RÃµ rÃ ng, dÃ¹ chÆ°a hiá»ƒu thuáº­t toÃ¡n lÃ  gÃ¬, báº¡n cÅ©ng cÃ³ thá»ƒ dá»… dÃ ng tháº¥y cÃ¡ch nÃ y vá» máº·t trá»±c quan Ä‘Ã£ tá»‘t hÆ¡n cÃ¡ch phÃ­a trÆ°á»›c ráº¥t nhiá»u pháº£i khÃ´ng?
  * Hoáº·c, cáº£i tiáº¿n hÆ¡n ná»¯a, trong tá»« Ä‘iá»ƒn cÃ²n cÃ³ thÃªm má»™t báº£ng má»¥c lá»¥c Ä‘á»ƒ chá»‰ dáº«n theo chá»¯ cÃ¡i Ä‘áº§u tiÃªn cá»§a "Há» vÃ  tÃªn",  thÃ¬ cháº¯c ráº±ng khi tÃ¬m sá»‘ Ä‘iá»‡n thoáº¡i cá»§a "Nguyá»…n VÄƒn Long" ta sáº½ dá»… dÃ ng bá» qua Ä‘Æ°á»£c cÃ¡c tÃªn khÃ¡c mÃ  chá»¯ Ä‘áº§u khÃ´ng pháº£i lÃ  chá»¯ Ng. Nhanh hÆ¡n ráº¥t nhiá»u ná»¯a pháº£i khÃ´ng?
> Note!!
>
> Trong vÃ­ dá»¥ trÃªn: Danh sÃ¡ch Ä‘iá»‡n thoáº¡i lÃ  má»™t dáº¡ng dá»¯ liá»‡u nÃ³ sáº½ Ä‘Æ°á»£c tá»• chá»©c theo nhiá»u cÃ¡ch khÃ¡c nhau cho tá»«ng trÆ°á»ng há»£p:
> * danh sÃ¡ch thÃ´ng thÆ°á»ng;
> * danh sÃ¡ch sáº¯p xáº¿p theo thÃº tá»± tá»« Ä‘iá»ƒn;
> * danh sÃ¡ch Ä‘Æ°á»£c sáº¯p xáº¿p vÃ  chá»‰ má»¥c cÃ³ má»¥c lá»¥c.
>
> ÄÃ¢y lÃ  cÃ¡c "cáº¥u trÃºc dá»¯ liá»‡u". CÃ²n cÃ¡c cÃ¡ch thá»©c thá»±c hiá»‡n viá»‡c tra cá»©u theo tá»«ng dáº¡ng "cáº¥u trÃºc dá»¯ liá»‡u" Ä‘Æ°á»£c gá»i lÃ  "thuáº­t toÃ¡n" hay "giáº£i thuáº­t".

#### Thuáº­t toÃ¡n vÃ  cáº¥u trÃºc dá»¯ liá»‡u
   Tá»« vÃ­ dá»¥ trÃªn ta cÃ³ thá»ƒ tháº¥y giá»¯a cáº¥u trÃºc dá»¯ liá»‡u vÃ  giáº£i thuáº­t cÃ³ má»‘i quan há»‡ máº­t thiáº¿t. CÃ³ thá»ƒ coi chÃºng nhÆ° hÃ¬nh vá»›i bÃ³ng. KhÃ´ng thá»ƒ nÃ³i tá»›i cÃ¡i nÃ y mÃ  khÃ´ng nháº¯c tá»›i cÃ¡i kia. Niklaus Wirth Ä‘Ã£ Ä‘Æ°a ra má»™t cÃ´ng thá»©c thá»ƒ hiá»‡n khÃ¡ rÃµ vai trÃ² vÃ  má»‘i liÃªn há»‡ giá»¯a cáº¥u trÃºc dá»¯ liá»‡u vÃ  thuáº­t toÃ¡n:
> Note!!
>
> <div align="center">CHÆ¯Æ NG TRÃŒNH = THUáº¬T TOÃN + Cáº¤U TRÃšC Dá»® LIá»†U
>
> Programs = Algorithms + Data structures</div>

Má»™t thuáº­t toÃ¡n giáº£i bÃ i toÃ¡n bao giá» cÅ©ng thao tÃ¡c trÃªn má»™t cÃ¡ch tá»• chá»©c dá»¯ liá»‡u (cáº¥u trÃºc dá»¯ liá»‡u) cá»¥ thá»ƒ vÃ  cÃ¡c thao tÃ¡c pháº£i Ä‘Æ°á»£c cáº¥u trÃºc dá»¯ liá»‡u Ä‘Ã³ há»— trá»£.
> Tip&Trick
>
> Sau nÃ y R. Kowalski cÃ²n phÃ¢n tÃ­ch chi tiáº¿t hÆ¡n cÃ´ng thá»©c trÃªn báº±ng cÃ¡ch Ä‘Æ°a ra cÃ´ng thá»©c: "Algorithms = Logic + Control", vá»›i Ã½ nghÄ©a thuáº­t toÃ¡n gá»“m hai thÃ nh pháº§n: thÃ nh pháº§n logic xÃ¡c Ä‘á»‹nh tri thá»©c Ä‘Æ°á»£c dÃ¹ng trong viá»‡c giáº£i bÃ i toÃ¡n vÃ  thÃ nh pháº§n Ä‘iá»u khiá»ƒn xÃ¡c Ä‘á»‹nh cÃ¡c chiáº¿n lÆ°á»£c giáº£i toÃ¡n theo tri thá»©c Ä‘Æ°á»£c sá»­ dá»¥ng. ThÃ nh pháº§n logic xÃ¡c Ä‘á»‹nh Ã½ nghÄ©a cá»§a thuáº­t toÃ¡n, cÃ²n thÃ nh pháº§n Ä‘iá»u khiá»ƒn liÃªn quan Ä‘áº¿n tÃ­nh hiá»‡u quáº£ cá»§a thuáº­t toÃ¡n. TÃ­nh hiá»‡u quáº£ cÃ³ thá»ƒ Ä‘Æ°á»£c cáº£i thiá»‡n báº±ng cÃ¡ch cáº£i thiá»‡n pháº§n Ä‘iá»u khiá»ƒn mÃ  khÃ´ng thay Ä‘á»•i logic cá»§a thuáº­t toÃ¡n.

Khi tá»• chá»©c dá»¯ liá»‡u cho bÃ i toÃ¡n thay Ä‘á»•i thÃ¬ thuáº­t toÃ¡n cÅ©ng pháº£i thay Ä‘á»•i theo Ä‘á»ƒ phÃ¹ há»£p vá»›i cÃ¡ch tá»• chá»©c dá»¯ liá»‡u má»›i. Cháº³ng háº¡n nhÆ° vÃ­ dá»¥ trÃªn, má»™t danh sÃ¡ch báº¥t ká»³ sáº½ pháº£i xá»­ lÃ½ khÃ¡c má»™t danh sÃ¡ch cÃ³ thá»© tá»± vÃ  má»™t danh sÃ¡ch cÃ³ thá»© tá»± láº¡i khÃ¡c má»™t danh sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c Ä‘Ã¡nh chá»‰ sá»‘. Trong quÃ¡ trÃ¬nh xÃ¢y dá»±ng, hoÃ n thiá»‡n thuáº­t toÃ¡n cÅ©ng sáº½ gá»£i má»Ÿ cho chÃºng ta cÃ¡ch tá»• chá»©c dá»¯ liá»‡u phÃ¹ há»£p vá»›i thuáº­t toÃ¡n vÃ  tiáº¿t kiá»‡m tÃ i nguyÃªn cá»§a há»‡ thá»‘ng. QuÃ¡ trÃ¬nh giáº£i má»™t bÃ i toÃ¡n trÃªn mÃ¡y tÃ­nh lÃ  má»™t quÃ¡ trÃ¬nh hoÃ n thiá»‡n dáº§n cÃ¡ch tá»• chá»©c dá»¯ liá»‡u vÃ  thuáº­t toÃ¡n Ä‘á»ƒ tÄƒng hiá»‡u quáº£ cho nÃ³.

CÃ³ thá»ƒ, Ä‘Ã´i lÃºc, khi nÃ³i tá»›i viá»‡c giáº£i quyáº¿t bÃ i toÃ¡n trÃªn mÃ¡y tÃ­nh, chÃºng ta chá»‰ chÃº Ã½ Ä‘áº¿n giáº£i thuáº­t hay thuáº­t toÃ¡n (algorithms). NhÆ°ng, xÃ©t cho cÃ¹ng, giáº£i thuáº­t chá»‰ pháº£n Ã¡nh cÃ¡c phÃ©p xá»­ lÃ½, cÃ²n Ä‘á»‘i tÆ°á»£ng Ä‘á»ƒ xá»­ lÃ½ trÃªn mÃ¡y tÃ­nh Ä‘iá»‡n tá»­, chÃ­nh lÃ  dá»¯ liá»‡u (data) chÃºng biá»ƒu diá»…n cÃ¡c thÃ´ng tin cáº§n thiáº¿t cho bÃ i toÃ¡n: cÃ¡c dá»¯ kiá»‡n Ä‘Æ°a vÃ o, cÃ¡c káº¿t quáº£ trung gian... KhÃ´ng thá»ƒ nÃ³i tá»›i giáº£i thuáº­t mÃ  khÃ´ng nghÄ© tá»›i: giáº£i thuáº­t Ä‘Ã³ Ä‘Æ°á»£c tÃ¡c Ä‘á»™ng trÃªn dá»¯ liá»‡u nÃ o, cÃ²n khi xÃ©t tá»›i dá»¯ liá»‡u thÃ¬ cÅ©ng pháº£i hiá»ƒu: dá»¯ liá»‡u áº¥y cáº§n Ä‘Æ°á»£c tÃ¡c Ä‘á»™ng giáº£i thuáº­t gÃ¬ Ä‘á»ƒ Ä‘Æ°a tá»›i káº¿t quáº£ mong muá»‘n. Báº£n thÃ¢n cÃ¡c pháº§n tá»­ cá»§a dá»¯ liá»‡u thÆ°á»ng cÃ³ má»‘i quan há»‡ vá»›i nhau, ngoÃ i ra náº¿u láº¡i biáº¿t "tá»• chá»©c" theo cÃ¡c cáº¥u trÃºc thÃ­ch há»£p thÃ¬ viá»‡c thá»±c hiá»‡n cÃ¡c phÃ©p xá»­ lÃ½ trÃªn cÃ¡c dá»¯ liá»‡u sáº½ cÃ ng thuáº­n lá»£i hÆ¡n, Ä‘áº¡t hiá»‡u quáº£ cao hÆ¡n. Vá»›i má»™t cáº¥u trÃºc dá»¯ liá»‡u Ä‘Ã£ chá»n ta sáº½ cÃ³ giáº£i thuáº­t xá»­ lÃ½ tÆ°Æ¡ng á»©ng. Cáº¥u trÃºc dá»¯ liá»‡u thay Ä‘á»•i, giáº£i thuáº­t cÅ©ng thay Ä‘á»•i theo.
> Note
>
> TÃ³m láº¡i, Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c bÃ i toÃ¡n trong láº­p trÃ¬nh chÃºng ta cáº§n sá»­ dá»¥ng cÃ¡c thuáº­t toÃ¡n Ä‘á»ƒ tÃ¡c Ä‘á»™ng lÃªn cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u phÃ¹ há»£p. Thuáº­t toÃ¡n vÃ  cáº¥u trÃºc dá»¯ liá»‡u lÃ  hai thÃ nh pháº§n khÃ´ng thá»ƒ tÃ¡ch rá»i Ä‘á»ƒ xÃ¢y dá»±ng chÆ°Æ¡ng trÃ¬nh.
> ÄÃ¢y lÃ  trá»ng tÃ¢m cá»§a khoÃ¡ há»c nÃ y!

Trong bÃ i tiáº¿p theo, chÃºng ta sáº½ Ä‘i chi tiáº¿t vá» hai khÃ¡i niá»‡m cáº¥u trÃºc dá»¯ liá»‡u vÃ  thuáº­t toÃ¡n, cÅ©ng nhÆ° cÃ¡c váº¥n Ä‘á» Ä‘á»‘i vá»›i hai Ä‘á»‘i tÆ°á»£ng nÃ y.
</p>', '2023-02-11T08:47:18.000000Z', '2023-02-25T07:16:04.000000Z', '2023-02-11T08:47:49.000000Z'),
	('LÃ m chá»©c nÄƒng Ä‘Äƒng nháº­p báº±ng QR Code giá»‘ng Zalo', 'vlZL99j8LQK', '4', 'unlisted', 'https://images.viblo.asia/8eaec524-5115-448d-9c1b-5eb60af3cc89.png', 'Má»Ÿ Ä‘áº§u
- Má»™t chá»©c nÄƒng khÃ¡ tiá»‡n cho cÃ¡c trÆ°á»ng há»£p quÃªn máº­t kháº©u nhÆ°ng váº«n cÃ²n session trÃªn Ä‘iá»‡n thoáº¡i.
- Vá»›i Ä‘á»©c tÃ­nh thÃ­ch tÃ¬m tÃ²i, nghá»‹p ngá»£m chÃ ng sinh viÃªn tÃªn HoÃ ng Ä‘Ã£ má»Ÿ F12 vÃ  sau Ä‘Ã³ ....... CÃ³ bÃ i viáº¿t nÃ y ğŸ˜‚

1. Luá»“ng hoáº¡t Ä‘á»™ng

1. Äáº§u tiÃªn khi vÃ o trang chá»§ zalo phiÃªn báº£n web id.zalo.me trÃ¬nh duyá»‡t gá»­i má»™t request Ä‘áº¿n https://id.zalo.me/account/authen?a=qr&t=1 vÃ  response tráº£ vá» cÃ³ dáº¡...', '# Má»Ÿ Ä‘áº§u
- Má»™t chá»©c nÄƒng khÃ¡ tiá»‡n cho cÃ¡c trÆ°á»ng há»£p quÃªn máº­t kháº©u nhÆ°ng váº«n cÃ²n session trÃªn Ä‘iá»‡n thoáº¡i.
- Vá»›i Ä‘á»©c tÃ­nh thÃ­ch tÃ¬m tÃ²i, nghá»‹p ngá»£m chÃ ng sinh viÃªn tÃªn HoÃ ng Ä‘Ã£ má»Ÿ F12 vÃ  sau Ä‘Ã³ ....... CÃ³ bÃ i viáº¿t nÃ y ğŸ˜‚

![image.png](https://images.viblo.asia/32c38645-dad1-4b31-8dce-37272b1d44f0.png)

# 1. Luá»“ng hoáº¡t Ä‘á»™ng

![image.png](https://images.viblo.asia/f43663f3-dec4-47fa-94cf-9d69bfba7839.png)

1. Äáº§u tiÃªn khi vÃ o trang chá»§ zalo phiÃªn báº£n web `id.zalo.me` trÃ¬nh duyá»‡t gá»­i má»™t request Ä‘áº¿n `https://id.zalo.me/account/authen?a=qr&t=1` vÃ  response tráº£ vá» cÃ³ dáº¡ng

```
{
    "code": "A", // DÃ¹ng Ä‘á»ƒ nháº­n dáº¡ng trÃ¬nh duyá»‡t Ä‘ang Ä‘Äƒng nháº­p
    "image: "B", // áº¢nh qrcode dÆ°á»›i dáº¡ng base64
    "token": "C" // Ná»™i dung trong QRCode
}
```

>  Váº¥n Ä‘á» Ä‘áº§u tiÃªn: LÃ m sao nháº­n dáº¡ng Ä‘Æ°á»£c trÃ¬nh duyá»‡t Ä‘á»ƒ khi Ä‘iá»‡n thoáº¡i quÃ©t QR Code thÃ nh cÃ´ng mÃ¬nh cÃ²n thá»±c hiá»‡n cÃ¡c thao tÃ¡c nhÆ° xÃ¡c nháº­n thÃ´ng tin, cáº¥p token vÃ  chuyá»ƒn hÆ°á»›ng nÃ³ Ä‘áº¿n trang chá»§.
>

2. Tiáº¿p theo trÃ¬nh duyá»‡t thá»±c hiá»‡n request thá»© 2 Ä‘áº¿n `https://id.zalo.me/account/authen?a=qr&t=2` vá»›i `code` gá»­i kÃ¨m trong body.

![image.png](https://images.viblo.asia/e8b73168-ee92-469a-b78c-aaa7cce14cb5.png)

Äiá»ƒm khÃ¡ thÃº vá»‹ request nÃ y sáº½ mÃ£i á»Ÿ tráº¡ng thÃ¡i `pending`. NÃ³ chá»‰ success khi cÃ³ ngÆ°á»i quÃ©t mÃ£ QR Code báº±ng á»©ng dá»¥ng zalo hoáº·c request timeout.

> Äáº¿n Ä‘Ã¢y má»i chuyá»‡n Ä‘Ã£ sÃ¡ng tá», zalo dá»±a vÃ o "code"  Ä‘á»ƒ cáº¥p mÃ£ nháº­n diá»‡n cho trÃ¬nh duyá»‡t.

3. Khi ngÆ°á»i dÃ¹ng quÃ©t QR Code trong á»©ng dá»¥ng, app sáº½ gá»­i request lÃªn zalo Ä‘á»ƒ xÃ¡c nháº­n. Náº¿u thÃ nh cÃ´ng thÃ¬ request á»Ÿ bÆ°á»›c 2 nÃ o cÃ³ `code` tÆ°Æ¡ng á»©ng vá»›i `token` sáº½ tráº£ vá» dá»¯ liá»‡u lÃ  tÃªn ngÆ°á»i dÃ¹ng.

![image.png](https://images.viblo.asia/8eaec524-5115-448d-9c1b-5eb60af3cc89.png)


4. Äáº¿n bÆ°á»›c nÃ y cÃ³ thá»ƒ cho ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p. NhÆ°ng zalo váº«n báº¯t thÃªm 1 bÆ°á»›c xÃ¡c nháº­n trÃªn Ä‘iá»‡n thoáº¡i ná»¯a. TrÃ¬nh duyá»‡t sáº½ hiá»ƒn thá»‹ avatar vÃ  tÃªn ngÆ°á»i dÃ¹ng lÃªn mÃ n hÃ¬nh, vÃ  request tiáº¿p Ä‘áº¿n `https://id.zalo.me/account/authen?a=qr&t=3` kÃ¨m vá»›i `code`

![image.png](https://images.viblo.asia/33e2eb71-62f1-4ecb-9366-bf5f5f190301.png)

> Váº«n giá»‘ng nhÆ° bÆ°á»›c 2 request nÃ y váº«n sáº½ pending cho Ä‘áº¿n khi ngÆ°á»i dÃ¹ng xÃ¡c nháº­n, tá»« chá»‘i trÃªn Ä‘iá»‡n thoáº¡i hoáº·c timeout.
> Náº¿u thÃ nh cÃ´ng ngÆ°á»i dÃ¹ng sáº½ Ä‘Æ°á»£c cáº¥p token vÃ  chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang chá»§

5. Náº¿u quÃ¡ lÃ¢u khÃ´ng Ä‘Æ°á»£c quÃ©t, request á»Ÿ bÆ°á»›c 2, 3 sáº½ timeout vÃ  yÃªu cáº§u ngÆ°á»i dÃ¹ng táº¡o láº¡i mÃ£ má»›i.

# 2. Thá»­ triá»ƒn khai demo nho nhá»
Em sáº½ dÃ¹ng Expressjs Ä‘á»ƒ demo nhá» nhÃ©

1. Äáº§u tiÃªn viáº¿t API sinh `code, qrcode, token`
``` js
app.post("/account/authen", (req,res) => {
  const { t } = req.query;

  if(t == "1"){
    // Sinh code vÃ  token random rá»“i lÆ°u vÃ o database
    // Táº¡o QRCode vá»›i token vá»«a táº¡o dáº¡ng base64
    return res.send({ code, qrcode, token })
  }
})
```

2. Viáº¿t giao diá»‡n vÃ  call API `/account/authen?t=1`  Ä‘á»ƒ render áº£nh QR vÃ  lÆ°u láº¡i `code` (cÃ¡c bÃ¡c tá»± viáº¿t nhÃ©).

3. Tiáº¿p tá»¥c viáº¿t API thá»© 2 phÃ­a backend:

``` js
app.post("/account/authen", (req,res) => {
  const { t } = req.query;

  if(t == "1"){
    // Sinh code vÃ  token random rá»“i lÆ°u vÃ o database
    // Tao QRCode vá»›i token vá»«a táº¡o dáº¡ng base64
    return res.send({ code, qrcode, token })
  }

  if(t == "2"){
   // api nÃ y sáº½ mÃ£i pending cho Ä‘áº¿n khi nháº­n Ä‘Æ°á»£c event confirm cá»§a socket (nhÆ° áº£nh dÆ°á»›i)
    socket.on(`confirm-info-${req.body.code}`, ({ avatar, name}) => {
      return res.send({ avatar, name });
    });
  }
})
```

Sau Ä‘Ã³ request Ä‘áº¿n `/account/authen?t=2` kÃ¨m theo `code`.

> Viá»‡c giao tiáº¿p giá»¯a cÃ¡c controller cÃ³ nhiá»u cÃ¡ch, á»Ÿ Ä‘Ã¢y em dÃ¹ng socket cho nhanh.
>
![image.png](https://images.viblo.asia/2f6920dd-5f15-42ac-a5c8-f75f6c0e99cc.png)

4. Thay vÃ¬ viáº¿t 1 con app Ä‘á»ƒ Ä‘á»c QR rá»“i gá»­i request Ä‘á»ƒ confirm thÃ¬ ta viáº¿t 1 api cho mobile rá»“i giáº£ láº­p Ä‘iá»‡n thoáº¡i quÃ©t báº±ng postman.
``` js
app.post("/mobile/authen", (req, res) => {
  const { t } = req.query

  if(t == 2){
    const { token, jwt } = req.body
    // Check jwt xem cÃ³ há»£p lá»‡ khÃ´ng ?
    // Náº¿u cÃ³ ? query database tÃ¬m code tÆ°Æ¡ng á»©ng vá»›i token
    // Há»£p lá»‡ emit socket
    io.emit(`comfirm-info-${code}`, { name: "BÃ¹i Viá»‡t HoÃ ng" })

    res.send("OK")
  }
})
```

![image.png](https://images.viblo.asia/49df87a7-c9c5-4016-ae39-27cf5ee99d62.png)

5. Request `/account/authen?t=2` nháº­n Ä‘Æ°á»£c event cá»§a socket láº­p tá»©c tráº£ vá» tÃªn cá»§a ngÆ°á»i dÃ¹ng. VÃ  tiáº¿p tá»¥c request Ä‘áº¿n `/account/authen?t=3` Ä‘á»ƒ chá» ngÆ°á»i dÃ¹ng xÃ¡c nháº­n


![image.png](https://images.viblo.asia/1e34e1a4-7de1-44e1-99fb-5b4a9a1c62c4.png)

Cáº­p nháº­t code backend
``` js
app.post("/account/authen", (req,res) => {
  const { t } = req.query;

  if(t == "1"){
    // Sinh code vÃ  token random rá»“i lÆ°u vÃ o database
    // Tao QRCode vá»›i token vá»«a táº¡o dáº¡ng base64
    return res.send({ code, qrcode, token })
  }

  if(t == "2"){
    // api nÃ y sáº½ mÃ£i pending cho Ä‘áº¿n khi nháº­n Ä‘Æ°á»£c event confirm cá»§a socket (nhÆ° áº£nh dÆ°á»›i)
    socket.on(`comfirm-info-${req.body.code}`, ({ avatar, name}) => {
      return res.send({ avatar, name });
    });
  }

  if(t == "3"){
    // api nÃ y sáº½ mÃ£i pending cho Ä‘áº¿n khi nháº­n Ä‘Æ°á»£c event confirm cá»§a socket
    socket.on(`comfirm-auth-${req.body.code}`, () => {
      // sinh token jwt vÃ  tráº£ vá» cho trÃ¬nh duyá»‡t web cÃ³ thá»ƒ Ä‘Äƒng nháº­p
      return res.send({ jwt });
    });
  }
})
```

``` js
app.post("/mobile/authen", (req, res) => {
  const { t } = req.query

  if(t == 2){
    const { token, jwt } = req.body
    // Check jwt xem cÃ³ há»£p lá»‡ khÃ´ng ?
    // Náº¿u cÃ³ ? Query database tÃ¬m code tÆ°Æ¡ng á»©ng vá»›i token
    // Há»£p lá»‡ emit socket vá»›i code vá»«a query
    io.emit(`comfirm-info-${code}`, { name: "BÃ¹i Viá»‡t HoÃ ng" })

    res.send("OK")
  }

  if(t == "3"){
    // Kiá»ƒm tra xÃ¡c thá»±c trÃªn Ä‘t
    io.emit(`comfirm-auth-${code}`, {})
    res.send("OK")
  }
})
```

6. Náº¿u request `/account/authen?t=3`thÃ nh cÃ´ng chuyá»ƒn hÆ°á»›ng ngÆ°á»i dÃ¹ng Ä‘áº¿n trang chá»§
7. Xá»­ lÃ½ timeout ta viáº¿t 1 middleware Ä‘á»ƒ xá»­ lÃ½.

``` js
app.use(function(req, res, next){
  res.setTimeout(30000, function(){
    console.log(''MÃ£ qr háº¿t háº¡n, vui lÃ²ng táº¡o má»›i.'');
      res.status(408).send();
  });

  next();
});
```

# 3. Káº¿t
Náº¿u cÃ³ gÃ¬ sai sÃ³t mong nháº­n Ä‘Æ°á»£c gÃ³p Ã½ tá»« cÃ¡c bÃ¡c ğŸ˜˜ğŸ˜˜', '2023-02-11T08:45:08.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-14T08:08:04.000000Z'),
	('Eloquent Performance: N+1 Query Problems', 'qPoL7zPkJvk', '5', 'unlisted', 'https://images.viblo.asia/b3429388-61a7-492d-ba30-eb5a34d5e06f.png', 'Eloquent performance is typically the main reason for slow Laravel projects. A big part of that is a so-called "N+1 Query Problem". In this article, I will show a few different examples of what to watch out for, including the cases when the problem is "hidden" in unexpected places in the code.

What is the N+1 Query Problem

In short, it''s when Laravel code runs too many database queries. It ha...', 'Eloquent performance is typically the main reason for slow Laravel projects. A big part of that is a so-called "N+1 Query Problem". In this article, I will show a few different examples of what to watch out for, including the cases when the problem is "hidden" in unexpected places in the code.

**What is the N+1 Query Problem**

In short, it''s when Laravel code runs too many database queries. It happens because Eloquent allows developers to write a readable syntax with models, without digging deeper into what "magic" is happening under the hood.

This is not only an Eloquent, or even Laravel, problem: it''s well-known in the dev industry. Why is it called "N+1"? Because, in the Eloquent case, it queries ONE row from the database, and then performs one more query for EACH related record. So, N queries, plus the record itself, total N+1.

To solve it, we need to query the related records upfront, and Eloquent allows us to do that easily, with so-called eager loading. But before we get to the solutions, let''s discuss the problems

**Case**. "Regular" N+1 Query.
This one can be taken directly from the official Laravel documentation:

```php
// app/Models/Book.php:
class Book extends Model
{
    public function author()
    {
        return $this->belongsTo(Author::class);
    }
}

// Then, in some Controller:
$books = Book::all();

foreach ($books as $book) {
    echo $book->author->name;
}
```

What happens here? The $book->author part will perform one extra DB query for every book, to get its author.

Look at the number of queries.
![example1.png](https://images.viblo.asia/b3429388-61a7-492d-ba30-eb5a34d5e06f.png)

As you can see, for 20 books, there are 21 queries, exactly N+1, where N = 20.

And yes, you get it right: if you have 100 books on the list, you will have 101 queries to the DB. Awful performance, although the code seemed "innocent", right.

The fix is to load the relationship upfront, immediately in the Controller, with the eager loading that I mentioned earlier:

```php
// Instead of:
$books = Book::all();

// You should do:
$books = Book::with(''author'')->get();
```

The result is much better - only 2 queries:
![example1-2.png](https://images.viblo.asia/811af405-5a04-44bc-a20d-8904769214f2.png)

When you use eager loading, Eloquent gets all the records into the array and launches ONE query to the related DB table, passing those IDs from that array. And then, whenever you call $book->author, it loads the result from the variable that is already in memory, no need to query the database again.', '2023-02-11T08:08:22.000000Z', '2023-02-28T02:22:05.000000Z', '2023-02-11T08:08:40.000000Z'),
	('Thá»±c hÃ nh vá»›i Domain Driven Design (Pháº§n 2)', 'RQqKLoaN57z', '6', 'unlisted', '', 'ChÃ o má»«ng má»i ngÆ°á»i vá»›i pháº§n 2 cá»§a series thá»±c hÃ nh vá»›i DDD!

Xem láº¡i Pháº§n 1

API Get list meterials

- Controller

MaterialListGetController.php

- Application Service

MaterialListGetApplicationService.php

- Káº¿t quáº£ tráº£ vá» cá»§a handle() mÃ¬nh sáº½ Ä‘á»‹nh nghÄ©a 1 interface chung vá»›i method toArray()
IResult.php

- Infrastructure layer: Get data from DB

MaterialRepository.php

Trong bÃ i viáº¿t láº§n nÃ ...', 'ChÃ o má»«ng má»i ngÆ°á»i vá»›i pháº§n 2 cá»§a series thá»±c hÃ nh vá»›i DDD!

[Xem láº¡i Pháº§n 1](https://viblo.asia/p/thuc-hanh-voi-domain-driven-design-phan-1-YWOZrVJPZQ0)

### API Get list meterials

- Controller

MaterialListGetController.php
```php
final class MaterialListGetController
{
    public function __invoke()
    {
        $service = new MaterialListGetApplicationService(
          new MaterialRepository()
        );

        $result = $service->handle();

        return response()->json($result->toArray());
    }
}
```

- Application Service

MaterialListGetApplicationService.php
```php
final class MaterialListGetApplicationService
{
    private IMaterialRepository $materialRepository;

    public function __construct(IMaterialRepository $materialRepository)
    {
        $this->materialRepository = $materialRepository;
    }

    public function handle(): IResult
    {
        $collection = $this->materialRepository->find();

        return new MaterialListResult($collection);
    }
}
```

- Káº¿t quáº£ tráº£ vá» cá»§a handle() mÃ¬nh sáº½ Ä‘á»‹nh nghÄ©a 1 interface chung vá»›i method toArray()
IResult.php
```php
interface IResult
{
    public function toArray(): array;
}
```

```php
final class MaterialListResult implements IResult
{
    /**
     * @var Material[]
     */
    private array $materials;

    // Äá»‹nh nghÄ©a response cho API á»Ÿ implemented method nÃ y.
    public function toArray(): array
    {
        $data = [];

        foreach ($this->materials as $material) {
            $data[] = [
                ''code'' => $material->getCode()->getValue(),
                ''name'' => $material->getName()->getValue(),
                ''created'' => $material->getCreatedDate()->getValue(),
                ''modified'' => $material->getUpdatedDate()->getValue(),
            ];
        }

        return [
            ''data'' => $data,
        ];
    }
}
```

- Infrastructure layer: Get data from DB

MaterialRepository.php
```php
    public function find(): array
    {
        $sql = <<<SQL
SELECT
    *
FROM
    materials
ORDER BY
    code
SQL;
        $records = DB::select($sql);

        $result = [];

        // set object values
        foreach ($records as $record) {
            $entity = Material::create();
            $entity->setName(new MaterialName($record->name));
            $entity->setCode(new MaterialCode($record->code));
            $entity->setCreatedDate(new Date($record->created));
            $entity->setUpdatedDate(new Date($record->modified));

            $result[] = $entity;
        }

        return $result;
    }
```

Trong bÃ i viáº¿t láº§n nÃ y mÃ¬nh Ä‘Ã£ Ä‘á» cáº­p qua nhá»¯ng class vÃ  cÃ¡ch implement cho má»™t API Get theo Domain Driven Design.
Háº¹n gáº·p cÃ¡c báº¡n á»Ÿ bÃ i viáº¿t láº§n sau.', '2023-02-11T04:11:01.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-11T04:10:53.000000Z'),
	('Chapter 4: Understanding Git Branches', 'obA466XM4Kv', '7', 'unlisted', '', 'This chapter belong to Getting Started with Git: A Beginner''s Guide  Series

In this chapter, you will learn about Git branches, what they are, and why they are an essential part of the Git version control system. We will start by discussing the concept of branches in Git, what they are used for, and how they work. We will then move on to creating and managing branches, including working with b...', '*This chapter belong to [Getting Started with Git: A Beginner''s Guide](https://viblo.asia/s/getting-started-with-git-a-beginners-guide-x7Z4DE6oJnX)  Series*

In this chapter, you will learn about Git branches, what they are, and why they are an essential part of the Git version control system. We will start by discussing the concept of branches in Git, what they are used for, and how they work. We will then move on to creating and managing branches, including working with branches, merging, and deleting branches. Finally, we will go over advanced branch concepts, such as rebasing, fast-forward merging.

**What are Git Branches?**

Git branches are pointers that track the development of a particular feature or bug fix in your Git repository. A Git repository can contain many branches, each of which can be worked on independently from one another. This means that multiple developers can work on different features in parallel, without interfering with each other''s work.

**Creating a Branch**

To create a new branch, you use the git branch command followed by the name of the branch you want to create. For example, to create a new branch called â€œ***feature1***â€, you would run the following command:

```
$ git branch feature1
```

**Switching between Branches**

To switch between branches, you use the git checkout command followed by the name of the branch you want to switch to. For example, to switch to the â€œfeature1â€ branch, you would run the following command:

```
$ git checkout feature1
```

**Merging Branches**

To merge one branch into another, you use the git merge command followed by the name of the branch you want to merge.

* Rebasing

    Rebasing is a Git command that allows you to take the changes from one branch and reapply them on top of another branch. It''s useful for keeping your branches up-to-date and for making sure that your branch contains only the changes that you need.

    ```
    $ git rebase <branch-name>
    ```

* Fast-Forward Merging

    Fast-forward merging is a way of merging branches in Git that keeps the branch history linear. When you perform a fast-forward merge, Git simply moves the branch pointer to the latest commit on the branch you''re merging.
    ```
    $ git merge <branch-name>
    ```

**Deleting Branches**

To delete a branch, you use the git branch command followed by the -d option followed by the name of the branch you want to delete. For example, to delete the â€œfeature1â€ branch, you would run the following command:
```
$ git branch -d feature1
```

### Summary

In this chapter, we have covered the basics of Git branches, including what they are, how to create, switch between, merge, and delete branches. We also went over advanced concepts such as rebasing, fast-forward merging. By understanding these concepts, you will be able to use Git branches effectively in your projects and work more efficiently with Git.', '2023-02-11T04:06:33.000000Z', '2023-02-28T01:01:03.000000Z', '2023-02-11T04:06:27.000000Z'),
	('Chapter 3: Basic Git Commands and Workflow', 'MkNLrONOVgA', '8', 'unlisted', '', 'This chapter belong to Getting Started with Git: A Beginner''s Guide  Series

In this chapter, we will be diving into the basics of using Git, including how to use essential Git commands and the basic workflow of using Git. Before diving into the commands, it''s important to understand what Git is and what it does. Git is a distributed version control system, which means that it keeps track of ch...', '*This chapter belong to [Getting Started with Git: A Beginner''s Guide](https://viblo.asia/s/getting-started-with-git-a-beginners-guide-x7Z4DE6oJnX)  Series*

In this chapter, we will be diving into the basics of using Git, including how to use essential Git commands and the basic workflow of using Git. Before diving into the commands, it''s important to understand what Git is and what it does. Git is a distributed version control system, which means that it keeps track of changes made to files and directories over time. The changes are tracked by creating a repository, which is a central place to store all changes. The repository contains all the information about the current version of the files, including all the previous versions, making it easy to revert to an older version if needed.

In order to use Git, you''ll need to have it installed on your computer. Once installed, you can start using Git from the command line. To help you understand how Git works, we will go over some of the most commonly used Git commands.

### Git terms

* Working Area: This refers to the place where you do your day-to-day work. This is where you create, edit and save your files.
* Staging Area: Also known as the "Index", the staging area is a place where you can collect changes that you want to commit to the repository.
* Local Repository: The local repository is a place where you store the changes you make to your working area. It is stored in your computer and acts as a backup for your work.
* Remote Repository: This is a copy of your local repository stored on a remote server. This allows you to share your work with others and collaborate on projects.
* Commit: A commit is a saved version of your changes. When you commit changes, Git takes a snapshot of your working area and stores it in your local repository.
* Branch: A branch is a separate line of development in Git. You can create a new branch to work on a new feature or bug fix, and then merge the branch back into the main branch when you are done.

### Git Workflows
The basic Git workflow starts with creating a new repository, making changes to your files, and then committing those changes to your local repository. When you are ready to share your work, you can push your changes to a remote repository. When collaborating with others, you can pull changes from the remote repository to your local repository.

It is important to regularly commit your changes and push them to a remote repository to keep your work safe and to make it easier for others to access your changes. When working on a larger project, it is a good idea to create a new branch for each feature or bug fix you work on. This way, you can easily switch between different branches and merge your changes back into the main branch when you are done.

By following these basic Git commands and workflow, you will be able to effectively manage your projects and collaborate with others using Git.

### Git commands
1. `git init`

    This command is used to initialize a new Git repository. It creates a new directory in your current location, which acts as the repository. The command is used to start a new project and create a local repository for it.
    Example:
    ```csharp
    $ git init
    ```
3. `git clone`

     This command is used to clone an existing Git repository. It creates a local copy of a remote repository, which you can then use to make changes and push them back to the remote repository.
     Example:
    ```csharp
    $ git clone [repository-url]
    ```
5. `git status`

    This command is used to check the status of a Git repository. When you use this command, Git will show you which files have been modified, added, or deleted. It will also show you which changes are staged for committing.
    Example:
    ```csharp
    $ git status
    ```
7. `git add`

    This command is used to stage changes for committing. When you make changes to a file, you''ll need to use this command to add those changes to the staging area. The staging area is a place where changes are kept temporarily until they are committed.
    Example:
    ```csharp
    $ git add [file-name]
    ```
9. `git commit`

    This command is used to commit changes to the repository. When you use this command, all changes in the staging area are committed to the repository, along with a message that describes the changes.
    Example:
    ```csharp
    $ git commit -m "commit message"
    ```
11. `git push`

    This command is used to push changes from a local repository to a remote repository. When you use this command, all changes that have been committed are pushed to the remote repository, updating it with the latest changes.
    Example:
    ```csharp
    $ git push [remote-repository-name] [branch-name]
    ```
13. `git pull`

    This command is used to retrieve changes from a remote repository and update a local repository with those changes. When you use this command, Git will download any changes that have been made to the remote repository and merge them with your local repository.
    Example:
    ```csharp
    $ git pull [remote-repository-name] [branch-name]
    ```
15. `git log`

    This command is used to view a log of all changes that have been committed to a repository. When you use this command, Git will display a list of all commits, along with the date, author, and commit message for each commit.
     Example:
    ```csharp
    $ git log
    ```
17. `git stash`

    The git stash command is used to temporarily save changes that have not yet been committed to the repository. This is useful when you need to switch to a different branch to work on a different task, but do not want to commit your current changes. The stash allows you to save your changes and retrieve them later when you are ready to continue working on the same task. To run the git stash command, simply type "git stash" in the terminal or command prompt.
     Example:
    ```csharp
    $ git stash
    ```
18. `git cherry-pick`

    The git cherry-pick command is used to apply a specific commit from one branch to another branch. This is useful when you want to incorporate changes made in one branch into another branch, without having to merge the entire branch. To run the git cherry-pick command, simply type "git cherry-pick [commit_hash]" in the terminal or command prompt, replacing [commit_hash] with the hash of the specific commit you want to apply.
    Example:
    ```csharp
    $ git cherry-pick [commit_hash]
    ```


This chapter provides an overview of how these commands and stages work together to help you manage your code changes in Git. The examples provided in this chapter give you a hands-on understanding of how to use these commands effectively in your Git workflow. By the end of this chapter, you should have a clear understanding of the basic Git commands and how to use them to manage your code changes.', '2023-02-11T03:29:58.000000Z', '2023-02-24T11:00:08.000000Z', '2023-02-17T16:36:07.000000Z'),
	('Chapter 2: Installing and Configuring Git', '5pPLkP5GVRZ', '9', 'unlisted', '', 'This chapter belong to Getting Started with Git: A Beginner''s Guide  Series

In this chapter, we will focus on installing Git on your computer and setting it up for use. Before diving into Git commands and usage, you must have Git installed and properly configured on your computer. Git is available for Windows, Mac, and Linux operating systems and can be easily installed using the installation ...', '*This chapter belong to [Getting Started with Git: A Beginner''s Guide](https://viblo.asia/s/getting-started-with-git-a-beginners-guide-x7Z4DE6oJnX)  Series*

In this chapter, we will focus on installing Git on your computer and setting it up for use. Before diving into Git commands and usage, you must have Git installed and properly configured on your computer. Git is available for Windows, Mac, and Linux operating systems and can be easily installed using the installation packages provided by the Git official website.
### Installing
* Installing Git on Windows

     To install Git on Windows, you need to follow these steps:

    1. Download the latest Git version from the official Git website
    2. Double-click the downloaded file and run the installer.
    3. Follow the on-screen instructions to complete the installation.

* Installing Git on Mac

    To install Git on Mac, you need to follow these steps:

    1. Download the latest Git version from the official Git website.
    2. Double-click the downloaded file and run the installer.
    3. Follow the on-screen instructions to complete the installation.
    4. Installing Git on Linux

* To install Git on Linux, you need to follow these steps:

    1. Open the terminal window and run the following command:

        `sudo apt-get install git-all`

   2. The system will prompt you for your password. Enter your password, and the Git installation process will begin.
    3. Once the installation is complete, you can run the Git version command to check if the installation was successful.

### Configuring
Once you have installed Git on your computer, the next step is to configure it. You need to configure Git with your username and email address, as it will be used to identify the author of the changes made to the repository.

To configure Git, you need to run the following command in the terminal window:

```
git config --global user.name "Your Name"
git config --global user.email "Your Email Address"
```
With these simple steps, you have installed and configured Git on your computer. In the next chapter, we will dive into the Git commands and usage. Before you start working with Git, it''s important to understand the basics of version control and the Git terminology.', '2023-02-11T03:03:39.000000Z', '2023-02-24T09:27:03.000000Z', '2023-02-11T03:15:06.000000Z'),
	('Chapter 1: Understanding Git and Version Control', '7ymJXXvqJkq', '10', 'unlisted', '', 'This chapter belong to Getting Started with Git: A Beginner''s Guide  Series

1.1 Introduction to Git
In this section, we will define what Git is and what it does. Git is a distributed version control system that helps teams manage and track changes to software projects. It was created in 2005 by Linus Torvalds, the creator of the Linux operating system.

1.2 What is Version Control
Version cont...', '*This chapter belong to [Getting Started with Git: A Beginner''s Guide](https://viblo.asia/s/getting-started-with-git-a-beginners-guide-x7Z4DE6oJnX)  Series*

1.1 Introduction to Git
In this section, we will define what Git is and what it does. Git is a distributed version control system that helps teams manage and track changes to software projects. It was created in 2005 by Linus Torvalds, the creator of the Linux operating system.

1.2 What is Version Control
Version control is a system that records changes to a file or set of files over time so that you can recall specific versions later. This helps in maintaining a history of changes made to the code, and also makes it easier to revert to an earlier version of the code if needed.

1.3 Understanding Git Workflow
Git allows developers to work on different parts of a project simultaneously and merge their changes together. This is achieved through a unique branching and merging workflow that Git follows.

1.4 Key Features of Git
Git offers many key features that make it a popular choice for version control systems. Some of these features include:

* Distributed: Git allows for multiple copies of a project to be stored in different locations, making it easy for developers to work on the same project from different locations.
* Branching: Git allows developers to create different branches of a project, making it possible to work on different features or bugs simultaneously without affecting the main project.
* Merging: Git makes it easy to merge different branches of a project together, ensuring that the changes made in one branch are properly integrated into the main project.
* Speed: Git is fast and efficient, making it ideal for large projects with many developers working on the same codebase.
* Ease of use: Git has a user-friendly interface and a straightforward command-line interface, making it easy to use for developers of all levels of experience.

In this chapter, we will cover the basics of Git and version control to help you get started with using Git in your projects.', '2023-02-11T03:01:45.000000Z', '2023-02-27T14:03:04.000000Z', '2023-02-11T03:15:17.000000Z'),
	('TÄƒng tÃ´Ìc database phÃ¢Ì€n 15 NULL trong Oracle Database', 'r1QLxQqqVAw', '11', 'unlisted', '', 'NULL luÃ´n lÃ  má»™t thá»© gÃ¢y bá»‘i rá»‘i, máº·c dÃ¹ Ã½ tÆ°á»Ÿng cá»§a nÃ³ chá»‰ Ä‘Æ¡n giáº£n lÃ  má»™t giÃ¡ trá»‹ cho biáº¿t lÃ  chá»— nÃ y chÆ°a cÃ³ dá»¯ liá»‡u. CÃ³ má»™t sá»‘ cÃ¡i láº¡ ná»¯a nhÆ° lÃ  truy váº¥n thÃ¬ luÃ´n dÃ¹ng IS NULL chá»© khÃ´ng dÃ¹ng = NULL.  Tuy nhiÃªn ORACLE Ä‘á»‘i xá»­ vá»›i NULL má»™t cÃ¡ch dá»‹ há»£m hÆ¡n chuáº©n thÃ´ng thÆ°á»ng. HÆ¡n ná»¯a cÃ¡ch index trÃªn NULL cÃ²n tiáº¿p tá»¥c khÃ¡c biá»‡t.

Theo chuáº©n thÃ´ng thÆ°á»ng, NULL Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  chÆ°a cÃ³ dá»¯ liá»‡u, ...', 'NULL luÃ´n lÃ  má»™t thá»© gÃ¢y bá»‘i rá»‘i, máº·c dÃ¹ Ã½ tÆ°á»Ÿng cá»§a nÃ³ chá»‰ Ä‘Æ¡n giáº£n lÃ  má»™t giÃ¡ trá»‹ cho biáº¿t lÃ  chá»— nÃ y chÆ°a cÃ³ dá»¯ liá»‡u. CÃ³ má»™t sá»‘ cÃ¡i láº¡ ná»¯a nhÆ° lÃ  truy váº¥n thÃ¬ luÃ´n dÃ¹ng IS NULL chá»© khÃ´ng dÃ¹ng = NULL.  Tuy nhiÃªn ORACLE Ä‘á»‘i xá»­ vá»›i NULL má»™t cÃ¡ch dá»‹ há»£m hÆ¡n chuáº©n thÃ´ng thÆ°á»ng. HÆ¡n ná»¯a cÃ¡ch index trÃªn NULL cÃ²n tiáº¿p tá»¥c khÃ¡c biá»‡t.

Theo chuáº©n thÃ´ng thÆ°á»ng, NULL Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a lÃ  chÆ°a cÃ³ dá»¯ liá»‡u, hoáº·c dá»¯ liá»‡u chÆ°a xÃ¡c Ä‘á»‹nh. NghÄ©a lÃ  khÃ´ng cÃ³ giÃ¡ trá»‹ nÃ o = NULL. Tuy nhiÃªn ORACLE láº¡i khÃ¡c nÃ³ coi empty string lÃ  NULL

```
   SELECT     ''0 IS NULL???'' AS "what is NULL?" FROM dual
    WHERE      0 IS NULL
UNION ALL
   SELECT    ''0 is not null'' FROM dual
    WHERE     0 IS NOT NULL
UNION ALL
   SELECT '''''''''' IS NULL???''  FROM dual
    WHERE    '''' IS NULL
UNION ALL
   SELECT '''''''''' is not null'' FROM dual
    WHERE    '''' IS NOT NULL
```

ÄÃ¢y lÃ  káº¿t quáº£

| what is NULL?|
| -------- |
| 0 is not null  |
| '''' IS NULL??? |

Vá»›i tÃ¢m lÃ½ thÃ­ch lÃ m Dev pháº£i bÄƒn khoÄƒn, Oracle cÃ²n cho NULL lÃ  empty string luÃ´n

```
SELECT 1
     , 1 || ''''
     , 1 || NULL
  FROM dual
```

Káº¿t quáº£

![image.png](https://images.viblo.asia/c8add8e8-ea4e-405c-93f1-40554bae762c.png)

Trong khi á»Ÿ db khÃ¡c nÃ³ sáº½ tháº¿ nÃ y
![image.png](https://images.viblo.asia/a973d55c-634e-4f0d-afa3-e7c163f13311.png)

Vá» cÆ¡ báº£n khÃ¡c db khÃ¡c mÃ  cÃ³ quan há»‡ vá»›i NULL sáº½ lÃ  NULL nhÆ°ng oracle thÃ¬ khÃ´ng nhÆ° váº­y. ThÆ°á»ng thÃ¬ á»Ÿ má»i ngÃ´n ngá»¯ láº­p trÃ¬nh empty string sáº½ khÃ´ng bao giá» lÃ  NULL. Ngoáº¡i trá»« ...
Oracle Database. NÃªn lÃ  trong thá»±c táº¿ khÃ´ng thá»ƒ nÃ o lÆ°u giÃ¡ trá»‹ empty string  vá»›i kiá»ƒu VARCHAR2. Náº¿u báº¡n cá»‘ lÆ°u thÃ¬ Oracle Ä‘Æ¡n giáº£n chá»‰ lÆ°u NULL vÃ o Ä‘Ã³.

CÃ¡i Ä‘áº·c thÃ¹ nÃ y khÃ´ng nhá»¯ng láº¡ mÃ  cÃ²n nguy hiá»ƒm. VÃ  Ä‘iá»u nÃ y cÃ²n tiáº¿p tá»¥c cá»§a pháº§n index ná»¯a vÃ  mÃ¬nh sáº½ nÃ³i á»Ÿ nhá»¯ng bÃ i sau nhÃ©!', '2023-02-10T16:29:46.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-10T16:29:24.000000Z'),
	('CI/CD cho Mobile App | Auto build Mobile App báº±ng CodeMagic âœ¨', 'E1XVOXQP4Mz', '1', 'unlisted', 'https://images.viblo.asia/6d513951-cc98-442d-ac7e-5b53fe391916.png', 'Lá»i chÃºc
NhÆ° thÆ°á»ng lá»‡ lÆ°á»›t Viblo, mÃ¬nh thÆ°á»ng khÃ´ng Ä‘á»ƒ Ã½ tá»›i cÃ¡i header Ä‘áº§u trang cho láº¯m ğŸ˜€ Nay nhÃ¢n ngÃ y vá»«a má»›i Ä‘Æ°á»£c nghá»‰ viá»‡c mÃ  chÆ°a tÃ¬m Ä‘Æ°á»£c viá»‡c má»›i, tiá»‡n nhÃ¬n tháº¥y cÃ¡i header cá»§a Viblo cÃ³ Ä‘Äƒng táº£i event viáº¿t khai bÃºt Ä‘áº§u xuÃ¢n (Ä‘Ãºng Ã½ trá»i Ä‘Ã£ Ä‘á»‹nh) nÃªn tham gia cho vui, nhÃ¢n tiá»‡n cÅ©ng lÃ  láº§n Ä‘áº§u mÃ¬nh viáº¿t blog/ guide lÃªn máº¡ng, cÃ³ gÃ¬ sai sÃ³t hay lá»§ng cá»§ng mong anh em gÃ³p Ã½ Ä‘á»ƒ mÃ¬nh sá»­a chá»¯...', '# Lá»i chÃºc
NhÆ° thÆ°á»ng lá»‡ lÆ°á»›t Viblo, mÃ¬nh thÆ°á»ng khÃ´ng Ä‘á»ƒ Ã½ tá»›i cÃ¡i header Ä‘áº§u trang cho láº¯m ğŸ˜€ Nay nhÃ¢n ngÃ y vá»«a má»›i Ä‘Æ°á»£c nghá»‰ viá»‡c mÃ  chÆ°a tÃ¬m Ä‘Æ°á»£c viá»‡c má»›i, tiá»‡n nhÃ¬n tháº¥y cÃ¡i header cá»§a Viblo cÃ³ Ä‘Äƒng táº£i event viáº¿t khai bÃºt Ä‘áº§u xuÃ¢n (Ä‘Ãºng Ã½ trá»i Ä‘Ã£ Ä‘á»‹nh) nÃªn tham gia cho vui, nhÃ¢n tiá»‡n cÅ©ng lÃ  láº§n Ä‘áº§u mÃ¬nh viáº¿t blog/ guide lÃªn máº¡ng, cÃ³ gÃ¬ sai sÃ³t hay lá»§ng cá»§ng mong anh em gÃ³p Ã½ Ä‘á»ƒ mÃ¬nh sá»­a chá»¯a nhÃ©.
    Giá»‘ng nhÆ° má»i bÃ i viáº¿t khÃ¡c tham gia event nÃ y, lá»i Ä‘áº§u tiÃªn mÃ¬nh chÃºc nhá»¯ng ngÆ°á»i Ä‘ang Ä‘á»c bÃ i viáº¿t nÃ y tháº­t nhiá»u sá»©c khoáº» ( alway first thing ğŸ˜€), háº¡nh phÃºc bÃªn gia Ä‘Ã¬nh vÃ  ngÆ°á»i thÃ¢n báº¡n bÃ¨, cÃ´ng viá»‡c tháº­t thuáº­n lá»£i nhÃ©. Qua Ä‘Ã³ cÅ©ng cáº£m Æ¡n Ä‘á»™i ngÅ© cá»§a Viblo Ä‘Ã£ táº¡o ra sÃ¢n chÆ¡i bá»• Ã­ch vÃ  nhá»¯ng sá»± kiá»‡n ráº¥t Ã½ nghÄ©a cho cá»™ng Ä‘á»“ng
# Má»Ÿ Ä‘áº§u
### CI/CD lÃ  gÃ¬?
KhÃ¡i niá»‡m CI (Continuos Integration) hay CD (Continuous Delivery - chuyá»ƒn giao liÃªn tá»¥c) cháº¯c cÅ©ng khÃ´ng cÃ²n xa láº¡ vá»›i anh em dev. Theo cÃ¡ch vÄƒn vá»Ÿ thÃ¬ nÃ³ lÃ  quÃ¡ trÃ¬nh tÃ­ch há»£p vÃ  sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ lÃ m viá»‡c liÃªn tá»¥c vÃ  tá»± Ä‘á»™ng hoÃ¡ cá»§a pháº§n má»m vÃ o vÃ²ng Ä‘á»i phÃ¡t triá»ƒn cá»§a sáº£n pháº©m. CÃ²n theo cÃ¡ch dÃ¢n dÃ£, Ä‘Ã¢y lÃ  quÃ¡ trÃ¬nh tá»± Ä‘á»™ng build, test, deploy web (Ä‘á»‘i vá»›i FE/BE) hoáº·c build app, deploy app lÃªn chá»£ á»©ng dá»¥ng (Ä‘á»‘i vá»›i Mobile App) chá»‰ vá»›i 1 nÃºt nháº¥t (hoáº·c trigger vÃ o hÃ nh Ä‘á»™ng on push cá»§a Git). Hiá»‡n nay, CI CD trá»Ÿ thÃ nh Ä‘iá»u hiá»ƒn nhiÃªn sáº½ cÃ³ trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn pháº§n má»m.
![CI-CD-la-gi-1.png](https://images.viblo.asia/6d513951-cc98-442d-ac7e-5b53fe391916.png)
### Má»¥c Ä‘Ã­ch vÃ  háº¡n cháº¿
NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn thÃ¬ CI/CD Ä‘Æ°á»£c á»©ng dá»¥ng ráº¥t nhiá»u vÃ o quy trÃ¬nh tá»± Ä‘á»™ng hoÃ¡ phÃ¡t triá»ƒn pháº§n má»m. Hoáº·c chÃºng ta cÃ³ thá»ƒ tá»± build cÃ i Ä‘áº·t cho Android/ iOS tá»« nhá»¯ng dá»± Ã¡n open source mÃ  khÃ´ng cáº§n kiáº¿n thá»©c vá» láº­p trÃ¬nh Mobile cháº³ng háº¡n. CÃ¡i nÃ y khÃ¡ hay vá»›i anh em non-tech vÃ¬ cÃ³ ráº¥t nhiá»u dá»± Ã¡n mobile open-source hay ho (Youtube Vanced lÃ  1 vÃ­ dá»¥), sau khi build ra file apk hoáº·c file ipa (dÃ¹ng AltStore Ä‘á»ƒ cÃ i Ä‘áº·t lÃªn macOS, cÃ¡i nÃ y náº¿u má»i ngÆ°á»i quan tÃ¢m mÃ¬nh sáº½ lÃªn 1 bÃ i ná»¯a sau) cÃ i trá»±c tiáº¿p trÃªn device luÃ´n.
Háº¡n cháº¿ lá»›n nháº¥t lÃ  dÃ¹ng nhiá»u sáº½ tá»‘n phÃ­. Vá»›i má»—i nhÃ  cung cáº¥p dá»‹ch vá»¥ CI/CD thÃ¬ má»©c phÃ­ sáº½ khÃ¡c nhau. Náº¿u dÃ¹ng CodeMagic thÃ¬ sáº½ Ä‘Æ°á»£c free 150 tiáº¿ng má»—i thÃ¡ng, khÃ¡ lÃ  táº¹t ga. á» Ä‘Ã¢y cÃ³ 1 tips nhá» lÃ  dÃ¹ng háº¿t 150 tiáº¿ng thÃ¬ táº¡o tÃ i khoáº£n khÃ¡c Ä‘á»ƒ xÃ i free ğŸ˜
Háº¡n cháº¿ thá»© 2 ná»¯a lÃ  khÃ¡ lÃ  khÃ³ Ä‘á»ƒ cáº¥u hÃ¬nh vá»›i nhiá»u dá»± Ã¡n quÃ¡ phá»©c táº¡p (nhiá»u mÃ´i trÆ°á»ng,...)
# Chuáº©n bá»‹
### Giá»›i thiá»‡u vá» CodeMagic
NhÆ° tiÃªu Ä‘á» bÃ i viáº¿t, chÃºng ta sáº½ chá»‰ Ä‘i vÃ o CI/CD trÃªn Mobile App (hoáº·c do mÃ¬nh khÃ´ng biáº¿t lÃ m FE/BE ğŸ˜). Hiá»‡n nay cÃ³ ráº¥t nhiá»u nhÃ  cung cáº¥p Ä‘Ã£ há»— trá»£ viá»‡c nÃ y, cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ° Github Action, Bitrise, Gilab CLI,... (náº¿u má»i ngÆ°á»i quan tÃ¢m mÃ¬nh sáº½ lÃªn 1 bÃ i ná»¯a). Tuy nhiÃªn á»Ÿ bÃ i viáº¿t nÃ y chÃºng ta sáº½ sá»­ dá»¥ng Ä‘áº¿n CodeMagic. Cháº¯c háº³n anh em code Flutter nhiá»u cÃ³ thá»ƒ sáº½ tháº¥y cÃ¡i tÃªn nÃ y quen quen vÃ¬ Ä‘Ã¢y lÃ  nÆ¡i chia sáº» khÃ¡ nhiá»u blog/ guide vá» Mobile App ráº¥t chi tiáº¿t, anh em cÃ³ thá»ƒ tham kháº£o thÃªm [á»Ÿ Ä‘Ã¢y](https://blog.codemagic.io/)

### ÄÄƒng kÃ­ vÃ  cáº¥u hÃ¬nh Source Code
Äá»ƒ sá»­ dá»¥ng thÃ¬ for sure, chÃºng ta pháº£i Ä‘Äƒng kÃ­ tÃ i khoáº£n [á»Ÿ Ä‘Ã¢y](https://codemagic.io/login). BÆ°á»›c nÃ y mÃ¬nh xin phÃ©p skip nhÃ©

Sau khi Ä‘Äƒng nháº­p xong, chÃºng ta tiáº¿n hÃ nh thÃªm á»©ng dá»¥ng vÃ o tá»« Git repo (Github, Gitlab, Bitbucket...). á» Ä‘Ã¢y mÃ¬nh sáº½ demo add Github repo vÃ o. Chá»n ```Add application```, sau Ä‘Ã³ chá»n Github vÃ  chá»n ```Github integration``` Ä‘á»ƒ cáº¥p quyá»n read github repo cho CodeMagic
![image.png](https://images.viblo.asia/316276ca-7704-4261-ba51-e83f4788ecd2.png)
LÆ°u Ã½ lÃ  á»Ÿ Ä‘Ã¢y chá»‰ cÃ³ thá»ƒ add Ä‘Æ°á»£c nhá»¯ng repo cá»§a mÃ¬nh, nÃªn náº¿u repo nÃ o khÃ´ng pháº£i cá»§a mÃ¬nh thÃ¬ anh em cÃ³ thá»ƒ fork nÃ³ vá» cho nhanh
Tiáº¿p Ä‘áº¿n, chá»n project type. á» Ä‘Ã¢y mÃ¬nh Ä‘ang thá»­ build 1 á»©ng dá»¥ng Flutter nÃªn mÃ¬nh sáº½ chá»n Flutter vÃ  khi add thÃ nh cÃ´ng sáº½ cÃ³ káº¿t quáº£ nhÆ° sau
![image.png](https://images.viblo.asia/253b2c0f-971a-431f-89c4-dec2fe98db29.png)
# Cáº¥u hÃ¬nh
Tiáº¿p Ä‘áº¿n lÃ  pháº§n quan trá»ng nháº¥t cá»§a quÃ¡ trÃ¬nh. á» Ä‘Ã¢y ta sáº½ cÃ³ 2 cÃ¡ch cáº¥u hÃ¬nh
### Cáº¥u hÃ¬nh báº±ng Work Flow Editor
![image.png](https://images.viblo.asia/529c0885-e802-487c-a6b1-4e7ed427a96f.png)
ÄÃ¢y lÃ  cÃ¡ch cáº¥u hÃ¬nh theo kiá»ƒu mÃ¬ Äƒn liá»n khÃ¡ lÃ  Ä‘Æ¡n giáº£n. NhÆ° anh em cÃ³ thá»ƒ tháº¥y trong áº£nh trÃªn, chÃºng ta chá»‰ cáº§n tick vÃ  tick vÃ o cÃ¡c má»¥c nhÆ° sau:
Build for Platforms: Sáº½ build ra file cÃ i Ä‘áº·t cho nhá»¯ng platform nÃ o
Run build on: Source code sáº½ Ä‘Æ°á»£c build trÃªn thiáº¿t bá»‹ nÃ o. á» Ä‘Ã¢y theo máº·c Ä‘á»‹nh ta sáº½ build trÃªn Mac Mini M1, nhá»¯ng option cÃ²n láº¡i Ä‘á»u pháº£i náº¡p láº§n Ä‘áº§u (thÃªm banking info) Ä‘á»ƒ lá»±a chá»n, cÃ³ Ä‘áº§y Ä‘á»§ cáº£ Linux, MacOS vÃ  Window.
    ![image.png](https://images.viblo.asia/6f4677f5-152a-4f83-a870-f58944ccb919.png)
Build trigger: Trigger hÃ nh Ä‘á»™ng khi nÃ o thÃ¬ á»©ng dá»¥ng sáº½ Ä‘Æ°á»£c build. CÃ¡i nÃ y tuá»³ vÃ o tÃ­nh cháº¥t cá»§a work flow, náº¿u deploy lÃªn mÃ´i trÆ°á»ng testing thÃ¬ thÆ°á»ng sáº½ trigger vÃ o on push cá»§a nhÃ¡nh dev hoáº·c staging. CÃ²n náº¿u cáº¥u hÃ¬nh Ä‘á»ƒ deploy thÃ¬ sáº½ trigger vÃ o nhÃ¡nh master cá»§a repo.
![image.png](https://images.viblo.asia/12ca7709-b141-41ed-b619-e980d7c8e4aa.png)
Environment variables: ThÃªm cÃ¡c biáº¿n env vÃ o báº£n build
Build: Lá»±a chá»n Flutter, XCode, CocoaPods version, lá»±a chá»n cháº¿ Ä‘á»™ build (debug, release hay profile), Android output format (apk hay aab), cÃ¡c tham sá»‘ truyá»n vÃ o khi build
![image.png](https://images.viblo.asia/1e50b0dd-b7f2-4ef3-abb5-985e214e40f1.png)
Distribution: Cáº¥u hÃ¬nh keystore, sign app Ä‘á»ƒ publish
![image.png](https://images.viblo.asia/e07aab61-da15-446f-a6fb-9447242b235b.png)
Notification: KÃªnh thÃ´ng bÃ¡o, cÃ³ thá»ƒ thÃ´ng bÃ¡o qua email hoáº·c Slack khi build xong (á»Ÿ Ä‘Ã¢y cÃ³ thá»ƒ tá»± cáº¥u hÃ¬nh webhook Ä‘á»ƒ báº¯n thÃ´ng bÃ¡o)

### Cáº¥u hÃ¬nh báº±ng file .yaml
Vá»›i 1 sá»‘ project cÃ³ cáº¥u hÃ¬nh phá»©c táº¡p hÆ¡n thÃ¬ chÃºng ta cáº§n pháº£i cáº¥u hÃ¬nh báº±ng file yaml. TÆ°Æ¡ng tá»± nhÆ° cáº¥u hÃ¬nh nhÆ° cÃ¡ch á»Ÿ trÃªn thÃ¬ sá»­ dá»¥ng file .yaml cÅ©ng sáº½ cÃ³ nhá»¯ng má»¥c tÆ°Æ¡ng tá»± nhÆ°ng á»Ÿ má»©c Ä‘á»™ advantage hÆ¡n.
Sau Ä‘Ã¢y lÃ  Ä‘oáº¡n workflow báº±ng file .yaml máº«u Ä‘á»ƒ cháº¡y build Ä‘Æ°á»£c ra file cÃ i Ä‘áº·t Android.
```
workflows:
  android-workflow:
    name: Android Workflow
    instance_type: mac_mini_m1
    max_build_duration: 120
    environment:
      groups:
        - google_credentials # <-- (Includes GCLOUD_KEY_FILE, GOOGLE_CREDENTIALS)
      vars:
        FIREBASE_PROJECT: "YOUR_FIREBASE_PROJECT_NAME" # <-- Put your Firebase Project Name here
      flutter: stable
      xcode: latest
      cocoapods: default
    scripts:
      - name: Set up debug.keystore
        script: |
          rm -f ~/.android/debug.keystore
          keytool -genkeypair -alias androiddebugkey -keypass android -keystore ~/.android/debug.keystore -storepass android -dname ''CN=Android Debug,O=Android,C=US'' -keyalg ''RSA'' -keysize 2048 -validity 10000
      - name: Set up local.properties
        script: |
          echo "flutter.sdk=$HOME/programs/flutter" > "$CM_BUILD_DIR/android/local.properties"
      - name: Get Flutter packages
        script: |
          flutter packages pub get
      - name: Build APK with Flutter
        script: |
          flutter build apk --debug
      - name: Create debug and test APK
        script: |
          set -ex
          cd android
          ./gradlew app:assembleAndroidTest
          ./gradlew app:assembleDebug -Ptarget="$CM_BUILD_DIR/integration_test/app_test.dart"
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - user_1@example.com
          - user_2@example.com
        notify:
          success: true # To not receive a notification when a build succeeds
          failure: false # To not receive a notification when a build fails
```
NhÆ° anh em cÃ³ thá»ƒ tháº¥y lÃ  khÃ¡ lÃ  láº±ng nháº±ng Ä‘á»ƒ cáº¥u hÃ¬nh Ä‘Æ°á»£c vá»›i nhá»¯ng ngÆ°á»i khÃ´ng cÃ³ kiáº¿n thá»©c vá» láº­p trÃ¬nh, nÃªn mÃ¬nh khÃ´ng recommend cÃ¡ch nÃ y cho láº¯m.
# Káº¿t quáº£
Sau khi build thÃ nh cÃ´ng sáº½ cÃ³ thÃ´ng bÃ¡o gá»­i vá». File cÃ i Ä‘áº·t sáº½ Ä‘Æ°á»£c gá»­i kÃ¨m trong email hoáº·c build history, anh em chá»‰ viá»‡c táº£i file vá» vÃ  cÃ i Ä‘áº·t trá»±c tiáº¿p (Ä‘á»‘i vá»›i Android) hoáº·c qua 1 chÃºt thá»§ thuáº­t khÃ¡c (Ä‘á»•i vá»›i iOS).
![image.png](https://images.viblo.asia/457b3d08-ce15-4aeb-a0b7-f3dc7d12d499.png)

TrÃªn Ä‘Ã¢y mÃ¬nh vá»«a hÆ°á»›ng dáº«n cÆ¡ báº£n táº¡o 1 workflow Ä‘á»ƒ build file 1 cÃ¡ch tá»± Ä‘á»™ng, á»Ÿ bÃ i viáº¿t tiáº¿p theo mÃ¬nh sáº½ hÆ°á»›ng dáº«n vá» sign keystore, auto deploy lÃªn CHPlay má»—i láº§n build. Nháº¥n upvote náº¿u tháº¥y háº¥p dáº«n Ä‘á»ƒ á»§ng há»™ mÃ¬nh nhÃ© ğŸ˜˜', '2023-02-10T15:04:52.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-10T14:58:19.000000Z'),
	('Deploy Reactjs Vá»›i Docker vÃ  Nginx lÃªn Ubuntu Server', 'PAoJeZ2AL1j', '2', 'unlisted', 'https://images.viblo.asia/31553040-4b41-4aaa-bf30-9e84b8d0fcec.png', 'Tá»•ng quan
Docker lÃ  má»™t cÃ´ng cá»¥ khÃ¡ tuyá»‡t vá»i vÃ  ráº¥t há»¯u Ã­ch trong viá»‡c triá»ƒn khai cÃ¡c á»©ng dá»¥ng thÃ´ng qua container, trong bÃ i viáº¿t nÃ y mÃ¬nh xin chia sáº» phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ deploy dá»± Ã¡n Reactjs lÃªn server Ubuntu sá»­ dá»¥ng webserver Nginx hoÃ n toÃ n trÃªn Docker.

Chuáº©n bá»‹
TrÆ°á»›c tiÃªn cÃ¡c báº¡n cáº§n chuáº©n bá»‹:

* Source code, náº¿u chÆ°a cÃ³ thÃ¬ cÃ³ thá»ƒ táº¡o á»Ÿ bÆ°á»›c tiáº¿p theo.
* 1 server ubuntu version 16, 18 hoáº·c 2...', '# **Tá»•ng quan**
Docker lÃ  má»™t cÃ´ng cá»¥ khÃ¡ tuyá»‡t vá»i vÃ  ráº¥t há»¯u Ã­ch trong viá»‡c triá»ƒn khai cÃ¡c á»©ng dá»¥ng thÃ´ng qua container, trong bÃ i viáº¿t nÃ y mÃ¬nh xin chia sáº» phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ deploy dá»± Ã¡n Reactjs lÃªn server Ubuntu sá»­ dá»¥ng webserver Nginx hoÃ n toÃ n trÃªn Docker.

![](https://images.viblo.asia/0f089ca2-84af-4c0b-ae14-d3635bdf8a38.png)

## **Chuáº©n bá»‹**
TrÆ°á»›c tiÃªn cÃ¡c báº¡n cáº§n chuáº©n bá»‹:

* Source code, náº¿u chÆ°a cÃ³ thÃ¬ cÃ³ thá»ƒ táº¡o á»Ÿ bÆ°á»›c tiáº¿p theo.
* 1 server ubuntu version 16, 18 hoáº·c 20... Ä‘á»u Ä‘Æ°á»£c, náº¿u chÆ°a cÃ³ thÃ¬ cÃ¡c báº¡n cÃ³ thá»ƒ  tham kháº£o [Sunteco Cloud](http://sunteco.vn/sun-virtual-machine/), Ä‘ang free trial cho tÃ i khoáº£n Ä‘Äƒng kÃ½ má»›i.
* 1 chÃºt kinh nghiá»‡m cÆ¡ báº£n vá» Docker vÃ  Nginx.

Chuáº©n bá»‹ xong thÃ¬ báº¯t tay vÃ o viá»‡c thÃ´i nÃ o...

## **1.Source code**
Táº¡o 1 project reactjs, náº¿u báº¡n Ä‘Ã£ cÃ³ source code cÃ³ thá»ƒ  bá» qua bÆ°á»›c nÃ y:
```markdown
npx create-react-app react-deploy
cd react-deploy
```

![](https://images.viblo.asia/733d0e05-7596-4a4e-9dc0-e1480eaf9110.png)

Sau Ä‘Ã³ hÃ£y thá»­ run local:
```markdown
npm start
```
Má»Ÿ trÃ¬nh duyá»‡t vÃ  báº¡n sáº½ tháº¥y project sáº½ cháº¡y á»Ÿ port 3000 ( hoáº·c port khÃ¡c náº¿u nhÆ° port 3000 bá»‹ á»©ng dá»¥ng khÃ¡c chiáº¿m dá»¥ng ).
![](https://images.viblo.asia/31553040-4b41-4aaa-bf30-9e84b8d0fcec.png)

## **2.Cáº¥u hÃ¬nh Dockerfile**
Táº¡i root project, chÃºng ta sáº½ táº¡o 1 file vá»›i tÃªn â€œ**Dockerfile**â€ vá»›i ná»™i dung:
```markdown
# Build docker image.
# Sá»­ dung node
FROM node:12 as node

# Khai bÃ¡o tham sá»‘
ARG workdir=.
LABEL description="deploy react app"

# KhÃ¡i bÃ¡o workdir trong node.
WORKDIR /app

# Copy project vÃ o trong workdir cá»§a node.
COPY ${workdir}/ /app/

# CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n node liÃªn quan.
RUN npm install

# Cháº¡y lá»‡nh build.
RUN npm run build

# Sá»­ dá»¥ng nginx
FROM nginx:1.12
# Copy folder Ä‘Ã£ Ä‘Æ°á»£c build vÃ o folder cháº¡y cá»§a nginx.
COPY --from=node /app/build/ /var/www/dist/

# Copy file cáº¥u hÃ¬nh cháº¡y cho nginx (file nginx.conf sáº½ táº¡o á»Ÿ bÆ°á»›c tiáº¿p theo)
COPY --from=node /app/nginx.conf /etc/nginx/nginx.conf

# CÃ i Ä‘áº·t curl cho cÃ¢u lá»‡nh check HEALTH
RUN apt-get update && apt-get install -y curl

# Kiá»ƒm tra tráº¡ng thÃ¡i cá»§a container sau khi cháº¡y
HEALTHCHECK --interval=1m --timeout=3s \
  CMD curl -f http://localhost || exit 1

CMD ["nginx", "-g", "daemon off;"]
```
![](https://images.viblo.asia/cd4d1d7a-55cd-4a02-b5dd-32981896f74d.png)

## **3.Khá»Ÿi táº¡o vÃ  cáº¥u hÃ¬nh Nginx**
Táº¡i root project, chÃºng ta sáº½ táº¡o 1 file vá»›i tÃªn â€œ**nginx.conf**â€ vá»›i ná»™i dung:
```shell
user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /run/nginx.pid;

# Load dynamic modules. See /usr/share/nginx/README.dynamic.
include /usr/share/nginx/modules/*.conf;

events {
    worker_connections 1024;
}

http {
    fastcgi_read_timeout 500;
    log_format  main  ''$remote_addr - $remote_user [$time_local] "$request" ''
                      ''$status $body_bytes_sent "$http_referer" ''
                      ''"$http_user_agent" "$http_x_forwarded_for"'';
    access_log  /var/log/nginx/access.log main;
    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 2048;
    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    server {
            listen       80;
            listen  [::]:80;
            server_name  localhost;
            include /etc/nginx/default.d/*.conf;
            location / {
                    alias /var/www/dist/;
                    try_files $uri $uri/ /index.html;

                    add_header Cache-Control public;
                    add_header Cache-Control no-store;
                    add_header Cache-Control no-cache;

                    if_modified_since off;
                    add_header Last-Modified "";
                    expires off;
            }
    }
}

```
Trong file config cá»§a nginx sáº½ xuáº¥t hiá»‡n khÃ¡ nhiá»u concept, cÃ¡c báº¡n cÃ³ thá»ƒ search Ä‘á»ƒ tÃ¬m hiá»ƒu sÃ¢u hÆ¡n. NhÆ°ng cÃ³ 1 sá»‘ concept cáº§n quan tÃ¢m, Ä‘Ã³ lÃ :

* **worker_processes**: Thiáº¿t láº­p nÃ y Ä‘á»‹nh nghÄ©a sá»‘ worker processes mÃ  NGINX sáº½ sá»­ dá»¥ng. Bá»Ÿi vÃ¬ NGINX lÃ  Ä‘Æ¡n luá»“ng (single threaded), nÃ³ thÆ°á»ng báº±ng vá»›i sá»‘ lÃµi CPU.
* **worker_connection**: ÄÃ¢y lÃ  sá»‘ lÆ°á»£ng tá»‘i Ä‘a cá»§a cÃ¡c káº¿t ná»‘i Ä‘á»“ng thá»i cho má»—i worker process vÃ  nÃ³i cho cÃ¡c worker process cá»§a chÃºng ta cÃ³ bao nhiÃªu ngÆ°á»i cÃ³ thá»ƒ Ä‘Æ°á»£c phá»¥c vá»¥ Ä‘á»“ng thá»i bá»Ÿi NGINX.
* **access_log & error_log**: ÄÃ¢y lÃ  nhá»¯ng tá»‡p tin mÃ  NGINX sáº½ sá»­ dá»¥ng Ä‘á»ƒ log báº¥t ká»³ lá»—i vÃ  sá»‘ láº§n truy cáº­p. CÃ¡c báº£n ghi nÃ y thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ gá»¡ lá»—i hoáº·c sá»­a chá»¯a.
* **server**: LÃ  cÃ¡c khá»‘i block dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c server áº£o Ä‘á»ƒ xá»­ lÃ½ cÃ¡c request tá»« client cá»§a báº¡n. Má»—i client request sáº½ Ä‘Æ°á»£c xá»­ lÃ½ dá»±a trÃªn cáº¥u hÃ¬nh Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong má»—i server. Do Ä‘Ã³, NGINX cáº§n quyáº¿t Ä‘á»‹nh server nÃ o phÃ¹ há»£p nháº¥t cho request Ä‘Ã³. CÃ¡c directive Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ quyáº¿t Ä‘á»‹nh server lÃ :

    * **listen**: lÃ  sá»± káº¿t há»£p Ä‘á»‹a chá»‰ IP/port mÃ  server nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ respond. Náº¿u má»™t request tá»« client phÃ¹ há»£p vá»›i cÃ¡c giÃ¡ trá»‹ nÃ y, server nÃ y cÃ³ kháº£ nÄƒng sáº½ Ä‘Æ°á»£c lá»±a chá»n Ä‘á»ƒ xá»­ lÃ½ káº¿t ná»‘i.
    * **server_name**: directive nÃ y lÃ  má»™t thÃ nh pháº§n khÃ¡c, dÃ¹ng Ä‘á»ƒ chá»n má»™t server Ä‘á»ƒ xá»­ lÃ½. Náº¿u cÃ³ nhiá»u server Ä‘Ã¡p á»©ng Ä‘Æ°á»£c directive listen, NGINX sáº½ phÃ¢n tÃ­ch cÃº phÃ¡p header â€œHostâ€ cá»§a request vÃ  lá»±a chá»n server phÃ¹ há»£p.

Trong má»™t block **server**, chÃºng ta cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a nhiá»u **location** context Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ quyáº¿t Ä‘á»‹nh cÃ¡ch xá»­ lÃ½ cÃ¡c request tá»« client. Báº¥t cá»© khi nÃ o má»™t request Ä‘áº¿n, NGINX sáº½ kiá»ƒm tra khá»›p URI tá»›i má»™t trong sá»‘ cÃ¡c location context vÃ  xá»­ lÃ½ nÃ³ cho phÃ¹ há»£p.
CÃ³ nhiá»u directive quan trá»ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong **location** context , cháº³ng háº¡n nhÆ°:

* **try_files**: Sáº½ cá»‘ gáº¯ng phá»¥c vá»¥ cÃ¡c tá»‡p tin tÄ©nh Ä‘Æ°á»£c tÃ¬m tháº¥y trong thÆ° má»¥c Ä‘Æ°á»£c trá» tá»›i bá»Ÿi directive gá»‘c.
* **proxy_pass**: Sáº½ gá»­i request tá»›i má»™t proxy server cá»¥ thá»ƒ.
* **rewrite**: Sáº½ viáº¿t láº¡i URI tá»›i dá»±a trÃªn má»™t regular expression Ä‘á»ƒ má»™t khá»‘i location cÃ³ thá»ƒ xá»­ lÃ½ nÃ³.

## **4.Run Docker local**
Sau khi táº¡o xong  **nginx.conf**  vÃ   **Dockerfile** thÃ¬ chÃºng ta sáº½ cháº¡y thá»­ dÆ°á»›i local thÃ´ng qua Docker Ä‘á»ƒ xem thá»­ káº¿t quáº£ nhÃ©.
Äáº§u tiÃªn cáº§n pháº£i build Dockerfile thÃ nh image vá»›i cÃ¢u lá»‡nh cmd (má»Ÿ cmd táº¡i root project) :
```css
docker build -t [image name]:[tag version] [path to dockerfile]

docker build -t  react-deploy .
```

![](https://images.viblo.asia/b3666426-5319-47b8-a868-75066f54d8f6.png)

Vá»›i cÃ¢u lá»‡nh trÃªn thÃ¬ chÃºng ta sáº½ táº¡o 1 image vá»›i tÃªn â€œ**react-deploy**â€, tag version Ä‘á»ƒ null nÃªn tag máº·c Ä‘á»‹nh sáº½ lÃ  â€œ**latest**â€ hoáº·c cÃ³ thá»ƒ sá»­a tag thÃ nh **react-deploy:0.1** náº¿u muá»‘n gáº¯n tag 0.1 vÃ  path to dockerfile sáº½ Ä‘á»ƒ â€œ**.**â€ do cmd Ä‘ang Ä‘á»©ng táº¡i project.

**LÆ°u Ã½:** Náº¿u cÃ¡c báº¡n dÃ¹ng linux/ubuntu cÃ³ thá»ƒ sáº½ gáº·p lá»—i liÃªn quan Ä‘áº¿n permission docker (nhÆ° áº£nh bÃªn dÆ°á»›i).

![](https://images.viblo.asia/da10e698-8965-4620-9926-0d1177eca7af.png)

Gáº·p lá»—i nÃ y thÃ¬ chÃºng ta chá»‰ cáº§n cáº¥p quyá»n cho docker theo cÃ¢u lá»‡nh:
```shell
sudo chown -R 1000 /var/run/docker.sock
```
Sau khi build image xong thÃ¬ hÃ£y kiá»ƒm tra trong list image:

```cpp
docker images
```

á» Ä‘Ã¢y chÃºng ta sáº½ tháº¥y cÃ³ 1 image tÃªn react-deploy vá»›i tag lÃ  latest.

![](https://images.viblo.asia/af728f7a-7832-472c-a335-c1ef0a0a6ad0.png)

Tiáº¿p theo chÃºng ta sáº½ run image:

```shell
docker run -d -p 80:80 --name react-deploy-container react-deploy:latest
```

Vá»›i cÃ¢u lá»‡nh trÃªn thÃ¬ chÃºng ta sáº½ run 1 container  tá»« image â€œ**react-deploy:latestâ€** vá»›i cÃ¡c option:

* **-d**: Cháº¡y container á»Ÿ background, cÃ³ nghÄ©a lÃ  khi chÃºng ta táº¯t cá»­a sá»• cmd thÃ¬ container váº«n sáº½ cháº¡y bÃ¬nh thÆ°á»ng.

* **-p**: Bind port cá»§a container vÃ o port cá»§a host theo cÃº phÃ¡p: `[port host]:[port container]`

* **-â€“name**: TÃªn cá»§a container, cá»¥ thá»ƒ á»Ÿ Ä‘Ã¢y lÃ  â€œ*react-deploy-container*â€.

Sau khi run image xong thÃ¬ chÃºng ta sáº½ kiá»ƒm tra xem container Ä‘Ã£ run thÃ nh cÃ´ng chÆ°a nhÃ©:

```rust
docker ps
```

![](https://images.viblo.asia/d2037248-ad66-444c-a9d3-098383e4c70a.png)

Náº¿u thÃ nh cÃ´ng thÃ¬ báº¡n sáº½ tháº¥y 1 container nhÆ° hÃ¬nh vÃ  project sáº½ run á»Ÿ http://localhost mÃ  khÃ´ng cáº§n port 3000 ná»¯a.
Náº¿u Ä‘áº¿n bÆ°á»›c nÃ y mÃ  cÃ¡c báº¡n khÃ´ng tháº¥y container thÃ¬ cÃ³ thá»ƒ comment dÆ°á»›i bÃ i viáº¿t Ä‘á»ƒ mÃ¬nh support nhÃ©.

 ## **5.Triá»ƒn khai lÃªn server ubuntu**

 Äáº¿n bÆ°á»›c nÃ y lÃ  chÃºng ta Ä‘Ã£ cháº¡y thÃ nh cÃ´ng á»Ÿ local, tiáº¿p theo sáº½ pháº£i Ä‘Æ°a má»i thá»© lÃªn server ubuntu.
 CÃ³ nhiá»u cÃ¡ch nhÆ° push code lÃªn git, copy file lÃªn server thÃ´ng qua SCPâ€¦ á» bÃ i viáº¿t nÃ y thÃ¬ mÃ¬nh sáº½ sá»­ dá»¥ng Docker Hub nhÃ©.

Docker Hub lÃ  má»™t dá»‹ch vá»¥ do Docker cung cáº¥p, cho phÃ©p tÃ¬m kiáº¿m vÃ  chia sáº» cÃ¡c container images.
Náº¿u chÆ°a cÃ³ tÃ i khoáº£n thÃ¬ báº¡n cÃ³ thá»ƒ Ä‘Äƒng kÃ½ tÃ i khoáº£n táº¡i Ä‘Ã¢y: https://hub.docker.com/

Sau khi táº¡o tÃ i khoáº£n xong thÃ¬ chÃºng ta sáº½ táº¡o 1 repository:
![](https://images.viblo.asia/96d63f92-5ae0-4c27-9c91-de545a7d9802.png)

Tiáº¿p theo cáº§n pháº£i login docker Ä‘á»ƒ push image vá»«a build tá»« local lÃªn Docker hub:
```shell
docker login -u [username] -p [password]
```
![](https://images.viblo.asia/754dfada-9226-4a00-9919-f7ca9b8ee9c3.png)

Gáº¯n tag cho image cáº§n push:

```css
docker tag [image name]:[tag] [repository]:[tag repository]
```

Cá»¥ thá»ƒ á»Ÿ project chÃºng ta vá»«a build sáº½ lÃ :

```css
docker tag react-deploy:latest manhlh231/deploy-nginx:0.2
```

Tiáº¿p theo sáº½ push tag lÃªn Docker hub:

```python
docker push manhlh231/deploy-nginx:0.2
```
![](https://images.viblo.asia/48e08a26-32eb-47db-bbf4-c0de092eb5ec.png)

Vá»›i cÃ¢u lá»‡nh trÃªn, chÃºng ta vá»«a push image **react-deploy** vá»›i **tag latest á»Ÿ local** lÃªn repository **manhlh231/deploy-nginx** vá»›i **tag 0.2** trÃªn Docker hub.

Sau Ä‘Ã³ thá»­ check trÃªn repository Docker hub sáº½ tháº¥y tag 0.2 vá»«a push lÃªn.
![](https://images.viblo.asia/058d736b-4d02-400f-9d92-7cbdd8fc92d8.png)

Sau khi push image thÃ nh cÃ´ng lÃªn Docker hub thÃ¬ chÃºng ta sáº½ remote vÃ o server Ubuntu Ä‘á»ƒ pull image vá» server.

```cpp
ssh ubuntu@[ip server]
ssh ubuntu@103.9.211.66
```
Pull image:

```css
docker pull manhlh231/deploy-nginx:0.2
```

Run image trÃªn server:
```markdown
docker run -d -p 80:80 --name reactv0.2 manhlh231/deploy-nginx:0.2
```

Kiá»ƒm tra káº¿t quáº£ táº¡i Ä‘á»‹a chá»‰ cá»§a server!!
http://103.9.211.66/

Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo dÃµi bÃ i viáº¿t.', '2023-02-10T12:12:59.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-24T04:11:06.000000Z'),
	('BÃ i 3 -  ÄÄƒng kÃ½ Firebase vÃ  cáº¥u hÃ¬nh Fastlane Ä‘áº©y APK lÃªn Firebase Distribution (PhiÃªn báº£n thá»­ nghiá»‡m)', 'y37LdwymJov', '3', 'unlisted', 'https://images.viblo.asia/3da88c64-df98-4a25-89a9-3eff4b318e04.png', 'Äá»ƒ tiá»‡n cho Ä‘á»™i tester test sáº£n pháº©m vÃ  tá»± Ä‘á»™ng hÆ¡n nÃªn chÃºng ta cáº§n lÃ m CI - CD

TÃ³m táº¯t
CÃ¡c khÃ¡i niá»‡m

* Firebase lÃ  má»™t pháº§n má»m phÃ¡t triá»ƒn á»©ng dá»¥ng do Google há»— trá»£ cho phÃ©p cÃ¡c nhÃ  phÃ¡t triá»ƒn phÃ¡t triá»ƒn cÃ¡c á»©ng dá»¥ng iOS, Android vÃ  web. Firebase cung cáº¥p cÃ¡c cÃ´ng cá»¥ Ä‘á»ƒ theo dÃµi cÃ¡c phÃ¢n tÃ­ch, bÃ¡o cÃ¡o vÃ  sá»­a chá»¯a cÃ¡c sá»± cá»‘ á»©ng dá»¥ng, táº¡o thá»­ nghiá»‡m tiáº¿p thá»‹ vÃ  sáº£n pháº©m.

* APK lÃ  viáº¿t táº¯t cá»§...', '> Äá»ƒ tiá»‡n cho Ä‘á»™i tester test sáº£n pháº©m vÃ  tá»± Ä‘á»™ng hÆ¡n nÃªn chÃºng ta cáº§n lÃ m CI - CD

# TÃ³m táº¯t
## CÃ¡c khÃ¡i niá»‡m

* Firebase lÃ  má»™t pháº§n má»m phÃ¡t triá»ƒn á»©ng dá»¥ng do Google há»— trá»£ cho phÃ©p cÃ¡c nhÃ  phÃ¡t triá»ƒn phÃ¡t triá»ƒn cÃ¡c á»©ng dá»¥ng iOS, Android vÃ  web. Firebase cung cáº¥p cÃ¡c cÃ´ng cá»¥ Ä‘á»ƒ theo dÃµi cÃ¡c phÃ¢n tÃ­ch, bÃ¡o cÃ¡o vÃ  sá»­a chá»¯a cÃ¡c sá»± cá»‘ á»©ng dá»¥ng, táº¡o thá»­ nghiá»‡m tiáº¿p thá»‹ vÃ  sáº£n pháº©m.

* APK lÃ  viáº¿t táº¯t cá»§a  **Android Package** (Ä‘Ã´i khi lÃ   **Android Package Kit** hoáº·c **Android Application Package** ). ÄÃ³ lÃ  Ä‘á»‹nh dáº¡ng tá»‡p mÃ  Android sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n phá»‘i vÃ  cÃ i Ä‘áº·t á»©ng dá»¥ng. Do Ä‘Ã³, APK chá»©a táº¥t cáº£ cÃ¡c yáº¿u tá»‘ mÃ  má»™t á»©ng dá»¥ng cáº§n cÃ i Ä‘áº·t chÃ­nh xÃ¡c trÃªn thiáº¿t bá»‹ cá»§a báº¡n.

* IPA lÃ  má»™t tiá»‡n Ã­ch má»Ÿ rá»™ng cho tá»‡p gÃ³i App Store iOS lÃ  tá»‡p lÆ°u trá»¯ á»©ng dá»¥ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n phá»‘i cÃ¡c á»©ng dá»¥ng trÃªn iOS. IPA chá»©a cÃ¡c tá»‡p á»Ÿ dáº¡ng khÃ´ng nÃ©n, chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn iOS.

# HÆ°á»›ng dáº«n

## ÄÄƒng kÃ½ Firebase

* ChÃºng ta vÃ o trang chá»§ cá»§a Firebase Ä‘á»ƒ Ä‘Äƒng kÃ½: https://console.firebase.google.com/u/0/

![Screenshot 2023-02-10 at 13.19.49.png](https://images.viblo.asia/3da88c64-df98-4a25-89a9-3eff4b318e04.png)

sau khi login thÃ nh cÃ´ng  chÃºng ta cá»n "**Add Project**"

![](https://images.viblo.asia/2228fac0-e13e-451d-b22a-ce8f10b0b88a.png)

* Nháº­p tÃªn project, á»Ÿ Ä‘Ã¢y mÃ¬nh sáº½ Ä‘áº·t tÃªn lÃ  "**React Native DevOps**"

![](https://images.viblo.asia/6a242cbc-ef9e-4bda-bab7-12d3e4b6e7b1.png)

* Tiáº¿p tá»¥c nháº¥p vÃ o **Continue**

![Screenshot 2023-02-10 at 13.34.58.png](https://images.viblo.asia/2c5ad938-c378-4836-b269-11c809ca075a.png)

* Tiáº¿p tá»¥c nháº¥p vÃ o **Continue**

![](https://images.viblo.asia/6fb20016-0e6e-457d-b13c-761cbd6b5eb6.png)

* á» bÆ°á»›c nÃ y chÃºng ta chá»n account cá»§a GA or lÃ  táº¡o account má»›i cho GA, sau dÃ³ nháº¥p vÃ o "Create project"

![Screenshot 2023-02-10 at 13.37.15.png](https://images.viblo.asia/daf6d2e6-4037-48e5-86e9-9278d0d84ca5.png)


* Tiáº¿p tá»¥c nháº¥p vÃ o **Continue**, NhÆ° váº­y báº¡n Ä‘Ã£ táº¡o thÃ nh cÃ´ng project trÃªn Firebase
*
![Screenshot 2023-02-10 at 13.38.04.png](https://images.viblo.asia/1ee79b99-1865-4450-bf1b-dcafc542bd5e.png)

## Cáº¥u hÃ¬nh Firebase cho Android

* Táº¡o App Name cho project android báº±ng cÃ¡ch nháº¥p vÃ o icon Android trÃªn trang dashboard cá»§a Firebase

![](https://images.viblo.asia/d7893857-82c0-4f58-b649-f59925f50119.png)

* Nháº­p **Android ackage name** vÃ  nháº¥p vÃ o "**Register app**"

![](https://images.viblo.asia/dd9fc80f-997b-428e-bca1-7d6b4d90be15.png)

* Táº£i file **google-services.json** vá» vÃ  nháº¥p vÃ o "**Next**"

![Screenshot 2023-02-10 at 13.46.28.png](https://images.viblo.asia/467af0ce-2b39-480f-bde4-ad829e2dd5f2.png)

* Copy file vá»«a táº£i vá» vÃ o thÆ° má»¥c **android/app**

![](https://images.viblo.asia/864cba07-2105-4305-b0b7-b7eb84fbbdc9.png)

* Sau Ä‘Ã³ má»Ÿ **Android studio**  vÃ  chá»n project cá»§a mÃ¬nh

![Screenshot 2023-02-10 at 13.47.52.png](https://images.viblo.asia/37743f0e-fce6-4472-bce2-367a1c932459.png)

* Äá»ƒ cho cÃ¡c giÃ¡ trá»‹ cáº¥u hÃ¬nh google-services.json cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c vÃ o SDK Firebase, báº¡n cáº§n cÃ³ plugin Gradle dá»‹ch vá»¥ cá»§a Google.

![](https://images.viblo.asia/b252478f-18a7-44e4-9b15-968035c2875c.png)

* Sau Ä‘Ã³, trong tá»‡p module (app-level) build.gradle , hÃ£y thÃªm cáº£ plugin dá»‹ch vá»¥ google vÃ  báº¥t ká»³ SDK Firebase nÃ o báº¡n muá»‘n sá»­ dá»¥ng trong á»©ng dá»¥ng cá»§a mÃ¬nh:

![](https://images.viblo.asia/0094549c-2839-4ef8-a12e-0a3cf89779b9.png)

* Tiáº¿p tá»¥c quay láº¡i trang web vÃ  nháº¥p vÃ o "**Next**"

![](https://images.viblo.asia/5b950f29-49a3-4330-ae39-9f1b4dde3900.png)

* Tiáº¿p tá»¥c quay láº¡i trang web vÃ  nháº¥p vÃ o "**Continue console**"

![](https://images.viblo.asia/01283676-e67e-4c84-a5e6-3dc15861c854.png)

![Screenshot 2023-02-10 at 14.47.44.png](https://images.viblo.asia/8e111288-058f-4d62-9252-cea150e6ff4a.png)

* NhÆ° váº­y mÃ¬nh Ä‘Ã£ táº¡o Firebase cho android thÃ nh cÃ´ng

## Cáº¥u hÃ¬nh Fastlane cho Android

Äáº§u tiá»n vÃ o thÆ° má»¥c **android** :

```
cd android
```

![Screenshot 2023-02-10 at 15.05.40.png](https://images.viblo.asia/4a354dcb-3312-43e2-95aa-0aa39892b0d1.png)

sau Ä‘Ã³ init fastlane báº±ng lá»‡nh

```
fastlane init
```

![](https://images.viblo.asia/fe829f2d-fcce-44a1-b7e4-00689bf4748f.png)

Sau khi init thÃ nh cÃ´ng thÃ¬ sáº½ cÃ³ thÆ° má»¥c **fastlane** vÃ  2 file "**Appfile**" , "**Fastfile**"

CÃ i Ä‘áº·t firebase-tools dÃ¹ng Ä‘á»ƒ láº¥y token login

```
 npm i firebase-tools -g
```

![Screenshot 2023-02-10 at 16.19.23.png](https://images.viblo.asia/7c3251b4-74aa-416c-8d71-c4575a8c57b6.png)

sau khi mÃ¬nh cÃ i Ä‘áº·t thÃ nh cÃ´ng vÃ  sá»­ dá»¥ng lá»‡nh Ä‘á»ƒ láº¥y token login

```
firebase login:ci
```

![](https://images.viblo.asia/e5e68563-3969-41a6-acb8-9e5e207ccdbb.png)

nhÆ° váº­y mÃ¬nh Ä‘Ã£ cÃ³ token login

```
1//0gP2yENNqCT1oCgYIARAAGBASNwF-L9IrqQI9gih5h73FSmaozzyn0HSQXxS7Vyyav2h4zEk4ClMbgmz6CwbEShz_qJVMmTxiGas
```

Tiáº¿p tá»¥c mÃ¬nh sáº½ láº¥y app-id

![](https://images.viblo.asia/9b64793d-9975-456a-9253-49b5273b84db.png)

```
1:320882145170:android:21837959d5ffc9fe65b34b
```


Tiáº¿p tá»¥c ta cáº­p nháº­t "**Appfile**" , "**Fastfile**"

* Appfile
```
json_key_file("") # Path to the json secret file - Follow https://docs.fastlane.tools/actions/supply/#setup to get one
package_name("com.reactnativedevops") # e.g. com.krausefx.app
```

* Fastfile

```
default_platform(:android)
  desc "Submit a new Beta Build to Crashlytics Beta"
  lane :beta do

    gradle(
      task: "clean"
    )

    gradle(
      task: ''assemble'', #assemble #bundle
      build_type: ''Release''
    )

     firebase_app_distribution(
       app: "1:320882145170:android:21837959d5ffc9fe65b34b",
       firebase_cli_token: "1//0gP2yENNqCT1oCgYIARAAGBASNwF-L9IrqQI9gih5h73FSmaozzyn0HSQXxS7Vyyav2h4zEk4ClMbgmz6CwbEShz_qJVMmTxiGas",
     )
  end
end
```

Tiáº¿p tá»¥c add plugin cho fastlane

```
fastlane add_plugin firebase_app_distribution
```

![Screenshot 2023-02-10 at 16.59.01.png](https://images.viblo.asia/7defe04d-d771-4b9c-b499-f53409bf26fb.png)

KÃ­ch hoáº¡t  Firebase Distribution trÃªn  Firebase console:

![](https://images.viblo.asia/8f37b6b1-6284-458d-8eb6-b315eddedbc0.png)

![Screenshot 2023-02-10 at 17.07.23.png](https://images.viblo.asia/b9549722-c18f-4d2b-b9fd-dee877e1b4e2.png)

Sau Ä‘Ã³ ta dÃ¹ng lá»‡nh Ä‘á»ƒ build

```
cd android && fastlane beta
```

![image.png](https://images.viblo.asia/b717010c-f474-4d84-ad26-c8047ddc971c.png)

Khi build thÃ nh cÃ´ng ta vÃ o trang Firebase console Ä‘á»ƒ kiá»ƒm tra xem báº£n build Ä‘Ã£ lÃªn chÆ°a

![Screenshot 2023-02-10 at 17.48.53.png](https://images.viblo.asia/b416fa7d-314f-45d0-b440-b740fa73b680.png)

NhÆ° váº­y báº£n build Ä‘Ã£ build thÃ nh cÃ´ng, bÃ¢y giá» mÃ¬nh chá»‰ cáº§n thÃªm mail cá»§a tester vÃ o Ä‘á»ƒ test báº£n build Android thÃ´i


CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o qua [github](https://github.com/tdduydev/ReactNativeDevOps)
### Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo dÃµi bÃ i viáº¿t, náº¿u bÃ i viáº¿t hay thÃ¬ cho mÃ¬nh xin 1 upvote Ä‘á»ƒ cÃ³ Ä‘á»™ng lá»±c lÃ m thÃªm nhiá»u bÃ i che sáº½ hÆ¡n.', '2023-02-10T10:50:10.000000Z', '2023-02-28T03:00:23.000000Z', '2023-02-10T11:28:36.000000Z'),
	('Blog#140: Node.jsã¨ã¯ãªã«ã‹ï¼Ÿãªãœã¿ã‚“ãªä½¿ã£ã¦ã„ã‚‹ã®ã‹ï¼Ÿ', '018J2vDeJYK', '4', 'unlisted', 'https://images.viblo.asia/98b53609-3fd1-4319-a52d-533bd7fbb847.png', '

ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€æ—¥æœ¬èªãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«ç°¡å˜ãªæ—¥æœ¬èªã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã æ—¥æœ¬èªã‚’å­¦ã¶ã“ã¨ã§ã™ã€‚

ã“ã‚“ã«ã¡ã¯ã€ç§ã¯ãƒˆã‚¥ã‚¢ãƒ³ã¨ç”³ã—ã¾ã™ã€‚æ±äº¬ã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºè€…ã§ã™ã€‚
å°†æ¥ã®æœ‰ç”¨ã§é¢ç™½ã„è¨˜äº‹ã‚’è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç§ã®ãƒ–ãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

ã“ã®è¨˜äº‹ã¯ã€JavaScriptã‚’å‹‰å¼·ã—ã¦ã„ã‚‹ã¨ãã«ã€ã¿ã‚“ãªãŒNode.jsã‚’å‰æã«è©±ã‚’é€²ã‚ã‚‹ã®ã‚’è¦‹ã‹ã‘ã‚‹ã¨ã€ã€ŒNode.jsã£ã¦Webã‚µãƒ¼ãƒã˜ã‚ƒãªã„ã®ï¼Ÿ ãªã‚“ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã‚ƒã„ã‘ãªã„ã®ï¼Ÿ ãªã‚“ã§ã¿ã‚“ãªä½¿ã£ã¦ã‚‹ã®ï¼Ÿã€ã¨ã„ã†ç–‘å•ã‚’æŒã¤äººãŒã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã¨ã„ã†ã“ã¨ã‚’è€ƒãˆã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ãã®ç–‘å•ã‚’è§£æ¶ˆã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

åŸºç¤ï¼šJavaScri...', '![image.png](https://images.viblo.asia/98b53609-3fd1-4319-a52d-533bd7fbb847.png)

> ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€[æ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«[ç°¡å˜ãªæ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã [æ—¥æœ¬èªã‚’å­¦ã¶](https://viblo.asia/s/-E1XVOWqNVMz)ã“ã¨ã§ã™ã€‚
-----
ã“ã‚“ã«ã¡ã¯ã€ç§ã¯[ãƒˆã‚¥ã‚¢ãƒ³](https://tuan-portfolio.web.app/#/)ã¨ç”³ã—ã¾ã™ã€‚æ±äº¬ã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºè€…ã§ã™ã€‚
å°†æ¥ã®æœ‰ç”¨ã§é¢ç™½ã„è¨˜äº‹ã‚’è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç§ã®ãƒ–ãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

ã“ã®è¨˜äº‹ã¯ã€JavaScriptã‚’å‹‰å¼·ã—ã¦ã„ã‚‹ã¨ãã«ã€ã¿ã‚“ãªãŒNode.jsã‚’å‰æã«è©±ã‚’é€²ã‚ã‚‹ã®ã‚’è¦‹ã‹ã‘ã‚‹ã¨ã€ã€ŒNode.jsã£ã¦Webã‚µãƒ¼ãƒã˜ã‚ƒãªã„ã®ï¼Ÿ ãªã‚“ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã‚ƒã„ã‘ãªã„ã®ï¼Ÿ ãªã‚“ã§ã¿ã‚“ãªä½¿ã£ã¦ã‚‹ã®ï¼Ÿã€ã¨ã„ã†ç–‘å•ã‚’æŒã¤äººãŒã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã¨ã„ã†ã“ã¨ã‚’è€ƒãˆã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ãã®ç–‘å•ã‚’è§£æ¶ˆã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

# åŸºç¤ï¼šJavaScriptã®ç‰¹å¾´
ã¾ãšã¯ã€JavaScriptã¨ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®é•ã„ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚**JavaScript**ã¯ã€Chromeã‚„Firefoxãªã©ã®ã€Œ**ãƒ–ãƒ©ã‚¦ã‚¶ä¸Š**ã€ã§å‹•ä½œã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã™ã€‚ä¸€æ–¹ã€Pythonã‚„Rubyãªã©ã®ä¸€èˆ¬çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¯ã€é€šå¸¸ã€Œ**ãƒ‘ã‚½ã‚³ãƒ³ä¸Š**ã€

![image.png](https://images.viblo.asia/7a3e769f-11d8-4667-8971-b587efb0642c.png)

ãƒ‘ã‚½ã‚³ãƒ³ä¸Šã§å‹•ä½œã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆPythonã‚„Rubyãªã©ï¼‰ãŒã€OSã®æ©Ÿèƒ½ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ãªã©ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‹ã©ã†ã‹ãŒã€ãã®é•ã„ã¨ãªã‚Šã¾ã™ã€‚

![image.png](https://images.viblo.asia/1bbcc2f8-3ca5-4720-9780-6d3f12df6ddf.png)

ãƒ‘ã‚½ã‚³ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã ã‘ã§ã€å‹æ‰‹ã«ãƒ‘ã‚½ã‚³ãƒ³ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿æ›¸ãã—ãŸã‚Šã€æ¶ˆã—ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ä½œã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆJavaScriptï¼‰ãŒOSã®æ©Ÿèƒ½ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€OSã®æ©Ÿèƒ½ã¸å…¨ãã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã¨ä¸ä¾¿ãªã®ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒé™å®šçš„ã«OSã®æ©Ÿèƒ½ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ä»²ä»‹ã—ã¦ãã‚Œã¦ã„ã¾ã™ã€‚ãã®ä»²ä»‹ã§ã€ã‚«ãƒ¡ãƒ©ã‚„ãƒã‚¤ã‚¯ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚‚ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€Webä¼šè­°ãªã©ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

![image.png](https://images.viblo.asia/a3ea24f8-8b2d-4c42-82ce-d016fe4e6b6c.png)

# Node.jsã£ã¦ä½•è€…ï¼Ÿ
Node.jsã¨ã„ã†ã®ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã—ã‹å‹•ã‹ãªã‹ã£ãŸJavaScriptã‚’ã€ãƒ‘ã‚½ã‚³ãƒ³ä¸Šã§å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

![image.png](https://images.viblo.asia/37fd27a9-ccfc-459e-b2bc-87212dcac361.png)

Node.jsã¯ã€Windowsã«Pythonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€Œpython.exeã€ãŒã§ãã‚‹ã‚ˆã†ã«ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€Œnode.exeã€ã¨ã„ã†JavaScriptã‚’å®Ÿè¡Œã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆJavaScriptå®Ÿè¡Œç’°å¢ƒï¼‰ãŒã§ãã¾ã™ã€‚Node.jsã‚’ä½¿ã†ã¨ã€JavaScriptã§OSã®æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã¯ã§ããªã‹ã£ãŸè‡ªç”±ãªãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ãªã©ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

![image.png](https://images.viblo.asia/f95fa22e-2e90-45c6-9ec1-13c679846343.png)

Node.jsã¯ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã ã‘ã§ãªãã€ä»–ã®ç¨®é¡ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã‚‚ä½¿ãˆã¾ã™ã€‚ä¾‹ãˆã°ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## Node.jsã¯ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®JavaScriptå®Ÿè¡Œç’°å¢ƒï¼Ÿ
Node.jsã¯ã€Webã‚µãƒ¼ãƒã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚ŒãŸJavaScriptã®å®Ÿè¡Œç’°å¢ƒã§ã™ã€‚ãã®ãŸã‚ã€ã€Œã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®JavaScriptå®Ÿè¡Œç’°å¢ƒã€ã¨ã„ã†ç´¹ä»‹ãŒã‚ˆãã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€ç¾åœ¨ã§ã¯ã€Node.jsã‚’ä½¿ã£ã¦ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿè¡Œã™ã‚‹JavaScriptã€ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®ç’°å¢ƒã¨ã—ã¦ã‚‚åˆ©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€Node.jsã¯ã€Œã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®JavaScriptå®Ÿè¡Œç’°å¢ƒã€ã¨ã—ã¦ã‚‚ã€Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰JavaScriptã®é–‹ç™ºç’°å¢ƒã€ã¨ã—ã¦ã‚‚åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

# npmã£ã¦ä½•è€…ï¼Ÿ
Node.jsã‚’ä½¿ã†ã¨ãã«ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã€npmãŒã‚ã‚Šã¾ã™ã€‚npmã¯Pythonã®pipã‚„Rubyã®gem(RubyGems)ã€Debianã®aptã€Macã®Homebrewã€Rustã®cargoãªã©ã¨åŒã˜ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

yarnã¨ã„ã†ã®ã‚‚ã‚ã‚Šã¾ã™ãŒã€npmã¨åŒã˜ã“ã¨ãŒã§ãã‚‹ã®ã§å¤§ä¸ˆå¤«ã§ã™ã€‚ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ã¨ã„ã†ã®ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã“ã¨ã§ã€Vueã‚„Reactã€webpackã€jQueryãªã©ã®ã“ã¨ã§ã™ã€‚

Node.jsã§ä½¿ã„ãŸã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹å ´åˆã€npmã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã§ã€jsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã¦`<script src="xxx.js"></script>`ã¨ã‹æ›¸ãå¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

# Node.jsã£ã¦ãªã‚“ã§ã¿ã‚“ãªä½¿ã£ã¦ã‚‹ã®ï¼Ÿ
JavaScriptã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸNode.jsã‚’ä½¿ã£ã¦ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã„ãŸã‚Šã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒ¢ãƒã‚¤ãƒ«/ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

## ç›®çš„1. æ–°ã—ã„ä»•æ§˜ã®JavaScriptã¾ãŸã¯TypeScriptã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ããŸã„
![image.png](https://images.viblo.asia/b4e41bea-7573-47ba-8aee-63a6f8099618.png)

JavaScriptã®æ–°ã—ã„ä»•æ§˜ï¼ˆES2015ä»¥é™ï¼‰ã‚’ä½¿ã†ãŸã‚ã«ã¯ã€Babelã‚’ä½¿ã£ã¦å¤‰æ›ã—ãŸã‚Šã€Node.jsã‚’ä½¿ã£ã¦ç’°å¢ƒã‚’æ•´ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚TypeScriptã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚

JavaScriptã®æœ€æ–°ä»•æ§˜ï¼ˆES2015ä»¥é™ï¼‰ã¯ã€è‡³ã‚‹æ‰€ã§è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã‚Œã‚‰ã‚’ä½¿ã†ãŸã‚ã«ã¯ã€Babelã‚’ä½¿ã£ã¦å¤‰æ›ã—ãŸã‚Šã€Node.jsã‚’ä½¿ã£ã¦ç’°å¢ƒã‚’æ•´ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚TypeScriptã«ã¤ã„ã¦ã¯ä»Šå›ã¯è©±ã—ã¾ã›ã‚“ã€‚

## ç›®çš„2. Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚ŠãŸã„
Ruby + Railsã‚„Python + Djangoãªã©ã§ä½œã‚‹ã‚ˆã†ãª**Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**ã‚’Node.jsã§ä½œã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

ã“ã®å ´åˆã®å¯¾å¿œã™ã‚‹é …ç›®ã‚’è¡¨ã§æ›¸ãã¨ã¨ãªã‚Šã¾ã™ã€‚

| å®Ÿè¡Œç’°å¢ƒ | è¨€èª | Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
|:---:|:---:|:---:|
| Ruby | Ruby | Ruby on Railsãªã© |
| Python | Python | Djangoãªã© |
| Node.js | JavaScript | Expressãªã© |

Node.jsã¯ã€å¤§é‡ã®åŒæ™‚æ¥ç¶šã‚’ã•ã°ã‘ã‚‹ã‚ˆã†ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã™ã€‚

Node.jsã¯ã€Webã‚µãƒ¼ãƒã¨ã—ã¦ã®å½¹å‰²ã‚’å—ã‘æŒã¡ã€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€å‡¦ç†ã‚’ã—ã¦ãã‚Œã¾ã™ã€‚

ä¸€èˆ¬çš„ãªWebã‚µãƒ¼ãƒï¼ˆApacheã‚„nginxï¼‰ã®ä»£ã‚ã‚Šã«Node.jsã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ãŒã€Node.jsã ã‘ã§ã¯æ©Ÿèƒ½ãŒè¶³ã‚Šãªã„ã®ã§ã€Apacheã‚„nginxã‚’ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã¨ã—ã¦ç½®ãæ§‹æˆãŒå¤šã„ã§ã™ã€‚

JavaScriptã—ã‹ã§ããªã„äººã¯Node.jsã‚’é¸ã¶ã‚ˆã†ã«è¨€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€Node.jsã‚’å‹‰å¼·ã™ã‚‹åŠ´åŠ›ã¨ã€ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’å‹‰å¼·ã™ã‚‹åŠ´åŠ›ã¯ã‚ã¾ã‚Šå¤‰ã‚ã‚‰ãªã„ã®ã§ã€è¨€èªã«ã¨ã‚‰ã‚ã‚Œãšã«ç‰¹å¾´ã‚’ã‚ˆãèª¿ã¹ã¦ã‹ã‚‰é¸æŠã™ã‚‹ã®ãŒã„ã„ã§ã—ã‚‡ã†ã€‚

## ç›®çš„3. ãƒ¢ãƒã‚¤ãƒ«/ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚ŠãŸã„
Node.jsã‚’ä½¿ãˆã°ã€ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´åˆã¯ã€React Nativeã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã„ã¾ã™ãŒã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´åˆã¯ã€Electronã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã„ã¾ã™ã€‚

Electronã¯ã€JavaScriptã€HTMLã€CSSã‚’ä½¿ã£ã¦ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

**Electron**
[https://www.electronjs.org/](https://www.electronjs.org/)

![image.png](https://images.viblo.asia/9f3fc880-f022-4b70-9999-3a9066446d16.png)

JavaScriptã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œã‚‹ãŸã‚ã®è¨€èªã§ã€UIï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ã‚’æ“ä½œã™ã‚‹ã®ã«ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€UIã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãã®è²¡ç”£ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¨åŒã˜ã‚ˆã†ãªUIã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã¯å¤§ããªãƒ¡ãƒªãƒƒãƒˆã§ã™ã€‚

ã¾ãŸã€Electronã‚’ä½¿ãˆã°ã€Windowsã‚„Macã€Linuxãªã©ã®OSã®æ©Ÿèƒ½ã‚’æ‰±ã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã•ã‚‰ã«ã€Electronã‚’ä½¿ãˆã°ã€åŒã˜ã‚³ãƒ¼ãƒ‰ã§Windowsã‚„Macã€Linuxãªã©ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§å‹•ãã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Visual Studio Codeã€Slackã€Discordã€Twitchã€Skypeãªã©ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã¯ã€ã“ã®Electronã‚’ä½¿ã£ã¦ä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

## ç›®çš„4. ãã®ä»–
Node.jsã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã‚¢ã‚»ãƒƒãƒˆã‚’ãƒãƒ³ãƒ‰ãƒ«ï¼ˆwebpackï¼‰ã™ã‚‹ãŸã‚ã€Sassã‚’CSSã«å¤‰æ›ï¼ˆnode-sassï¼‰ã™ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ï¼ˆJestï¼‰ã‚„ã‚³ãƒ¼ãƒ‰æ¤œè¨¼ãƒ„ãƒ¼ãƒ«ï¼ˆESLintï¼‰ã‚’ä½¿ã†ãŸã‚ã€é–‹ç™ºç”¨ã®ç°¡æ˜“Webã‚µãƒ¼ãƒï¼ˆwebpack-dev-serverï¼‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¦ã‚‹ãŸã‚ã€é™çš„ã‚µã‚¤ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ï¼ˆGatsbyï¼‰ã™ã‚‹ãŸã‚ãªã©ã€æ§˜ã€…ãªç”¨é€”ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚

# çµè«–
Node.jsã¯JavaScriptã«å¤§ããªå¯èƒ½æ€§ã‚’ã‚‚ãŸã‚‰ã—ã¾ã—ãŸã€‚ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨æ¯”ã¹ã¦è¨­è¨ˆãŒç”˜ã„ã¨è¨€ã‚ã‚Œã‚‹JavaScriptã§ã™ãŒã€å¤šãã®äººãŒä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã‚‚å«ã‚ã¦æ€¥é€Ÿã«é€²åŒ–ã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ä»Šã®æ™‚ä»£ã«ç”Ÿã¾ã‚Œã¦ã€ã“ã®ã‚¹ãƒªãƒªãƒ³ã‚°ãªJavaScriptã®é€²åŒ–ã®æ³¢ã«ä¹—ã‚Œã‚‹ã®ã¯ãƒ¯ã‚¯ãƒ¯ã‚¯ã§ãã¦æ¥½ã—ã„ã“ã¨ã§ã™ã€‚Node.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã¯ã€ES2015ã‚’æ›¸ããŸã„ã ã‘ãªã®ã«ãªãœãªã®ã‹ã¨ã„ã†ç–‘å•ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã§ã™ã€‚

# æœ€å¾Œ
ã„ã¤ã‚‚ãŠä¸–è©±ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’æ¥½ã—ã‚“ã§ã€æ–°ã—ã„ã“ã¨ã‚’å­¦ã¹ãŸã‚‰å¬‰ã—ã„ã§ã™ã€‚

ä»Šåº¦ã®è¨˜äº‹ã§ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼ã“ã®è¨˜äº‹ãŒæ°—ã«å…¥ã£ãŸã‚‰ã€ç§ã‚’å¿œæ´ã™ã‚‹ãŸã‚ã«ã€ŒLIKEã€ã‚’æŠ¼ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

-----
> ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€[æ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«[ç°¡å˜ãªæ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã [æ—¥æœ¬èªã‚’å­¦ã¶](https://viblo.asia/s/-E1XVOWqNVMz)ã“ã¨ã§ã™ã€‚

# ãƒªã‚½ãƒ¼ã‚¹
* https://tuan200tokyo.blogspot.com/2023/02/blog140-nodejs.html', '2023-02-10T10:07:43.000000Z', '2023-02-27T09:06:08.000000Z', '2023-02-10T09:54:41.000000Z'),
	('Blog#139: What is Node.js? Why is everyone using it?', 'EvbLbbGlLnk', '5', 'unlisted', 'https://images.viblo.asia/e7589420-6b85-4948-8cda-a1a1bcdb4c80.png', '

The main goal of this article is to help you improve your English level. I will use Simple English to introduce to you the concepts related to software development. In terms of IT knowledge, it might have been explained better and more clearly on the internet, but remember that the main target of this article is still to LEARN ENGLISH.

Hi, I''m Tuan, a Full-stack Web Developer from Tokyo ğŸ˜Š.
F...', '![image.png](https://images.viblo.asia/e7589420-6b85-4948-8cda-a1a1bcdb4c80.png)

> The main goal of this article is to help you improve your **[English](https://viblo.asia/s/master-english-with-technical-knowledge-BQyJKzg14Me)** level. I will use **[Simple English](https://viblo.asia/s/master-english-with-technical-knowledge-BQyJKzg14Me)** to introduce to you the concepts related to software development. In terms of IT knowledge, it might have been explained better and more clearly on the internet, but **remember** that the main target of this article is still to **[LEARN ENGLISH](https://viblo.asia/s/master-english-with-technical-knowledge-BQyJKzg14Me)**.
-----
Hi, I''m [Tuan](https://tuan-portfolio.web.app/#/), a Full-stack Web Developer from Tokyo ğŸ˜Š.
Follow my blog to not miss out on useful and interesting articles in the future.

[This article is a translation from another article. LINK](https://viblo.asia/p/blog140-nodejs%E3%81%A8%E3%81%AF%E3%81%AA%E3%81%AB%E3%81%8B%E3%81%AA%E3%81%9C%E3%81%BF%E3%82%93%E3%81%AA%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AE%E3%81%8B-018J2vDeJYK)

You are learning JavaScript and may encounter everyone discussing Node.js and have questions like "Isn''t Node.js a web server? Why do I have to install it? Why is everyone using it?" The purpose of this article is to answer those questions.

# The features of JavaScript
You need to understand the difference between JavaScript and other programming languages first. JavaScript is a programming language that runs on browsers like Chrome and Firefox, while other popular programming languages like Python and Ruby usually run on computers. It''s like the difference between a browser and a computer - one is for surfing the web, the other is for doing serious work. Or, as I like to say, JavaScript is for browsing the web, while other languages are for browsing the fridge.

![image.png](https://images.viblo.asia/7a3e769f-11d8-4667-8971-b587efb0642c.png)

Applications that run on a computer (such as Python or Ruby) can access the functions of the operating system (such as reading and writing files or network communication), which is the difference. Or, in other words, computers are like a box of chocolates - you never know what you''re gonna get!

![image.png](https://images.viblo.asia/1bbcc2f8-3ca5-4720-9780-6d3f12df6ddf.png)

Just by accessing a computer, there is a possibility that files on the computer can be read, written, or deleted without permission, so programs that run on browsers (JavaScript) are prevented from accessing the functions of the operating system.

However, it is inconvenient to not be able to access the functions of the OS at all, so the browser mediates limited access to the functions of the OS. Through this mediation, access to the camera and microphone is also enabled, and web conferences are now possible.

![image.png](https://images.viblo.asia/a3ea24f8-8b2d-4c42-82ce-d016fe4e6b6c.png)

# What is Node.js?
Node.js is a tool that allows you to run JavaScript on your computer, instead of just in your browser.

![image.png](https://images.viblo.asia/37fd27a9-ccfc-459e-b2bc-87212dcac361.png)

Node.js installs an application (a JavaScript runtime environment) called "node.exe" when you install it on Windows, just like when you install Python you get "python.exe". With Node.js, you can access the operating system''s features with JavaScript and do things like read and write files and network communication that you can''t do on a browser.

![image.png](https://images.viblo.asia/f95fa22e-2e90-45c6-9ec1-13c679846343.png)

Node.js can be used not only for web applications, but also to create other types of applications. For example, you can create command line tools and desktop applications.

## Node.js is a server-side environment for running JavaScript?
Node.js is an environment designed to build web servers using JavaScript. That''s why it''s often referred to as a "server-side JavaScript execution environment". However, nowadays Node.js is also used as an environment to develop "JavaScript to be run in the browser", so it can be used both as a "server-side JavaScript execution environment" and a "client-side JavaScript development environment". In other words, Node.js is used for both!

# What is npm?
NPM is a handy tool when using Node.js. It''s like Python''s pip, Ruby''s gem (RubyGems), Debian''s apt, Mac''s Homebrew, and Rust''s cargo.

There''s also yarn, but it''s okay because it can do the same thing as npm. "Packages" are libraries and frameworks, like Vue, React, webpack, and jQuery.

If you want to use a library with Node.js, you can install it with npm, so you don''t have to download a js file and write `<script src="xxx.js"></script>`. It''s like a magical package delivery service!

# Why is everyone using Node.js?
Now you can use Node.js, which has enabled you to use JavaScript, to write client-side programs and create web applications and applications for mobile/desktop! Yay!

## Purpose 1: I want to write client-side programs in new specifications of JavaScript or TypeScript.

![image.png](https://images.viblo.asia/b4e41bea-7573-47ba-8aee-63a6f8099618.png)

To use the newest JavaScript specifications (ES2015 and beyond), you need to use Babel to convert it or set up an environment with Node.js.

Let''s not talk about TypeScript this time.

## Purpose 2: I want to create a web application.
You can make web applications with Node.js, just like you can with Ruby + Rails or Python + Django.

| Execution environment | Language | Web framework |
|:---:|:---:|:---:|
| Ruby | Ruby | Ruby on Rails ..vv|
| Python | Python | Django ...vv|
| Node.js | JavaScript | Express ...vv|

Node.js is a programming language designed to build network applications that can handle large amounts of simultaneous connections. It takes on the role of a web server, receiving HTTP requests and processing them.

You can use Node.js instead of a typical web server (Apache or nginx), but often a configuration with Node.js and Apache or nginx as a reverse proxy is used because Node.js alone is not enough.

People who can only do JavaScript may be told to choose Node.js, but the effort to learn Node.js is not much different from the effort to learn other programming languages, so it''s best to choose without being tied to a language and to research its features well.

## Purpose 3: I want to create applications for mobile/desktop.
Using Node.js, you can create mobile applications and desktop applications. For mobile applications, you use the framework React Native, and for desktop applications, you use the framework Electron. Electron is a framework for creating desktop applications using JavaScript, HTML, and CSS.

**Electron**: [https://www.electronjs.org/](https://www.electronjs.org/)

![image.png](https://images.viblo.asia/9f3fc880-f022-4b70-9999-3a9066446d16.png)

JavaScript is a language used for creating websites, and it''s often used for manipulating the user interface (UI). Because of this, there are many libraries and frameworks available for building UI. This is a big advantage because it allows you to create UI that''s similar to websites.

Additionally, using Electron, you can create applications that handle the features of operating systems like Windows, Mac, Linux, etc. Furthermore, using Electron, you can create applications that run on different platforms such as Windows, Mac, Linux, etc. using the same code.

Desktop applications like Visual Studio Code, Slack, Discord, Twitch, Skype, etc. are created using Electron.

## Purpose 4: Others
Node.js is used for various other purposes, like bundling website assets with webpack, converting Sass to CSS using node-sass, using testing tools like Jest and code validation tools like ESLint, setting up a development-friendly web server locally with webpack-dev-server, and building static sites with Gatsby. It''s like a Swiss Army knife for web developers!

# Conclusion
Node.js has brought the same level of potential to JavaScript as other programming languages. (The V8 JavaScript engine is also responsible for this, but it was not mentioned in the text because it can make the discussion more complicated.)

As often said, JavaScript does have some weaknesses in its design compared to other languages. Some people may think that it is still on the same level as other languages.

However, JavaScript has a huge user base among young people, and it is evolving at an incredible speed, including its libraries, making it the only programming language with changing trends.

jQuery is now considered a historical relic, but it was born after Rails and Django (it is not easy to compare, but still). It shows how fast things are moving.

Personally, I find it exciting and enjoyable to be able to ride this thrilling wave of evolution in JavaScript that was born in this era.

Finally, I hope that this article will answer common questions such as "Is Node.js not a web server? Why do I have to install it if I just want to write with ES2015?" that are often asked at the beginning.

# And Finally
As always, I hope you enjoyed this article and learned something new.
Thank you and see you in the next articles!

If you liked this article, please give me a like and subscribe to support me. Thank you. ğŸ˜Š

-----
> The main goal of this article is to help you improve your **[English](https://viblo.asia/s/master-english-with-technical-knowledge-BQyJKzg14Me)** level. I will use **[Simple English](https://viblo.asia/s/master-english-with-technical-knowledge-BQyJKzg14Me)** to introduce to you the concepts related to software development. In terms of IT knowledge, it might have been explained better and more clearly on the internet, but **remember** that the main target of this article is still to **[LEARN ENGLISH](https://viblo.asia/s/master-english-with-technical-knowledge-BQyJKzg14Me)**.

# Resource
* https://tuan200tokyo.blogspot.com/2023/02/blog139-what-is-nodejs-why-is-everyone.html', '2023-02-10T10:07:25.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-10T10:08:15.000000Z'),
	('Extension ChatGPT | ChatGPT Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p vÃ o Visual Studio Code ra sao', 'E1XVOXeP4Mz', '6', 'unlisted', 'https://images.viblo.asia/3b073711-5c21-459f-9def-3dfafc30e66e.png', 'HÃ­ anh em, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y | Äáº§u nÄƒm chÃºc anh em nÄƒm má»›i phÃ¡t tÃ i phÃ¡t lá»™c, lÆ°Æ¡ng trÄƒm cá»§ nhÃ©. ğŸ˜†ğŸ˜†ğŸ¥°

HÃ´m trÆ°á»›c mÃ¬nh Ä‘Ã£ cÃ³ 1 bÃ i viáº¿t vá» hÆ°á»›ng dáº«n táº¡o tÃ i khoáº£n ChatGPT (tham kháº£o táº¡i Ä‘Ã¢y) , hÃ´m nay thÃ¬ mÃ¬nh xin giá»›i thiá»‡u vá»›i cÃ¡c báº¡n 1 extension tÃ­ch há»£p ChatGPT Ä‘á»ƒ há»— trá»£ coding Ä‘Æ°á»£c hiá»‡u quáº£. GÃ©t gÃ´!!!!

1. CÃ i Ä‘áº·t Extension ChatGPT
Äáº§u tiÃªn cÃ¡c báº¡n vÃ o vscode vÃ  tÃ¬m extension cÃ³ tÃªn lÃ  "ChatGP...', '> HÃ­ anh em, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y | Äáº§u nÄƒm chÃºc anh em nÄƒm má»›i phÃ¡t tÃ i phÃ¡t lá»™c, lÆ°Æ¡ng trÄƒm cá»§ nhÃ©. ğŸ˜†ğŸ˜†ğŸ¥°

*HÃ´m trÆ°á»›c mÃ¬nh Ä‘Ã£ cÃ³ 1 bÃ i viáº¿t vá» hÆ°á»›ng dáº«n táº¡o tÃ i khoáº£n ChatGPT ([tham kháº£o táº¡i Ä‘Ã¢y](https://viblo.asia/p/chat-gpt-cach-tao-tai-khoan-nhanh-gon-le-cho-nguoi-dung-o-viet-nam-WR5JRmn04Gv)) , hÃ´m nay thÃ¬ mÃ¬nh xin giá»›i thiá»‡u vá»›i cÃ¡c báº¡n 1 extension tÃ­ch há»£p ChatGPT Ä‘á»ƒ há»— trá»£ coding Ä‘Æ°á»£c hiá»‡u quáº£. GÃ©t gÃ´!!!!*

# 1. CÃ i Ä‘áº·t Extension ChatGPT
Äáº§u tiÃªn cÃ¡c báº¡n vÃ o vscode vÃ  tÃ¬m extension cÃ³ tÃªn lÃ  "ChatGPT" Ä‘á»ƒ tiáº¿n hÃ nh cÃ i Ä‘áº·t:

![](https://images.viblo.asia/3b073711-5c21-459f-9def-3dfafc30e66e.png)

Má»i ngÆ°á»i lÆ°u Ã½ chá»n Ä‘Ãºng tÃªn vÃ  nhÃ  phÃ¡t hÃ nh nhÃ© (do cÃ³ nhiá»u extension khÃ¡c tÆ°Æ¡ng tá»±, tuy nhiÃªn mÃ¬nh cÃ³ thá»­ dÃ¹ng thÃ¬ khÃ´ng á»•n láº¯m).

Tiáº¿p theo, chÃºng ta cáº§n login account ChatGPT (Xem hÆ°á»›ng dáº«n Ä‘Äƒng kÃ½ [táº¡i Ä‘Ã¢y](https://viblo.asia/p/chat-gpt-cach-tao-tai-khoan-nhanh-gon-le-cho-nguoi-dung-o-viet-nam-WR5JRmn04Gv)) Ä‘á»ƒ tiáº¿n hÃ nh sá»­ dá»¥ng. Sáº½ cÃ³ 2 phÆ°Æ¡ng thá»©c xÃ¡c thá»±c bao gá»“m:
* Login trá»±c tiáº¿p báº±ng tÃ i khoáº£n gmail thÃ´ng qua trÃ¬nh duyá»‡t
* Login báº±ng API Secret Key

![image.png](https://images.viblo.asia/cdc2a39e-58db-40a6-a219-5177c372295b.png)

á» Ä‘Ã¢y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡ch login báº±ng API Key nhÃ©:
1. CÃ¡c báº¡n truy cáº­p trang chá»§ cá»§a OpenAI Api: https://openai.com/api/ sau Ä‘Ã³ Ä‘Äƒng nháº­p tÃ i khoáº£n Ä‘ang sá»­ dá»¥ng ChatGPT
2. VÃ o "**Personal**", chá»n má»¥c "**View Api keys**"

![](https://images.viblo.asia/12a48017-8da1-4cdc-998b-d310cea96c2a.png)

3. á» mÃ n hÃ¬nh Account API Keys, chá»n "Create new secret key", sau Ä‘Ã³ copy Ä‘oáº¡n key Ä‘Æ°á»£c hiá»ƒn thá»‹

![](https://images.viblo.asia/7add6c16-bcbc-449d-a1eb-18d7d3595819.png)

4. Quay trá»Ÿ láº¡i VSCode, vÃ o **Extension Setting** cá»§a extension ChatGPT vá»«a cÃ i Ä‘áº·t lÃºc nÃ£y, kÃ©o xuá»‘ng tÃ¬m má»¥c "**Chagpt > gpt3: Api Key**" vÃ  paste Ä‘oáº¡n key lÃºc nÃ£y vÃ o. Váº­y lÃ  xong. Báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u code tháº§n sáº§u vá»›i chatGPT ngay bÃªn cáº¡nh rá»“i ğŸ¥°ğŸ˜

![](https://images.viblo.asia/fa4c684f-3fac-4350-8e69-7a924366bcdc.png)

![](https://images.viblo.asia/35097c26-5674-425f-8b97-eab840427053.png)


# 2. CÃ¡c tÃ­nh nÄƒng ná»•i báº­t
- Äá»ƒ sá»­ dá»¥ng extension, cÃ¡c báº¡n thá»±c hiá»‡n bÃ´i Ä‘en 1 Ä‘oáº¡n code, sau Ä‘Ã³ click chuá»™t pháº£i, sáº½ cÃ³ má»™t sá»‘ option Ä‘á»ƒ chá»n nhÆ°: TÃ¬m bug, Giáº£i thÃ­ch code, Tá»‘i Æ°u code, ..vv.vvv ÄÃ¢y lÃ  nhá»¯ng tÃ­nh nÄƒng mÃ¬nh Ä‘áº·c biá»‡t thÃ­ch á»Ÿ extension nÃ y.

![](https://images.viblo.asia/7e6c0a9d-38bf-4e65-9184-23e506f07090.png)

NhÆ° á»Ÿ vÃ­ dá»¥ trÃªn, mÃ¬nh code tÃ o lao 1 Ä‘oáº¡n nhÆ° váº­y, Ä‘á»ƒ xem thá»­ con Bot Ä‘Æ°á»£c tÃ­ch há»£p nÃ y sáº½ xá»­ lÃ½ nhÆ° tháº¿ nÃ o nhÃ©. Äáº§u tiÃªn mÃ¬nh sáº½ cho nÃ³ giáº£i thÃ­ch Ä‘oáº¡n code, lÃºc nÃ y má»™t cá»­a sá»• trÃ² chuyá»‡n nhá» sáº½ xuáº¥t hiá»‡n bÃªn trÃ¡i, á»Ÿ Ä‘Ã¢y chÃºng ta cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i ChatGPT giá»‘ng nhÆ° phiÃªn báº£n web:

![](https://images.viblo.asia/a23731b9-5836-41d3-b017-5ac724583393.png)

KhÃ¡ lÃ  tiá»‡n lá»£i pháº£i khÃ´ng nÃ o, bÃ¢y giá» chÃºng ta thá»­ cho nÃ³ tÃ¬m bug trong Ä‘oáº¡n code vÃ  refactor láº¡i nhÃ©:
- TÃ¬m ra Ä‘Æ°á»£c bug nÃ¨:

![](https://images.viblo.asia/65bf8d97-69f2-4692-b0cd-546ac4e0e7e6.png)

- Chá»‰ ra cÃ¡ch refactor láº¡i code:

![](https://images.viblo.asia/c8f6a23b-5cbd-4136-8763-68e4059535c9.png)

KhÃ¡ lÃ  xá»‹n kaka ğŸ˜

# 3. Tá»•ng káº¿t
*  Extension nÃ y cÃ²n cÃ³ cÃ¡c tÃ­nh nÄƒng hay ho khÃ¡c ná»¯a, nhÆ°ng trong khuÃ´n khá»• bÃ i viáº¿t nÃ y mÃ¬nh khÃ´ng thá»ƒ giá»›i thiá»‡u Ä‘áº§y Ä‘á»§ Ä‘Æ°á»£c, cÃ¡c báº¡n vÃ o nghiÃªn cá»©u tiáº¿p nhÃ©
*  Ná»™i dung chatbot trong trÃ¬nh tÃ­ch há»£p nÃ y Ä‘Ã£ Ä‘Æ°á»£c filter láº¡i theo chá»§ Ä‘á» cÃ´ng nghá»‡, coding, nÃªn nhiá»u cÃ¢u há»i vá» lÄ©nh vá»±c ngoÃ i lá» khÃ¡c nÃ³ sáº½ khÃ´ng tráº£ lá»i nhÆ° phiÃªn báº£n web

![](https://images.viblo.asia/f5903e18-3b04-434c-8bad-e066a57044ef.png)

*  CÃ³ láº½ cÅ©ng chÃ­nh vÃ¬ Ä‘Æ°á»£c giá»›i háº¡n chá»§ Ä‘á» nhÆ° váº­y, nÃªn tá»‘c Ä‘á»™ tráº£ lá»i cá»§a nÃ³ mÃ¬nh nháº­n xÃ©t nhanh vÃ  mÆ°á»£t hÆ¡n nhiá»u phiÃªn báº£n web hiá»‡n táº¡i ğŸ˜˜
*  1 Láº§n ná»¯a mÃ¬nh nháº¥n máº¡nh lÃ  phiÃªn báº£n ChatGPT hiá»‡n táº¡i váº«n Ä‘ang trong qÃºa trÃ¬nh hoÃ n thiá»‡n, nÃªn thÃ´ng tin mÃ  nÃ³ tráº£ lá»i khÃ´ng pháº£i lÃºc nÃ o cÅ©ng chÃ­nh xÃ¡c 100%, vÃ¬ váº­y anh em sá»­ dá»¥ng nÃ³ thÃ¬ nÃªn chá»‰ Ä‘á»ƒ tham kháº£o thÃ´i nhÃ©, Ä‘á»«ng tin tÆ°á»Ÿng quÃ¡


# TÃ i liá»‡u tham kháº£o
- Extension ChatGPT: https://github.com/gencay/vscode-chatgpt
- https://marketplace.visualstudio.com/items?itemName=gencay.vscode-chatgpt', '2023-02-10T06:43:10.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-20T12:42:37.000000Z'),
	('XÃ¢y dá»±ng á»©ng dá»¥ng há»— trá»£ luyá»‡n viáº¿t tiáº¿ng Anh báº±ng ChatGPT API vÃ  NextJS', '3kY4g5okLAe', '7', 'unlisted', 'https://images.viblo.asia/5605bade-1aa2-4880-b7bb-a1c249e6b9f0.png', 'Xin chÃ o táº¥t cáº£ cÃ¡c báº¡n!

NhÃ¢n dá»‹p nÄƒm má»›i xin chÃºc táº¥t cáº£ cÃ¡c báº¡n Ä‘á»c cá»§a Viblo má»™t nÄƒm an khang thá»‹nh vÆ°á»£ng, Ä‘áº¡t Ä‘Æ°á»£c nhiá»u thÃ nh cÃ´ng trong sá»± nghiá»‡p vÃ  cuá»™c sá»‘ng!

Cháº¯c háº³n cÃ¡c báº¡n Ä‘á»u biáº¿t tá»›i ChatGPT, 1 con bot AI ná»•i lÃªn trong thá»i gian gáº§n Ä‘Ã¢y vá»›i kháº£ nÄƒng trÃ² chuyá»‡n vÃ  tráº£ lá»i vá» háº§u nhÆ° má»i lÄ©nh vá»±c trong cuá»™c sá»‘ng. DÃ¹ cÃ²n nhiá»u tranh cÃ£i vá» tÃ­nh Ä‘Ãºng sai cá»§a dá»¯ liá»‡u nhÆ°ng khÃ´ng thá»ƒ p...', 'Xin chÃ o táº¥t cáº£ cÃ¡c báº¡n!

NhÃ¢n dá»‹p nÄƒm má»›i xin chÃºc táº¥t cáº£ cÃ¡c báº¡n Ä‘á»c cá»§a Viblo má»™t nÄƒm an khang thá»‹nh vÆ°á»£ng, Ä‘áº¡t Ä‘Æ°á»£c nhiá»u thÃ nh cÃ´ng trong sá»± nghiá»‡p vÃ  cuá»™c sá»‘ng!

Cháº¯c háº³n cÃ¡c báº¡n Ä‘á»u biáº¿t tá»›i ChatGPT, 1 con bot AI ná»•i lÃªn trong thá»i gian gáº§n Ä‘Ã¢y vá»›i kháº£ nÄƒng trÃ² chuyá»‡n vÃ  tráº£ lá»i vá» háº§u nhÆ° má»i lÄ©nh vá»±c trong cuá»™c sá»‘ng. DÃ¹ cÃ²n nhiá»u tranh cÃ£i vá» tÃ­nh Ä‘Ãºng sai cá»§a dá»¯ liá»‡u nhÆ°ng khÃ´ng thá»ƒ phá»§ nháº­n Ä‘Æ°á»£c sá»©c máº¡nh ráº¥t lá»›n cá»§a cÃ´ng cá»¥ nÃ y cÅ©ng nhÆ° AI trong viá»‡c giÃºp tÄƒng nÄƒng suáº¥t cá»§a con ngÆ°á»i trong nhiá»u ngÃ nh nghá» khÃ¡c nhau nhÆ° láº­p trÃ¬nh, marketing,â€¦

Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng API cá»§a nÃ³ Ä‘á»ƒ viáº¿t 1 á»©ng dá»¥ng Ä‘Æ¡n giáº£n há»— trá»£ ngÆ°á»i dÃ¹ng trong viá»‡c há»c tiáº¿ng Anh, vÃ  cá»¥ thá»ƒ hÆ¡n lÃ  tá»‘i Æ°u viá»‡c viáº¿t bÃ i luáº­n IELTS Writing vÃ  Speaking.

VÃ  táº¥t nhiÃªn, khÃ¡ nhiá»u Ä‘oáº¡n code trong á»©ng dá»¥ng nÃ y Ä‘Æ°á»£c chÃ­nh ChatGPT viáº¿t ğŸ˜ƒ

VÃ¬ OpenAI chÆ°a má»Ÿ public Ä‘áº¿n API cá»§a chÃ­nh ChatGPT, nÃªn mÃ¬nh sáº½ sá»­ dá»¥ng API Text Completion vá»›i tÃ­nh nÄƒng generate text tÆ°Æ¡ng tá»± nhÆ° ChatGPT.

CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o á»Ÿ Ä‘Ã¢y.

[OpenAI API](https://platform.openai.com/docs/guides/completion)

CÃ¡c tÃ­nh nÄƒng cá»§a á»©ng dá»¥ng nÃ y bao gá»“m:

- Tá»« kiá»ƒu bÃ i luáº­n: IELTS Writing task 2 vÃ  Ä‘á» bÃ i do ngÆ°á»i dÃ¹ng nháº­p, á»©ng dá»¥ng cung cáº¥p gá»£i Ã½, táº¡o bÃ i máº«u
- Chá»‰nh sá»­a lá»—i, gá»£i Ã½ cÃ¢u vÄƒn, giáº£i thÃ­ch nghÄ©a cá»§a tá»«,â€¦ dá»±a theo Ä‘oáº¡n vÄƒn báº£n ngÆ°á»i dÃ¹ng Ä‘Ã£ nháº­p vÃ  Ä‘á» bÃ i luáº­n

CÃ¡c báº¡n cÃ³ thá»ƒ check source code cá»§a project á»Ÿ Ä‘Ã¢y.

[https://github.com/ngviethoang/ai-writing-assistant](https://github.com/ngviethoang/ai-writing-assistant)

Demo á»©ng dá»¥ng.

[Writing Assistant](https://ai-writing-assistant.vercel.app/)

## CÃ i Ä‘áº·t

Khá»Ÿi táº¡o NextJS project

```powershell
yarn create next-app --typescript
```

CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n: OpenAI client, ChakraUI (UI framework)

```powershell
yarn add @chakra-ui/react @emotion/react @emotion/styled framer-motion
yarn add openai
```

### ÄÄƒng kÃ½ OpenAI API key

ÄÄƒng nháº­p tÃ i khoáº£n OpenAI táº¡i trang [https://platform.openai.com/](https://platform.openai.com/)

Táº¡o API Secret Key

![](https://images.viblo.asia/8a84c294-2edb-49a3-b4d7-8650c4ad099d.png)

Táº¡o file `.env` trong project vÃ  lÆ°u secret key

```tsx
OPENAI_API_KEY=[Nháº­p key Ä‘Ã£ táº¡o]
```

ThÃªm file `.env` nÃ y vÃ o file `.gitignore` Ä‘á»ƒ trÃ¡nh bá»‹ lá»™ key khi commit code

### Táº¡o prompt Ä‘á»ƒ giao tiáº¿p vá»›i API

Äá»ƒ giao tiáº¿p vá»›i Text Completion API, ta cáº§n sá»­ dá»¥ng cÃ¡c cÃ¢u truy váº¥n (prompt). ÄÃ¢y lÃ  bÆ°á»›c quan trá»ng Ä‘á»ƒ cÃ³ thá»ƒ ra Ä‘Æ°á»£c output chÃ­nh xÃ¡c nhÆ° nhá»¯ng gÃ¬ ta mong muá»‘n. Theo thuáº­t ngá»¯ trong NLP lÃ  *prompt engineering*.

VÃ­ dá»¥ nhÆ° 1 prompt máº«u Ä‘á»ƒ táº¡o outline máº«u cho bÃ i viáº¿t theo Ä‘á» bÃ i cá»§a IELTS Writing task:

```
Act as an IELTS test taker with a band score of 8.0. Write an essay outline in response to the following IELTS Writing Task 2 question: [insert IELTS Writing Task 2 question]
```

á» Ä‘Ã¢y ta cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c parameter cÃ³ thá»ƒ truyá»n lÃªn tá»« UI:

- `actor`: an IELTS test taker with a band score of 8.0
- `question`: IELTS Writing Task 2 question
- `content`: Ä‘oáº¡n text do ngÆ°á»i dÃ¹ng nháº­p

Táº¡o hÃ m xÃ¢y dá»±ng prompt dÃ¹ng cho viá»‡c truy váº¥n API dá»±a trÃªn cÃ¡c parameter `actor`, `question`, `content`.

```tsx
const getPrompt = (topicType: string, promptType: string, topic: string, content: string) => {
  let actor, questionType
  switch (topicType) {
    case ''IELTS Writing'':
      questionType = ''IELTS Writing Task 2''
      actor = ''an IELTS test taker with a band score of 8.0''
      break
    case ''IELTS Speaking'':
      questionType = ''IELTS Speaking''
      actor = ''an IELTS test taker with a band score of 8.0''
      break
    default:
      questionType = ''''
      actor = ''a person''
      break
  }

  switch (promptType) {
		case ''outline'':
      return `Act as ${actor}. Write an essay outline in response to the following ${questionType} question: ${topic}`
    case ''support_arguments'':
      return `Act as ${actor}. Given the following ${questionType} question, generate 3 arguments to support the statement: ${topic}`
    case ''oppose_arguments'':
      return `Act as ${actor}. Given the following ${questionType} question, generate 3 arguments to oppose the statement: ${topic}`
    case ''sample_answer'':
      return `Act as ${actor}. Write an essay in response to the following ${questionType} question with at least 250 words: ${topic}`

    case ''summarize'':
      return `Act as a summarizer and summarize this essay:
${content}`
		// ...

    default:
      return ''''
  }
}
```

### Táº¡o API handler trong NextJS

Äá»ƒ táº¡o API handler xá»­ lÃ½ káº¿t quáº£ truy váº¥n tá»« Text Completion, táº¡o API route trong thÆ° má»¥c `pages/api/prompt.ts`

```tsx
import type { NextApiRequest, NextApiResponse } from ''next''
import { Configuration, OpenAIApi } from ''openai'';

const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);

const isEmpty = (str: string) => !str.trim().length

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse<any>
) {
  if (!configuration.apiKey) {
    res.status(500).json({
      error: {
        message:
          ''OpenAI API key not configured, please follow instructions in README.md'',
      },
    });
    return;
  }

  const question = req.body.question || '''';
  const topicType = req.body.topicType || '''';
  const promptType = req.body.promptType || '''';
  const content = req.body.content || '''';

  if (isEmpty(question) || isEmpty(topicType) || isEmpty(promptType)) {
    res.status(400).json({
      error: {
        message: ''Invalid args'',
      },
    });
    return;
  }

  const prompt = getPrompt(topicType, promptType, question, content)
  if (isEmpty(prompt)) {
    res.status(400).json({
      error: {
        message: ''Invalid prompt'',
      },
    });
    return;
  }

  try {
    const completion = await openai.createCompletion({
      model: ''text-davinci-003'',
      prompt,
      temperature: 0.5,
      max_tokens: 550,
    });
    res.status(200).json({ result: completion.data.choices[0].text });
  } catch (error: any) {
    if (error.response) {
      console.error(error.response.status, error.response.data);
      res.status(error.response.status).json(error.response.data);
    } else {
      console.error(`Error with OpenAI API request: ${error.message}`);
      res.status(500).json({
        error: {
          message: ''An error occurred during your request.'',
        },
      });
    }
  }
}
```

CÃ¡c tham sá»‘ trong Text Completion API Ä‘Æ°á»£c sá»­ dá»¥ng

- `model`: sá»­ dá»¥ng model text-davinci-003 má»›i nháº¥t vÃ  máº¡nh nháº¥t trong cÃ¡c GPT-3 model
- `prompt`: cÃ¢u truy váº¥n Ä‘Ã£ build á»Ÿ step trÆ°á»›c
- `temperature`: quyáº¿t Ä‘á»‹nh Ä‘á»™ á»•n Ä‘á»‹nh cá»§a káº¿t quáº£, temperature cÃ ng cao model ra káº¿t quáº£ cÃ ng Ä‘a dáº¡ng hÆ¡n
- `max_tokens`: sá»‘ lÆ°á»£ng token tá»‘i Ä‘a tráº£ vá», cÃ³ thá»ƒ giá»›i háº¡n sá»‘ lÆ°á»£ng token tráº£  vá» má»—i prompt Ä‘á»ƒ giáº£m chi phÃ­

## Code giao diá»‡n

Tiáº¿p theo lÃ  pháº§n frontend cho á»©ng dá»¥ng, mÃ¬nh sáº½ viáº¿t cÃ¡c component cÆ¡ báº£n nhÆ°

- Text editor Ä‘á»ƒ nháº­p cÃ¢u há»i, ná»™i dung bÃ i viáº¿t
- CÃ¡c button dÃ¹ng Ä‘á»ƒ gá»i API tÆ°Æ¡ng á»©ng vá»›i cÃ¡c function nhÆ° táº¡o outline bÃ i viáº¿t, táº¡o bÃ i viáº¿t sample, chá»¯a lá»—i chÃ­nh táº£, nháº­n xÃ©t,â€¦
- Component hiá»ƒn thá»‹ káº¿t quáº£ tráº£ vá» tá»« API

Táº¡o cÃ¡c component vÃ  layout cho page báº±ng ChakraUI

```tsx
import { Box, Button, Heading, HStack, Select, Spinner, Text, Textarea, Tooltip, useToast, VStack } from ''@chakra-ui/react'';
import { useState } from ''react'';

const topicTypes = [''IELTS Writing'', ''IELTS Speaking''];

const Writing = () => {
  const [topicType, setTopicType] = useState(topicTypes[0]);
  const [question, setQuestion] = useState('''');
  const [content, setContent] = useState('''');
  const [selectedContent, setSelectedContent] = useState('''');

  return (
    <div style={{ position: ''relative'' }}>
      <VStack spacing={5} padding={5}>
        <VStack w={''100%''} spacing={2} alignItems="flex-start">
          <HStack alignItems="flex-start" w="100%" gap={2}>
            <Text>AI Type: </Text>
            <Select
              size={''sm''}
              w={40}
              value={topicType}
              onChange={(e) => setTopicType(e.target.value)}
            >
              {topicTypes.map((type) => (
                <option key={type} value={type}>
                  {type}
                </option>
              ))}
            </Select>
          </HStack>
          <HStack alignItems="flex-start" w="100%" gap={2}>
            <Text>Question: </Text>
            <Textarea
              value={question}
              onChange={(e) => setQuestion(e.target.value)}
            />
          </HStack>
        </VStack>

        <HStack spacing={5} alignItems="flex-start" w="100%">
          <VStack w="100%">
            <Textarea
              rows={20}
              value={content}
              onChange={(e) => setContent(e.target.value)}
              onSelect={(e: any) => {
                // lÆ°u selection text Ä‘á»ƒ láº¥y gá»£i Ã½ tá»« API cho cÃ¡c tá»« nÃ y
                e.preventDefault();
                const { selectionStart, selectionEnd }: any = e.target;
                const selectedText = content.slice(selectionStart, selectionEnd);
                setSelectedContent(selectedText);
              }}
            />
          </VStack>
          {/* render buttons vÃ  káº¿t quáº£ gá»£i Ã½ */}
          <VStack alignItems="flex-start" w="100%"></VStack>
        </HStack>
      </VStack>
    </div>
  );
};

export default Writing;
```

Render cÃ¡c button Ä‘á»ƒ generate prompt vÃ  káº¿t quáº£ gá»£i Ã½ tá»« API

```tsx
const generateButtons = [
  { name: ''Outline'', promptType: ''outline'', tooltip: ''Write an essay outline'' },
  {
    name: ''Supportive arguments'',
    promptType: ''support_arguments'',
    tooltip: ''generate 3 arguments to support the statement'',
  },
  {
    name: ''Opposite arguments'',
    promptType: ''oppose_arguments'',
    tooltip: ''generate 3 arguments to oppose the statement'',
  },
  // ... full list button in source code
];

const vocabButtons = [
  {
    name: ''Dictionary'',
    promptType: ''dictionary'',
    tooltip:
      ''Explain the meaning of the word and give me an example of how to use it in real life'',
  },
  { name: ''Synonyms'', promptType: ''synonyms'', tooltip: ''Give me 5 synonyms'' },
  { name: ''Antonyms'', promptType: ''antonyms'', tooltip: ''Give me 5 antonyms'' },
];

const [result, setResult] = useState({ title: '''', content: '''' });

const renderButtons = (buttons: any[], color: string, content: string, isDisabled: boolean) => {
  return (
    <HStack gap={1} wrap="wrap" alignItems="flex-start">
      {buttons.map((btn, i) => (
        <Tooltip key={i} hasArrow label={btn.tooltip}>
          <Button
            colorScheme={color}
            variant="outline"
            size="sm"
            isDisabled={isDisabled}
            onClick={async () => {
              setSelectContent();
              const resultContent = await queryPrompt(btn.promptType, content);
              if (resultContent) {
                setResult({ title: btn.name, content: resultContent });
              }
            }}
          >
            {btn.name}
          </Button>
        </Tooltip>
      ))}
    </HStack>
  );
};

return (
	// ...
	<VStack alignItems="flex-start" w="100%">
	  {renderButtons(generateButtons, ''blue'', content, false)}
		<Text fontSize="sm">For selection text: </Text>
		{/* chá»‰ enable cÃ¡c button khi content text Ä‘Æ°á»£c select */}
    {renderButtons(contentButtons, ''teal'', selectedContent, !selectedContent )}

		{!!result.title && (
	    <VStack alignItems="flex-start">
	      <Heading size="md">{result.title}</Heading>
	      <pre style={{ whiteSpace: ''pre-wrap'', fontFamily: ''inherit'' }}>
	        {result.content}
	      </pre>
	    </VStack>
	  )}
	</VStack>
	// ...
)
```

Káº¿t quáº£ tráº£ vá» tá»« API:

![](https://images.viblo.asia/5605bade-1aa2-4880-b7bb-a1c249e6b9f0.png)

GPT API nÃ y cÃ³ chi phÃ­ khÃ¡ cao nÃªn chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng cache Ä‘á»ƒ lÆ°u láº¡i káº¿t quáº£ cÃ¡c truy váº¥n trÆ°á»›c Ä‘Ã³.

Gá»i API `/api/prompt` khi click cÃ¡c button trÃªn Ä‘á»ƒ hiá»ƒn thá»‹ káº¿t quáº£ gá»£i Ã½

```tsx
const toast = useToast();

const [loadingPrompt, setLoadingPrompt] = useState(false);

const queryPrompt = async (promptType: string, content: string) => {
  setLoadingPrompt(true);
  const response = await fetch(''/api/prompt'', {
    method: ''POST'',
    headers: {
      Accept: ''application/json'',
      ''Content-Type'': ''application/json'',
    },
    body: JSON.stringify({ topicType, promptType, question, content }),
  });
  const data = await response.json();
  setLoadingPrompt(false);
  if (!response.ok) {
    toast({
      title: ''Error'',
      description: data?.error?.message,
      status: ''error'',
      duration: 9000,
      isClosable: true,
    });
    return '''';
  }
  return (data.result || '''').trim();
};
```

Cháº¡y á»©ng dá»¥ng

```tsx
npm run dev
```

Giao diá»‡n á»©ng dá»¥ng

![](https://images.viblo.asia/108fb60e-ee76-4d4e-af44-2d9cb9958fa4.png)

### Káº¿t luáº­n

Qua viá»‡c xÃ¢y dá»±ng á»©ng dá»¥ng nÃ y, hy vá»ng báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c cÃ¡ch Ä‘á»ƒ tÃ­ch há»£p AI vÃ o á»©ng dá»¥ng cá»§a mÃ¬nh Ä‘á»ƒ phá»¥c vá»¥ cÃ¡c use case khÃ¡c nhÆ° chatbot, gia sÆ° dáº¡y há»c, PT lÃªn lá»‹ch táº­p,â€¦

Háº¹n gáº·p láº¡i á»Ÿ cÃ¡c bÃ i viáº¿t sau!', '2023-02-10T03:59:05.000000Z', '2023-02-28T05:13:04.000000Z', '2023-02-10T03:45:34.000000Z'),
	('Series SolidJS - Táº­p 3: Reactivity primitives trong SolidJS', 'BQyJKjQW4Me', '8', 'unlisted', 'https://images.viblo.asia/81bcbde7-c61f-4b23-9846-691c77a1a48d.jpeg', 'Giá»›i thiá»‡u
Hello everyone, chÃºng ta láº¡i gáº·p nhau ná»¯a rá»“i âœŒï¸\
Táº­p trÆ°á»›c trong series mÃ¬nh Ä‘Ã£ chia sáº» vá» cÃ¡ch khá»Ÿi táº¡o project  SolidJS vÃ  cÃ¡ch hoáº¡t Ä‘á»™ng cÆ¡ báº£n cá»§a 1 á»©ng dá»¥ng SolidJS.

Trong táº­p 3 nÃ y mÃ¬nh vÃ  cÃ¡c báº¡n sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» ğŸ“¥ Reactivity primitives cá»§a SolidJS nhÃ©.

Ná»™i dung
* ğŸ“¥ Reactivity primitives
    - Signals
    - Effects
    - Memo

"Reactivity primitives" lÃ  má»™t khÃ¡i niá»‡m tro...', '## Giá»›i thiá»‡u
Hello everyone, chÃºng ta láº¡i gáº·p nhau ná»¯a rá»“i âœŒï¸\
Táº­p trÆ°á»›c trong series mÃ¬nh Ä‘Ã£ chia sáº» vá» cÃ¡ch khá»Ÿi táº¡o project  **[SolidJS](https://www.solidjs.com/)** vÃ  cÃ¡ch hoáº¡t Ä‘á»™ng cÆ¡ báº£n cá»§a 1 á»©ng dá»¥ng SolidJS.

Trong táº­p 3 nÃ y mÃ¬nh vÃ  cÃ¡c báº¡n sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» ğŸ“¥ **[Reactivity primitives](https://www.solidjs.com/guides/reactivity)** cá»§a **[SolidJS](https://www.solidjs.com/)** nhÃ©.

## Ná»™i dung
* ğŸ“¥ **[Reactivity primitives](https://www.solidjs.com/guides/reactivity)**
    - *Signals*
    - *Effects*
    - *Memo*

**"Reactivity primitives"** lÃ  má»™t khÃ¡i niá»‡m trong láº­p trÃ¬nh web vÃ  lÃ  má»™t pháº§n cá»§a cÃ¡c ká»¹ thuáº­t xá»­ lÃ½ tÆ°Æ¡ng tÃ¡c cá»§a ngÆ°á»i dÃ¹ng trÃªn giao diá»‡n. NÃ³ bao gá»“m cÃ¡c phÆ°Æ¡ng thá»©c cÆ¡ báº£n Ä‘á»ƒ **xá»­ lÃ½ cÃ¡c sá»± kiá»‡n tÆ°Æ¡ng tÃ¡c vÃ  cáº­p nháº­t giao diá»‡n** theo thá»i gian thá»±c.

`Vd: thao tÃ¡c nháº¥n vÃ o má»™t nÃºt trÃªn web lÃ  má»™t phÆ°Æ¡ng thá»©c tÆ°Æ¡ng tÃ¡c cÆ¡ báº£n vÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xá»­ lÃ½ sá»± kiá»‡n nháº¥p chuá»™t hoáº·c gÃµ tá»« báº¥m phÃ­m.`

-----

###  **[Reactivity primitives](https://www.solidjs.com/guides/reactivity)** - Signals lÃ  gÃ¬?

LÃ  má»™t trong nhá»¯ng Ä‘á»‹nh nghÄ©a ná»n táº£ng cá»§a **reactivity primitives** trong Solid, nÃ³ thá»ƒ hiá»‡n 1 tráº¡ng thÃ¡i, 1 giÃ¡ trá»‹, 1 chá»©c nÄƒng, dá»¯ liá»‡u hay tÃ­n hiá»‡u mÃ  báº¡n cáº§n thá»ƒ hiá»‡n trong giao diá»‡n...

khi báº¡n thay Ä‘á»•i giÃ¡ trá»‹ cá»§a **signals**, nÃ³ sáº½ tá»± Ä‘á»™ng cáº­p nháº­t Ä‘áº¿n báº¥t kÃ¬ nÆ¡i nÃ o vÃ  báº¥t kÃ¬ thá»© gÃ¬ Ä‘ang sá»­ dá»¥ng giÃ¡ trá»‹ cá»§a **signals** Ä‘Ã³.

Khá»Ÿi táº¡o 1 signals:

```jsx
import { createSignal } from "solid-js";

const [count, setCount] = createSignal(0);
```

á» Ä‘Ã¢y chÃºng ta cÃ³ thá»ƒ hiá»ƒu nhÆ° sau:

- Äá»‘i sá»‘ mang giÃ¡ trá»‹ **`0`** Ä‘Æ°á»£c truyá»n cho hÃ m **`createSignal()`** Ä‘Æ°á»£c gá»i lÃ  **giÃ¡ trá»‹ khá»Ÿi táº¡o**.
- GiÃ¡ trá»‹ tráº£ vá» lÃ  má»™t máº£ng cÃ³ gá»“m hai hÃ m chá»©c nÄƒng. Sá»­ dá»¥ng **destructuring** trong Javascript Ä‘á»ƒ cÃ³ thá»ƒ thá»ƒ Ä‘áº·t tÃªn cho cÃ¡c function nÃ y. MÃ¬nh Ä‘áº·t tÃªn cho hÃ m getter lÃ  `count` vÃ  setter lÃ  `setCount` nhÃ©.
- á» vÃ­ dá»¥ trÃªn náº¿u chÃºng ta muá»‘n log ra giÃ¡ trá»‹ `count` thÃ¬ sáº½ khÃ´ng Ä‘Æ°á»£c, thay vÃ o Ä‘áº¥y chÃºng ta pháº£i gá»i hÃ m `count()` Ä‘á»ƒ nháº­n Ä‘Æ°á»£c giÃ¡ trá»‹ tráº£ vá» nhÆ° mong muá»‘n.
```jsx
console.log(count) // khÃ´ng tráº£ vá» giÃ¡ trá»‹
console.log(count()) // 0
```
- HÃ m `setCount()` dÃ¹ng Ä‘á»ƒ cáº­p nháº­t láº¡i giÃ¡ trá»‹ tráº£ vá» (sá»‘ Ä‘áº¿m)

```jsx
// ChÃºng ta cÃ³ 2 cÃ¡ch viáº¿t nhÆ° sau
setCount(count() + 1)
setCount(c => c + 1)
```

> Báº¡n cÃ³ tháº¥y syntax giá»‘ng trong ReactJS khÃ´ng? ğŸ˜
> HÃ£y comment cho mÃ¬nh biáº¿t Signals cÃ³ gÃ¬ giá»‘ng hay khÃ¡c vá»›i **`useState`** trong **ReactJS** nhÃ©.

###  **[Reactivity primitives](https://www.solidjs.com/guides/reactivity)**  -  Effects lÃ  gÃ¬?

Signals lÃ  cÃ¡c giÃ¡ trá»‹ mÃ  ta cÃ³ thá»ƒ theo dÃµi vÃ  sá»­ dá»¥ng, nhÆ°ng chÃºng chá»‰ lÃ  má»™t ná»­a cá»§a cÃ¢u chuyá»‡n.

**Effects** thá»±c thi dá»±a vÃ o sá»± thay Ä‘á»•i giÃ¡ trá»‹ cá»§a Signals. LÃºc nÃ y **Effects** táº¡o ra má»™t `side effect` (tÃ¡c dá»¥ng phá»¥) phá»¥ thuá»™c vÃ o tÃ­n hiá»‡u Signals.

```jsx
const [count, setCount] = createSignal(0);

createEffect(() => {
    console.log("The count is now", count());
});
```

MÃ¬nh cÃ³ 1 vÃ­ dá»¥ nhá» vá» viá»‡c Ä‘áº¿m sá»‘ nhÆ° sau:

```jsx
import { render } from ''solid-js/web'';
import { createSignal, createEffect } from ''solid-js'';

function Counter() {
  const [count, setCount] = createSignal(0);

  createEffect(() => {
    console.log("The count is now", count());
  });

  return <button onClick={() => setCount(count() + 1)}>
            Click Me {count()}
         </button>
}

render(() => <Counter />, document.getElementById(''app''))
```
> CÃ¡c báº¡n cÃ³ thá»ƒ copy Ä‘oáº¡n code trÃªn vÃ  paste vÃ o https://playground.solidjs.com/ Ä‘á»ƒ cháº¡y vd trá»±c tiáº¿p nhÃ©, hoáº·c báº¡n cÃ³ thá»ƒ thá»­ ngay trÃªn chÃ­nh source code Ä‘Ã£ táº¡o á»Ÿ táº­p trÆ°á»›c ^^

MÃ¬nh sáº½ giáº£i thÃ­ch vd trÃªn nhÆ° sau:

- ChÃºng ta Ä‘Ã£ khá»Ÿi táº¡o 1 Signals vá»›i giÃ¡ trá»‹ lÃ  0
- Sau Ä‘áº¥y tiáº¿p tá»¥c chÃºng ta sá»­ dá»¥ng hÃ m **createEffect()** vÃ  truyá»n vÃ o trong Ä‘Ã³ 1 function Ä‘á»ƒ log (hiá»ƒn thá»‹ trÃªn `tab Console`) ra giÃ¡ trá»‹ sá»‘ Ä‘áº¿m hiá»‡n táº¡i `count()`
- Tiáº¿p Ä‘áº¿n á»Ÿ pháº§n giao diá»‡n ta cÃ³ 1 button, khi click sáº½ tÄƒng sá»‘ Ä‘áº¿m lÃªn +1 Ä‘Æ¡n vá»‹

Khi chÃºng ta sá»­ dá»¥ng hÃ m **createEffect()** nÃ³ sáº½ luÃ´n táº¡o ra 1 pháº£n á»©ng phá»¥ (side effect) Ä‘á»ƒ cho ta biáº¿t Ä‘Æ°á»£c giÃ¡ trá»‹ `count()` thay Ä‘á»•i ra sao

TrÆ°á»›c khi chÃºng ta click vÃ o button `Click Me` thÃ¬ side effect nÃ y Ä‘Ã£ Ä‘Æ°á»£c thá»±c thi vÃ  nÃ³ Ä‘Ã£ `console.log("The count is now", count())` ra giÃ¡ trá»‹ khá»Ÿi táº¡o **(initial value)** ban Ä‘áº§u chÃ­nh lÃ  sá»‘ **`0`**


![](https://images.viblo.asia/cf481d67-3a0e-4a60-b56e-af35cc86d87e.png)


Tiáº¿p sau Ä‘áº¥y má»—i láº§n chÃºng ta click vÃ o button `Click Me` thÃ¬ giÃ¡ trá»‹ sá»‘ Ä‘áº¿m `count()` sáº½ tÄƒng lÃªn 1 Ä‘Æ¡n vá»‹ --> cÅ©ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c xáº£y ra 1 side effect (pháº£n á»©ng phá»¥) `console.log("The count is now", count())`

![](https://images.viblo.asia/8b29c0d2-17f5-4ecd-88d9-37654f0c1a52.png)

----

> Báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng nhiá»u hÃ m **createEffect()**, má»—i Effect sáº½ sinh ra `side effect` theo tá»«ng Signal trong cÃ¹ng 1 **Component <Counter/>**

```jsx
import { render } from ''solid-js/web'';
import { createSignal, createEffect } from ''solid-js'';

function Counter() {
  const [count, setCount] = createSignal(0);
  const [name, setName] = createSignal("TÃ¹ng Anh Nguyá»…n");

  createEffect(() => {
    console.log("The count is now", count());
  });

  createEffect(() => {
    console.log("My name is ", name());
  });

  const handleClick = () => {
    // CÃ¡ch update signal gá»i trá»±c tiáº¿p hÃ m getter lÃ  count()
    setCount(count() + 1)

    // Signal cháº¥p nháº­n 1 hÃ m sá»­ dá»¥ng giÃ¡ trá»‹ trÆ°á»›c Ä‘Ã³ Ä‘áº·t cho giÃ¡ trá»‹ tiáº¿p theo.
    setName(name => name + " (Jeremy)")
  }

  return <button onClick={handleClick}>Click Me: {name()} - {count()}</button>
}

render(() => <Counter />, document.getElementById(''app''))
```

![](https://images.viblo.asia/a72f823f-13d8-4114-b1c7-ceaf8350b617.png)


###  **[Reactivity primitives](https://www.solidjs.com/guides/reactivity)**  -  Memos lÃ  gÃ¬?


Háº§u háº¿t cÃ¡c cÃ´ng viá»‡c chÃºng ta gáº·p pháº£i Ä‘á»u cÃ³ thá»ƒ sá»­ dá»¥ng Signals lÃ  Ä‘á»§ yÃªu cáº§u. Tuy nhiÃªn Ä‘Ã´i lÃºc chÃºng ta sáº½ gáº·p pháº£i nhá»¯ng trÆ°á»ng há»£p pháº£i xá»­ lÃ½ cÃ¡c cÃ´ng viá»‡c láº·p Ä‘i láº·p láº¡i. Váº­y Ä‘Ã¢u lÃ  giáº£i phÃ¡p? ğŸ§


**`createMemo`** táº¡o ra tÃ­n hiá»‡u (Signal) vá»›i cÃ´ng viá»‡c chÃ­nh lÃ  Ä‘á»c, tÃ­nh toÃ¡n láº¡i giÃ¡ trá»‹ cá»§a nÃ³ báº¥t cá»© khi nÃ o giÃ¡ trá»‹ cÃ³ sá»± thay Ä‘á»•i, cáº­p nháº­t.

ChÃºng ta sáº½ sá»­ dá»¥ng **`createMemo`** khi muá»‘n lÆ°u vÃ o bá»™ nhá»› Ä‘á»‡m má»™t sá»‘ giÃ¡ trá»‹ vÃ  truy cáº­p chÃºng mÃ  khÃ´ng cáº§n xem xÃ©t viá»‡c truy xuáº¥t láº¡i chÃºng, cho Ä‘áº¿n khi má»™t giÃ¡ trá»‹ phá»¥ thuá»™c (dependence) thay Ä‘á»•i.

---

VÃ­ dá»¥: mÃ¬nh muá»‘n hiá»ƒn thá»‹ sá»‘ Ä‘áº¿m `count()` 100 láº§n vÃ  cáº­p nháº­t giÃ¡ trá»‹ sá»‘ Ä‘áº¿m khi nháº¥p vÃ o nÃºt (button) ---> sá»­ dá»¥ng **`createMemo()`** sáº½ cho phÃ©p viá»‡c tÃ­nh toÃ¡n láº¡i chá»‰ xáº£y ra má»™t láº§n cho má»—i láº§n click

```jsx

import { render } from ''solid-js/web'';
import { createSignal, createMemo } from ''solid-js'';

function Counter() {
   const [count, setCount] = createSignal(0);
   // Náº¿u chÃºng ta khÃ´ng bá»c nÃ³ trong createMemo
   // Viá»‡c tÃ­nh toÃ¡n vÃ  thá»ƒ hiá»‡n giÃ¡ trá»‹ sáº½ xáº£y ra 100 láº§n cho má»—i láº§n click
   // const counter = () => {
   //    return count();
   // }

    // NgÆ°á»£c láº¡i náº¿u chÃºng ta bá»c nÃ³ trong createMemo
    // Viá»‡c tÃ­nh toÃ¡n láº¡i vÃ  thá»ƒ hiá»‡n giÃ¡ trá»‹ chá»‰ xáº£y ra má»™t láº§n cho má»—i láº§n click
   const counter = createMemo(() => {
       return count()
   })

   return (
       <>
       <button onClick={() => setCount(count() + 1)}>Count: {count()}</button>
       <div>1. {counter()}</div>
       <div>2. {counter()}</div>
       <div>3. {counter()}</div>
       <div>4. {counter()}</div>
       <div>5. {counter()}</div>

       <p>95 more times...</p>
       </>
   );
}

render(() => <Counter />, document.getElementById(''app''))
```

```jsx
   // Náº¿u chÃºng ta khÃ´ng bá»c nÃ³ trong createMemo
   // Viá»‡c tÃ­nh toÃ¡n vÃ  thá»ƒ hiá»‡n giÃ¡ trá»‹ sáº½ xáº£y ra 100 láº§n cho má»—i láº§n click
   const counter = () => {
      return count();
   }

    // NgÆ°á»£c láº¡i náº¿u chÃºng ta bá»c nÃ³ trong createMemo
    // Viá»‡c tÃ­nh toÃ¡n láº¡i vÃ  thá»ƒ hiá»‡n giÃ¡ trá»‹ chá»‰ xáº£y ra má»™t láº§n cho má»—i láº§n click
   const counter = createMemo(() => {
       return count()
   })
```

Äiá»u nÃ y ráº¥t cÃ³ lá»£i cho viá»‡c tÃ­nh toÃ¡n vÃ  sá»­ dá»¥ng bá»™ nhá»› cá»§a cÃ¡c effect, dá»¯ liá»‡u cÃ³ cÃ¡c thÃ nh pháº§n phá»¥ thuá»™c vÃ  hÆ¡n háº¿t lÃ  **giáº£m thiá»ƒu cÃ´ng viá»‡c** cáº§n pháº£i lÃ m **cho cÃ¡c hoáº¡t Ä‘á»™ng tá»‘n kÃ©m** hiá»‡u suáº¥t nhÆ° táº¡o DOM, tÃ­nh toÃ¡n giÃ¡ trá»‹....



## Tá»•ng káº¿t láº¡i táº­p 3 thÃ´i nÃ o

Táº­p 3 nÃ y chÃºng ta Ä‘Ã£ cÃ¹ng tÃ¬m hiá»ƒu vá» cÃ¡c tÃ­nh nÄƒng chÃ­nh cá»§a **[Reactivity primitives](https://www.solidjs.com/guides/reactivity)** nhÆ° *Signals*, *Effects* vÃ  *Memos*

Trong táº­p sau mÃ¬nh sáº½ cÃ¹ng Ä‘i vÃ o pháº§n tiáº¿p theo:
* ğŸ”„ **[Lifecycle methods](https://www.solidjs.com/docs/latest/api#lifecycles)**
    - *onMount*
    - *onCleanup*
    - *onError*

Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo dÃµi táº­p 3 trong series vá» **[SolidJS](https://www.solidjs.com/)**. Náº¿u cÃ¡c báº¡n cÃ³ tháº¯c máº¯c hoáº·c gÃ³p Ã½ vá» bÃ i viáº¿t hÃ£y **comment** giÃºp mÃ¬nh nhÃ©, cáº£m Æ¡n cÃ¡c báº¡n ğŸ˜˜

Series SolidJS - Táº­p 4: https://viblo.asia/p/series-solidjs-tap-4-lifecycle-vong-doi-trong-solidjs-y37Ldw3yJov

### Tham kháº£o
https://www.solidjs.com/tutorial/introduction_signals
https://www.solidjs.com/tutorial/introduction_effects
https://www.solidjs.com/tutorial/introduction_memos', '2023-02-09T19:40:03.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-19T15:05:18.000000Z'),
	('Ref vÃ  Reactive trong Vue 3', 'm2vJPORl4eK', '9', 'unlisted', 'https://images.viblo.asia/c71c8d77-fc56-4903-bf5a-5f64e41474ae.png', 'Trong Vue 3 cÃ³ hai Reactivity API mÃ  dá»… lÃ m newbie gÃ¢y nháº§m láº«n khi sá»­ dá»¥ng Ä‘Ã³ lÃ  ref vÃ  reactive. BÃ i viáº¿t nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡ch sá»­ dá»¥ng 2 API trÃªn, kÃ¨m má»™t sá»‘ so sÃ¡nh vá»›i Vue 2 cho nhá»¯ng ai má»›i chuyá»ƒn tá»« Vue 2 lÃªn Vue 3.

Ref

VÃ­ dá»¥ Ä‘Æ¡n giáº£n khi thay Ä‘á»•i má»™t reactive state báº±ng Vue 2:

Chá»©c nÄƒng tÆ°Æ¡ng tá»± nhÆ°ng sá»­ dá»¥ng ref() trong Vue 3:

Äá»ƒ hiá»ƒu rÃµ hÆ¡n vá» nguyÃªn lÃ½ hoáº¡t Ä‘á»™ng cá»§a ref(), c...', 'Trong Vue 3 cÃ³ hai [Reactivity API](https://vuejs.org/api/reactivity-core.html) mÃ  dá»… lÃ m newbie gÃ¢y nháº§m láº«n khi sá»­ dá»¥ng Ä‘Ã³ lÃ  [ref](https://vuejs.org/api/reactivity-core.html#ref) vÃ  [reactive](https://vuejs.org/api/reactivity-core.html#reactive). BÃ i viáº¿t nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡ch sá»­ dá»¥ng 2 API trÃªn, kÃ¨m má»™t sá»‘ so sÃ¡nh vá»›i Vue 2 cho nhá»¯ng ai má»›i chuyá»ƒn tá»« Vue 2 lÃªn Vue 3.

## Ref

VÃ­ dá»¥ Ä‘Æ¡n giáº£n khi thay Ä‘á»•i má»™t *reactive state* báº±ng Vue 2:

```javascript
<template>
  <h1>Count: {{ count }}</h1>

  <button @click="increaseCount">Increase Count</button>
</template>

<script>
export default {
  data() {
    return {
      count: 0,
    };
  },

  methods: {
    increaseCount() {
      this.count++;
    },
  },
};
</script>
```

Chá»©c nÄƒng tÆ°Æ¡ng tá»± nhÆ°ng sá»­ dá»¥ng **ref()** trong Vue 3:

```javascript
<template>
  <h1>Count: {{ count }}</h1>

  <button @click="increaseCount">Increase Count</button>
</template>

<script>
import {ref} from "vue";

export default {
  setup() {
    // Táº¡o 1 reactive state count = 0
    // (count á»Ÿ Ä‘Ã¢y lÃ  má»™t Proxy object chá»© khÃ´ng pháº£i number)
    const count = ref(0);

    const increaseCount = () => {
      // TÄƒng giÃ¡ trá»‹ cá»§a count báº±ng cÃ¡ch cáº­p nháº­t giÃ¡ trá»‹ thuá»™c tÃ­nh value
      count.value++;
    };

    return {
      count,
      increaseCount,
    };
  },
};
</script>
```

Äá»ƒ hiá»ƒu rÃµ hÆ¡n vá» nguyÃªn lÃ½ hoáº¡t Ä‘á»™ng cá»§a **ref()**, cÃ¡c báº¡n nÃªn tÃ¬m hiá»ƒu thÃªm vá» [Proxy trong Javascript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy).

**Má»™t sá»‘ chÃº Ã½ vá» ref():**

- ChÃºng ta cÃ³ thá»ƒ lÆ°u dá»¯ liá»‡u gÃ¬ vÃ o _ref object_ cÅ©ng Ä‘Æ°á»£c.

- Ref object lÃ  _mutable_, khi cáº§n thay Ä‘á»•i giÃ¡ trá»‹ thÃ¬ cÃ³ thá»ƒ thay Ä‘á»•i trá»±c tiáº¿p thuá»™c tÃ­nh **value** cá»§a nÃ³. Tuy nhiÃªn khi dÃ¹ng ref object á»Ÿ template thÃ¬ chÃºng ta khÃ´ng cáº§n **.value** vÃ¬ nÃ³ Ä‘Æ°á»£c tá»± Ä‘á»™ng _unwrap_.

## Reactive

Trong Ä‘a sá»‘ trÆ°á»ng há»£p, chÃºng ta chá»‰ cáº§n dÃ¹ng **ref()** lÃ  Ä‘á»§. Váº­y dÃ¹ng **reactive()** Ä‘á»ƒ lÃ m gÃ¬?

**reactive()** hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± **ref()** nhÆ°ng nÃ³ chá»‰ nháº­n tham sá»‘ lÃ  object, khÃ´ng nháº­n cÃ¡c kiá»ƒu dá»¯ liá»‡u _primitives_ (number, string, boolean). VÃ  chÃºng ta thay Ä‘á»•i giÃ¡ trá»‹ cá»§a _reactive object_ báº±ng cÃ¡ch thay Ä‘á»•i cÃ¡c thuá»™c tÃ­nh cá»§a nÃ³ (thay vÃ¬ thay Ä‘á»•i thuá»™c tÃ­nh _value_ nhÆ° _ref_). VÃ­ dá»¥ á»Ÿ trÃªn viáº¿t láº¡i báº±ng **reactive()**:

```javascript
<template>
  <h1>Count: {{ state.count }}</h1>

  <button @click="increaseCount">Increase Count</button>
</template>

<script>
import {reactive} from "vue";

export default {
  setup() {
    // Táº¡o 1 reactive state cÃ³ thuá»™c tÃ­nh count = 0
    const state = reactive({count: 0});

    const increaseCount = () => {
      // TÄƒng giÃ¡ trá»‹ cá»§a thuá»™c tÃ­nh count
      state.count++;
    };

    return {
      state,
      increaseCount,
    };
  },
};
</script>
```

Vá» báº£n cháº¥t **ref()** lÃ  má»™t hÃ m wrap láº¡i **reactive** (bÃªn trong _ref()_ sá»­ dá»¥ng _reactive()_), nÃªn trong Ä‘a sá»‘ trÆ°á»ng há»£p chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng háº§u háº¿t **ref()** cho Ä‘á»“ng bá»™ vÃ  Ä‘á»¡ pháº£i nhá»› nhiá»u, chá»‰ cáº§n chÃº Ã½ khi thay Ä‘á»•i giÃ¡ trá»‹ cá»§a _ref object_ pháº£i thÃ´ng qua thuá»™c tÃ­nh _value_. Báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng **reactive** khi muá»‘n táº¡o 1 state táº­p trung Ä‘á»ƒ Ä‘á»¡ pháº£i táº¡o nhiá»u biáº¿n, vÃ­ dá»¥:

```javascript
// DÃ¹ng ref()
const isLoading = ref(false);
const isError = ref(false);
const user = ref({
  name: "Robin",
  role: "Admin",
});

// DÃ¹ng reactive()
const state = reactive({
  isLoading: false,
  isError: false,
  user: {
    name: "Robin",
    role: "Admin",
  },
});
```

ChÃº Ã½ khi dÃ¹ng **reactive** chÃºng ta chá»‰ Ä‘Æ°á»£c truyá»n vÃ o má»™t object vÃ  khi update thÃ¬ sáº½ update cÃ¡c thuá»™c tÃ­nh cá»§a object Ä‘Ã³, chá»© khÃ´ng dÃ¹ng phÃ©p gÃ¡n trá»±c tiáº¿p vÃ o _reactive object_. VÃ­ dá»¥ nhÆ° sau lÃ  sai:

```javascript
<template>
  <h1>User name: {{ user.name }}</h1>
  <h1>User role: {{ user.role }}</h1>

  <button @click="updateUser">Update</button>
</template>

<script>
import {reactive} from "vue";

export default {
  setup() {
    // Táº¡o 1 reactive object user
    const user = reactive({name: "Robin", role: "Admin"});

    const updateUser = () => {
      // VÃ­ dá»¥ dá»¯ liá»‡u má»›i láº¥y tá»« form, api, ... sau Ä‘Ã³ update trá»±c tiáº¿p báº±ng phÃ©p gÃ¡n

      // Code sai
      user = {name: "Huy", role: "Staff"};
    };

    return {
      user,
      updateUser,
    };
  },
};
</script>
```

á» dÃ²ng 20 vÃ­ dá»¥ trÃªn lÃ  code sai do chÃºng ta gÃ¡n giÃ¡ trá»‹ cho biáº¿n user thÃ nh má»™t object má»›i. Náº¿u á»Ÿ lÃºc khai bÃ¡o dÃ¹ng `const` thÃ¬ sáº½ bÃ¡o lá»—i luÃ´n, cÃ²n náº¿u dÃ¹ng `let` thÃ¬ code Ä‘Ãºng cÃº phÃ¡p nhÆ°ng khi báº¥m nÃºt thÃ¬ giao diá»‡n khÃ´ng update do biáº¿n **user** khÃ´ng cÃ²n lÃ  _reactive object_ ná»¯a, chá»‰ lÃ  má»™t object bÃ¬nh thÆ°á»ng. CÃ³ thá»ƒ sá»­a láº¡i báº±ng cÃ¡ch cáº­p nháº­t tá»«ng thuá»™c tÃ­nh má»™t:

```javascript
user.name = "Huy";
user.role = "Staff";
```

Hoáº·c sá»­ dá»¥ng `ref()`:

```javascript
<template>
  <h1>User name: {{ user.name }}</h1>
  <h1>User role: {{ user.role }}</h1>

  <button @click="updateUser">Update</button>
</template>

<script>
import {ref} from "vue";

export default {
  setup() {
    // Táº¡o 1 ref object user
    const user = ref({name: "Robin", role: "Admin"});

    const updateUser = () => {
      // Cáº­p nháº­t ref object qua thuá»™c tÃ­nh value
      user.value = {name: "Huy", role: "Staff"};
    };

    return {
      user,
      updateUser,
    };
  },
};
</script>
```

---
*Nguá»“n: [https://huydq.dev](https://huydq.dev).*', '2023-02-09T17:11:03.000000Z', '2023-02-28T03:49:11.000000Z', '2023-02-09T17:13:30.000000Z'),
	('Resolved React refresh webpack plugin throws $RefreshSig$ is not defined', 'MG24BwRzJz3', '10', 'unlisted', '', 'While using Babel transform and the webpack hot reload middleware approach, and after build the project in PROD mode, an uncaught ReferenceError:  is not defined error thrown in console.

Per react-refresh-webpack-plugin docs :
Ensure both the Babel transform (react-refresh/babel) and this plugin are enabled only in development mode!

and the packages:
- "@pmmmwh/react-refresh-webpack-plugin": ...', 'While using Babel transform and the webpack hot reload middleware approach, and after build the project in PROD mode, an uncaught ReferenceError: **$RefreshSig$** is not defined error thrown in console.

Per `react-refresh-webpack-plugin` [docs](https://github.com/pmmmwh/react-refresh-webpack-plugin "docs") :
> Ensure both the Babel transform (react-refresh/babel) and this plugin are enabled only in development mode!

and the packages:
- `"@pmmmwh/react-refresh-webpack-plugin": "^0.5.4"`,
- `"react-refresh": "^0.11.0"`,
- `"webpack": "5.66.0"`,

This is my solution:

```
const mode = process.env.WEBPACK_SERVE ? ''development'' : ''production'';
module.exports = {
  module: {
    rules: [
      {
        test: /\.(ts|js)x?$/,
        exclude: /node_modules/,
        use: {
          loader: ''babel-loader'',
          options: {
            presets: [''@babel/preset-react'', ''@babel/preset-env'', ''@babel/preset-typescript''],
            plugins: [''@babel/plugin-transform-runtime'', mode!=''production'' && require.resolve(''react-refresh/babel'')].filter(Boolean),
          },
        },
      },
...
```

Nam Le - https://nready.net/?p=1335,', '2023-02-09T15:43:47.000000Z', '2023-02-27T13:38:04.000000Z', '2023-02-09T15:41:25.000000Z'),
	('CÃ¡c bÃ i viáº¿t ngáº¯n pháº§n 24', 'GyZJZnr8Jjm', '11', 'unlisted', '', 'CÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  ngá»¯ cáº£nh sá»­ dá»¥ng
CÃ³ ráº¥t nhiá»u loáº¡i cÆ¡ sá»Ÿ dá»¯, pháº£i Ä‘áº¿n hÃ ng trÄƒm loáº¡i, phá»• biáº¿n hiá»‡n nay nhÆ° PostgresSQL, Oracle, MySQL, MariaDB, SQLite, MongoDB, S3, Ceph, â€¦

CÃ³ thá»ƒ phÃ¢n thÃ nh nhiá»u nhÃ³m vÃ  ngá»¯ cáº£nh sá»­ dá»¥ng nhÆ° sau:

â€“ Relational Database: cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡, cÃ³ thá»ƒ sá»­ dá»¥ng cho Ä‘a sá»‘ cÃ¡c má»¥c Ä‘Ã­ch
vÃ­ dá»¥: Oracle, mySQL, PostgresSQL, SQL Server, â€¦

â€“ In-memory store: tá»‘c Ä‘á»™ nh...', '## CÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  ngá»¯ cáº£nh sá»­ dá»¥ng
CÃ³ ráº¥t nhiá»u loáº¡i cÆ¡ sá»Ÿ dá»¯, pháº£i Ä‘áº¿n hÃ ng trÄƒm loáº¡i, phá»• biáº¿n hiá»‡n nay nhÆ° PostgresSQL, Oracle, MySQL, MariaDB, SQLite, MongoDB, S3, Ceph, â€¦

CÃ³ thá»ƒ phÃ¢n thÃ nh nhiá»u nhÃ³m vÃ  ngá»¯ cáº£nh sá»­ dá»¥ng nhÆ° sau:

â€“ **Relational Database**: cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡, cÃ³ thá»ƒ sá»­ dá»¥ng cho Ä‘a sá»‘ cÃ¡c má»¥c Ä‘Ã­ch
vÃ­ dá»¥: Oracle, mySQL, PostgresSQL, SQL Server, â€¦

â€“ **In-memory store**: tá»‘c Ä‘á»™ nhanh vÃ  kÃ­ch thÆ°á»›c dá»¯ liá»‡u háº¡n cháº¿ do Ä‘Ã³ lÃ½ tÆ°á»Ÿng cho cÃ¡c loáº¡i dá»¯ liá»‡u tÃ­nh toÃ¡n hay sá»­ dá»¥ng nhanh (caches)
vÃ­ dá»¥: Redis, Hazelcast, Aerospike, â€¦

â€“ **Time-series databas**e: lÆ°u trá»¯ vÃ  quáº£n lÃ½ dá»¯ liá»‡u Ä‘Ã¡nh dáº¥u theo thá»i gian
vÃ­ dá»¥: InfluxDB, Prometheus, Aeroskipe, â€¦

â€“ **Graph database**: phÃ¹ há»£p vá»›i dá»¯ liá»‡u nhiá»u quan há»‡ phá»©c táº¡p vÃ  phi cáº¥u trÃºc
vÃ­ dá»¥: Neo4j, OrientDB, ArangoDB, â€¦

â€“ **Document store**: kho tÃ i liá»‡u phÃ¹ há»£p cÃ¡c dá»¯ liá»‡u lá»›n Ã­t hay khÃ´ng thay Ä‘á»•i
vÃ­ dá»¥: Amazon DynamoDB, MongoDB, â€¦

â€“ **Wide column store**: sá»­ dá»¥ng cho dá»¯ liá»‡u lá»›n, nhÆ° phÃ¢n tÃ­ch, bÃ¡o cÃ¡o, cÃ¡c dá»¯ liá»‡u khÃ´ng chuáº©n hoÃ¡
vÃ­ dá»¥: Microsoft Azure Cosmos DB, ScyllaDB, Amazon Keyspaces, â€¦

[Ref link](https://blog.bytebytego.com/p/ep36-types-of-databases-and-use-cases)

## CÃ¡c bÃ i viáº¿t trÃªn blog Ä‘Æ°á»£c yÃªu thÃ­ch (cáº­p nháº­t)
Sá»‘ lÆ°á»£ng hot blog posts cá»§a blog BeautyOnCode Ä‘Ã£ tá»« sá»‘ 16 lÃªn con sá»‘ 49 trong 3 thÃ¡ng nha má»i ngÆ°á»i ^^

Má»™t sá»‘ bÃ i gáº§n Ä‘Ã¢y cáº­p nháº­t thÃªm:
â€“ [BeautyOnCode Ä‘áº¡t top 1 trÃªn Careerly](https://beautyoncode.com/beautyoncode-dat-top-1-tren-careerly/)
â€“ [Váº¥n Ä‘á» cá»§a cuá»™c sá»‘ng](https://beautyoncode.com/van-de-cua-cuoc-song/)
â€“ [Lexical Enviroment trong JavaScript](https://beautyoncode.com/lexical-environment-trong-javascript/)
â€“ [ChÆ¡i cÃ¹ng JavaScript](https://beautyoncode.com/choi-cung-javascript/)
â€“ [Máº£ng trong JavaScript](https://beautyoncode.com/array/)
â€“ [Khai bÃ¡o biáº¿n vá»›i var, let, const trong JavaScript](https://beautyoncode.com/khai-bao-bien-voi-var-let-va-const-trong-javascript/)
â€“ [CSS trong JS lÃ  gÃ¬?](https://beautyoncode.com/css-trong-js-la-gi/)
â€“ [Äiá»u gÃ¬ xáº£y ra khi cháº¡y chÆ°Æ¡ng trÃ¬nh JavaScript?](https://beautyoncode.com/dieu-gi-xay-ra-khi-chay-mot-chuong-trinh-javascript/)

Má»i ngÆ°á»i ghÃ© Ä‘á»c nha <3

Sáº¯p Ä‘áº¿n mÃ¬nh cÃ³ dá»± Ä‘á»‹nh gá»­i newsletter cho má»i ngÆ°á»i tá»•ng káº¿t cÃ¡c ná»™i dung tá»« blog BeautyOnCode, cÃ¡c báº¡n Ä‘Äƒng kÃ½ Ä‘á»ƒ vÃ o [mail list nÃ y](https://beautyoncode.us5.list-manage.com/subscribe?u=617ec2445e7ed8052b2f9b41a&id=b8b61cb15d) nhÃ©.
CÃ¡c newsletter Ä‘Ã£ gá»­i:

â€“ [BeautyOnCode #1 Newsletter](http://mailchi.mp/1479bb9acd6f/beautyoncode-1-newsletter)

â€“ [BeautyOnCode #2 Newsletter](https://mailchi.mp/ee10732252bb/beautyoncode-2-newsletter)

## State of CSS 2022

State of CSS lÃ  cuá»™c kháº£o sÃ¡t hÃ ng nÄƒm vá» cÃ¡c xu hÆ°á»›ng má»›i nháº¥t cá»§a CSS.

**Báº¡n nghÄ© mÃ¬nh Ä‘Ã£ biáº¿t gÃ¬ vá» CSS?**
Xem qua kháº£o sÃ¡t nÃ y Ä‘á»ƒ biáº¿t tháº¿ giá»›i Ä‘ang dÃ¹ng gÃ¬ vÃ  báº¡n Ä‘ang dÃ¹ng gÃ¬ nhÃ© ^^

CSS Ä‘Ã£ phÃ¡t triá»ƒn thÃ nh má»™t ngÃ´n ngá»¯ máº¡nh nhá» cÃ¡c tiáº¿n bá»™ tá»« Flexbox, Grid vÃ  CSS Variables.
Danh sÃ¡ch cÃ¡c tÃ­nh nÄƒng cÃ³ thá»ƒ lÃ m thay Ä‘á»•i cuá»™c chÆ¡i nhÆ° parent selector, native nesting, container layer, cascade layer, â€¦ sáº½ khiáº¿n báº¡n sá»‘c Ä‘áº¥y ^^

**Danh sÃ¡ch cÃ¡c chá»§ Ä‘á»:**

â€“ **Features**: bao gá»“m nhiá»u loáº¡i cÃº phÃ¡p, tá»« khoÃ¡

â€“ **Layout**: cÃ¡ch cÃ¡c thÃ nh pháº§n hiá»ƒn thá»‹ trÃªn trang nhÆ° subgrid, writing modes, css logical properties, aspect-ratio, content-visibility, flexbox gap, @container, object-view-box, viewport percent length unit, media queries range context

â€“ **Shape & Graphics**: blend-mode, filters & effects, backdrop filter, intrinsic sizing, conic-gradient(),

â€“ **Colors**: colors(), accent-color, curentcolor, color-mix, wide gamut color, relative colors, gradient color spaces

â€“ **Interaction**: scroll snap, overscroll behavior, touch action, scroll behavior, scrollbar-gutter

â€“ **Typography**: font-display, line-clamp, variable fonts, font palette,

â€“ **Accessibility**: prefer reduced motion, prefer color scheme, prefer reduced data, color constrast, color scheme, prefers constrast, forced-color, :focus-visibile

â€“ **Selectors**: `::marker`, `:has()`, `:where()`

á» má»—i pháº§n sáº½ bao gá»“m tá»‰ lá»‡ sá»‘ ngÆ°á»i biáº¿t vÃ  sá»‘ ngÆ°á»i sá»­ dá»¥ng, link CanIUse Ä‘á»ƒ kiá»ƒm tra support, link MDN Ä‘á»ƒ tÃ¬m hiá»ƒu thÃªm, vÃ  cÃ¡c resource gá»£i Ã½ Ä‘á»ƒ báº¡n tÃ¬m hiá»ƒu thÃªm.

https://2022.stateofcss.com/

## Ká»¹ nÄƒng tÃ¬m kiáº¿m thÃ´ng tin

Ká»¹ nÄƒng tÃ¬m kiáº¿m thÃ´ng tin (research)

> Research skills refer to the ability to search for, extract, organize, evaluate and use or present information that is relevant to a particular topic.

Táº¡m dá»‹ch:
Ká»¹ nÄƒng nghiÃªn cá»©u lÃ  nÃ³i Ä‘áº¿n kháº£ nÄƒng biáº¿t tÃ¬m kiáº¿m, phÃ¢n loáº¡i, Ä‘Ã¡nh giÃ¡ vÃ  sá»­ dá»¥ng thÃ´ng tin liÃªn qua Ä‘áº¿n má»™t chá»§ Ä‘á» cá»¥ thá»ƒ.

Qua Ä‘á»‹nh nghÄ©a trÃªn thÃ¬ ká»¹ nÄƒng nÃ y cÃ³ thá»ƒ chia thÃ nh cÃ¡c ká»¹ nÄƒng nhá» sau:

**1. TÃ¬m kiáº¿m thÃ´ng tin:**
â€“ há»c cÃ¡ch tÃ¬m kiáº¿m, cÃ¡c máº¹o tÃ¬m kiáº¿m hiá»‡u quáº£
â€“ sá»­ cÃ¡c tá»« khoÃ¡ phÃ¹ há»£p
â€“ Ä‘á»c lÃ  chÃ¬a khoÃ¡ Ä‘á»ƒ tÃ¬m cÃ¡c tá»« khoÃ¡ vá» cÃ¡c chá»§ Ä‘á», e cÃ³ thá»ƒ Ä‘á»c sÃ¡ch,
â€“ cÃ¡c bÃ i bÃ¡o, blog, cÃ¡c newsletters
â€“ láº¡i search Ä‘á»ƒ tÃ¬m tá»« khoÃ¡ â€œkeyword for â€¦â€
â€“ há»i ngÆ°á»i cÃ³ kinh nghiá»‡m hÆ¡n Ä‘á»ƒ tÃ¬m gá»£i Ã½

**2. TrÃ­ch xuáº¥t vÃ  phÃ¢n loáº¡i thÃ´ng tin:**
â€“ ghi láº¡i nhá»¯ng gÃ¬ báº¡n Ä‘á»c Ä‘Æ°á»£c
â€“ phÃ¢n loáº¡i ná»™i dung theo chá»§ Ä‘á»

**3. Sá»­ dá»¥ng ná»™i dung**
â€“ chia sáº» ná»™i dung báº¡n ghi láº¡i
â€“ tháº£o luáº­n chá»§ Ä‘á» báº¡n tÃ¬m hiá»ƒu
â€“ viáº¿t cÃ¡c note tá»•ng há»£p theo chá»§ Ä‘á»

Báº¡n ghÃ© Ä‘á»c thÃªm vá» cÃ¡ch nguá»“n tÃ i nguyÃªn mÃ¬nh gá»£i Ã½ trong blog [nÃ y](https://beautyoncode.com/ky-nang-tim-kiem-thong-tin/) nha.

## Security dÃ nh cho developer

HÃ´m qua mÃ¬nh cÃ³ tham gia nghe buá»•i chia sáº» cá»§a anh HieuPC, chuyÃªn gia vá» báº£o máº­t do cá»™ng Ä‘á»“ng Dwarves Foudation tá»• chá»©c.

DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i note muá»‘n chia sáº» Ä‘áº¿n báº¡n.

Láº­p trÃ¬nh viÃªn thÆ°á»ng táº­p trung phÃ¡t triá»ƒn sáº£n pháº©m, má»™t ngÃ y nÃ o Ä‘Ã³ bá»‹ hack thÃ¬ sáº½ báº£o máº­t sau.
â€“> Ä‘Ã¢y lÃ  mindset chÆ°a Ä‘Ãºng vÃ  cÃ³ thá»ƒ gÃ¢y háº­u quáº£ nghiÃªm trá»ng cho dá»± Ã¡n, khÃ¡ch hÃ ng vÃ  cÃ´ng ty.

**An ninh máº¡ng (cybersecurity) chia lÃ m 4 yáº¿u tá»‘:**

1. credentiality â€“ báº£o máº­t tÃ i nguyÃªn há»‡ thá»‘ng
2. competence â€“ nÃ³i vá» nÄƒng lá»±c, má»—i con ngÆ°á»i tham gia nÃªn lÃ m cÃ´ng viá»‡c phÃ¹ há»£p vá»›i kháº£ nÄƒng cá»§a mÃ¬nh. TrÃ¡nh tÃ¬nh tráº¡ng khÃ´ng biáº¿t mÃ  cá»‘ lÃ m gÃ¢y nhá»¯ng lá»—i, háº¡n cháº¿ gÃ¢y áº£nh hÆ°á»Ÿng há»‡ thá»‘ng
3. intellectual property rights â€“ váº¥n Ä‘á» quyá»n sá»Ÿ há»¯u, vÃ­ dá»¥ nhÆ° viá»‡c sá»­ dá»¥ng cÃ¡c resource nhÆ° code sáº½ cÃ³ cÃ¡c loáº¡i license khÃ¡c nhau.
4. computer abuse â€“ khÃ´ng dÃ¹ng ká»¹ nÄƒng vá» báº£o máº­t Ä‘á»ƒ lÃ m háº¡i ngÆ°á»i khÃ¡c

Viá»‡c báº£o vá»‡ dá»¯ liá»‡u khÃ¡ch hÃ ng sáº½ lÃ m tÄƒng uy tÃ­n cÃ´ng ty. Má»™t cÃ´ng ty bá»‹ lá»™ thÃ´ng tin ngÆ°á»i dÃ¹ng thÃ¬ tá»‰ lá»‡ bá»‹ táº©y chay ráº¥t cao (30%).

**HÆ°á»›ng dáº«n vá» báº£o máº­t:**
â€“ báº£o máº­t ngay tá»« Ä‘áº§u
â€“ phÃ²ng bá»‡nh hÆ¡n chá»¯a bá»‡nh
â€“ luÃ´n kiá»ƒm tra lá»—i báº£o máº­t
â€“ xÃ¢y dá»±ng cÆ¡ sá»Ÿ háº¡ táº§ng

Táº¥t cáº£ cÃ¡c tÃ i khoáº£n quan trá»ng cáº§n báº­t báº£o máº­t 2 bÆ°á»›c, vÃ¬ má»—i máº­t kháº©u thÃ´i thÃ¬ khÃ´ng Ä‘á»§.

**Láº­p trÃ¬nh viÃªn nÃªn:**
â€“ tÃ¬m hiá»ƒu thÃªm vá» cÃ¡c chuáº©n báº£o máº­t
â€“ thÆ°á»ng xuyÃªn thá»±c hiá»‡n core review
â€“ táº­p trung vÃ o functional requirement
â€“ Ä‘Æ°a ra guideline vá» báº£o máº­t cho dá»± Ã¡n, Ã¡p báº£o máº­t vÃ o tá»«ng giai Ä‘oáº¡n phÃ¡t triá»ƒn sáº£n pháº©m
â€“ tÃ¬m hiá»ƒu vÃ  Ã¡p dá»¥ng OWAP top 10 (https://owasp.org/www-project-top-ten/)
â€“ tÃ¬m hiá»ƒu thÃªm cheatsheet series owap (https://cheatsheetseries.owasp.org/)
â€“ tÃ¬m hiá»ƒu vá» security requirements cá»§a tá»«ng loáº¡i cÃ´ng nghá»‡, táº£i vá» benchmark Ä‘á»ƒ tÃ¬m hiá»ƒu thÃªm (https://www.cisecurity.org/cis-benchmarks/)

**Má»™t sá»‘ nguá»“n tÃ¬m hiá»ƒu vá» báº£o máº­t:**
â€“ https://www.securecodewarrior.com/ (trial 14 days â€“ good resource to learn & practice)
â€“ https://portswigger.net/web-security (free)

Anh Hiáº¿uPC cÅ©ng chia sáº» ráº¥t nhiá»u vá» báº£o máº­t trÃªn cÃ¡c kÃªnh cá»§a anh áº¥y, má»i ngÆ°á»i cÃ³ thá»ƒ tÃ¬m kiáº¿m thÃªm nhÃ©.

---

Ná»™i dung nÃ y thuá»™c BeautyOnCodeâ€™s short posts lÃ  cÃ¡c bÃ i viáº¿t ngáº¯n tÃ³m táº¯t ná»™i dung vÃ  Ã½ kiáº¿n cÃ¡ nhÃ¢n tá»« cÃ¡c nguá»“n nhÆ° cÃ¡c slack channels (cÃ´ng ty, cá»™ng Ä‘á»“ng), cÃ¡c newsletters, â€¦

BÃ i viáº¿t nÃ y Ä‘Äƒng tá»« bÃ i gá»‘c cá»§a blog BeautyOnCode táº¡i [Ä‘Ã¢y](https://beautyoncode.com/cac-bai-viet-ngan-phan-24/).

BeautyOnCode.', '2023-02-09T15:30:33.000000Z', '2023-02-27T12:20:07.000000Z', '2023-02-09T15:28:56.000000Z'),
	('[Pháº§n 2] TrÃ² chÆ¡i Audition - XÃ¢y dá»±ng chá»©c nÄƒng nháº£y 8K vá»›i JavaScript', 'EoW4ogPl4ml', '1', 'unlisted', 'https://images.viblo.asia/be6fc692-1fe8-44f2-88d4-c3819cc139d4.jpg', 'QuÃ½ MÃ£o 2023 - ÄÃ¢y lÃ  má»™t thá»i Ä‘iá»ƒm má»›i, má»™t cÆ¡ há»™i má»›i Ä‘á»ƒ chÃºng ta cÃ¹ng nhau tiáº¿p tá»¥c sÃ¡ng táº¡o vÃ  phÃ¡t triá»ƒn cá»™ng Ä‘á»“ng Viblo trá»Ÿ nÃªn phá»• biáº¿n vÃ  vá»¯ng máº¡nh hÆ¡n.

ChÃºc má»«ng nÄƒm má»›i 2023, chÃºc má»«ng má»i ngÆ°á»i sá»©c khá»e tá»‘t, háº¡nh phÃºc gia Ä‘Ã¬nh, thÃ nh cÃ´ng trong cÃ´ng viá»‡c vÃ  tÃ¬nh yÃªu. HÃ£y cÃ¹ng nhau táº¡o ra nhá»¯ng ká»· niá»‡m Ä‘áº¹p trong nÄƒm nay vÃ  sÃ¡ng táº¡o nhá»¯ng Æ°á»›c mÆ¡ má»›i.
1. Giá»›i thiá»‡u

Audition - Má»™t tá»±a ...', 'QuÃ½ MÃ£o 2023 - ÄÃ¢y lÃ  má»™t thá»i Ä‘iá»ƒm má»›i, má»™t cÆ¡ há»™i má»›i Ä‘á»ƒ chÃºng ta cÃ¹ng nhau tiáº¿p tá»¥c sÃ¡ng táº¡o vÃ  phÃ¡t triá»ƒn cá»™ng Ä‘á»“ng Viblo trá»Ÿ nÃªn phá»• biáº¿n vÃ  vá»¯ng máº¡nh hÆ¡n.

ChÃºc má»«ng nÄƒm má»›i 2023, chÃºc má»«ng má»i ngÆ°á»i sá»©c khá»e tá»‘t, háº¡nh phÃºc gia Ä‘Ã¬nh, thÃ nh cÃ´ng trong cÃ´ng viá»‡c vÃ  tÃ¬nh yÃªu. HÃ£y cÃ¹ng nhau táº¡o ra nhá»¯ng ká»· niá»‡m Ä‘áº¹p trong nÄƒm nay vÃ  sÃ¡ng táº¡o nhá»¯ng Æ°á»›c mÆ¡ má»›i.
# 1. Giá»›i thiá»‡u

**Audition** - Má»™t tá»±a game online má»—i khi nháº¯c tá»›i thÃ¬ Ä‘áº¡i Ä‘a sá»‘ tháº¿ há»‡ 8x vÃ  9x Ä‘á»i Ä‘áº§u sáº½ báº¥t chá»£t cÃ³ cáº£m giÃ¡c bá»“i há»“i, xao xuyáº¿n vá»›i bao nhiÃªu ká»‰ niá»‡m Ã¹a vá» ğŸ˜ŠğŸ˜ŠğŸ˜Š LÃ  tháº¿ há»‡ giá»¯a 9x nhÆ°ng may sao ngÃ y bÃ©, mÃ¬nh Ä‘Æ°á»£c cÃ¡c Ã´ng anh dáº«n Ä‘i NET cá» Ä‘Æ°a mÃ¬nh vÃ o con Ä‘Æ°á»ng nghiá»‡n game online ngÃ y áº¥y... ğŸ˜ƒ

![image.png](https://images.viblo.asia/5c044c3a-62ab-46a8-95c2-143011f818a0.png)

á» [Pháº§n 1](https://viblo.asia/p/phan-1-tro-choi-audition-xay-dung-chuc-nang-co-ban-voi-javascript-bJzKmD1E59N) mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n má»i ngÆ°á»i xÃ¢y dá»±ng cÃ¡c tÃ­nh nÄƒng cÆ¡ báº£n : select music, dance with type 4K, 4K reverse, tÃ­nh Ä‘iá»ƒm,... Trong bÃ i viáº¿t á»Ÿ pháº§n 2 nÃ y, mÃ¬nh sáº½ hÆ°á»›ng dáº«n thÃªm chá»©c nÄƒng dance with type 8K and 8K reverse, chá»©c nÄƒng home page Ä‘á»ƒ chá»n lá»±a kiá»ƒu nháº£y vÃ  chá»n nháº¡c.

MÃ¬nh hi vá»ng sáº½ Ä‘Æ°á»£c sá»± Ä‘Ã³n nháº­n, pháº£n há»“i tá»« má»i ngÆ°á»i Ä‘á»ƒ game Ä‘Æ°á»£c tá»‘t vÃ  nhiá»u chá»©c nÄƒng hÆ¡n ğŸ˜˜

# 2. Home page Audition

```html
<h1>Guide</h1>
<table>
    <tr class="heading">
        <th>Button</th>
        <th>Content</th>
    </tr>
    <tr>
        <td>Del</td>
        <td>Dance with reverse button</td>
    </tr>
    <tr>
        <td>â¬† â¬‡ â¬… â¡</td>
        <td>Up Down Left Right</td>
    </tr>
    <tr>
        <td>â†– â†™ â†— â†˜</td>
        <td>Left-Up Left-Down Right-Up Right-Down</td>
    </tr>
</table>

<div>
    <div class="options" >
        <label for="list-music"></label><select id="list-music" class="hide-option option">
        <option selected="selected" disabled="disabled" value="">Select music</option>
        <option value="https://firebasestorage.googleapis.com/v0/b/tuvandaihoc-c8a1c.appspot.com/o/Waiting%20For%20You%20-%20MONO_%20Onionn.mp3?alt=media&token=a10b4da9-9967-4dc4-b120-76c7e08e13e2">Waiting For You - Mono</option>
        <option value="https://firebasestorage.googleapis.com/v0/b/tuvandaihoc-c8a1c.appspot.com/o/dua%20nao%20lam%20em%20buon_%20-%20Phuc%20Du.mp3?alt=media&token=5123bcc3-3305-408c-adf9-e3cb3d95d8cd">Äá»©a nÃ o lÃ m em buá»“n? - PhÃºc Du</option>
        <option value="https://firebasestorage.googleapis.com/v0/b/tuvandaihoc-c8a1c.appspot.com/o/See%20Tinh%20-%20Hoang%20Thuy%20Linh.mp3?alt=media&token=87095bae-98a7-4d18-9573-2e129d0c136b">See TÃ¬nh - HoÃ ng Thuá»³ Linh</option>
    </select>
    </div>

    <div class="options" style="margin-top: 30px">
        <label for="list-type-dance"></label><select id="list-type-dance" class="hide-option option">
        <option selected="selected" disabled="disabled" value="">Select type dance</option>
        <option value="4k">4K Dance</option>
        <option value="8k">8K Dance</option>
    </select>
    </div>
</div>

<div class="button" id="button" onclick="handleLetGo()">Let''s go!</div>
```

- **home.html**: File nÃ y chá»©a giao diá»‡n trang chá»§ cho phÃ©p má»i ngÆ°á»i lá»±a chá»n nháº¡c vÃ  kiá»ƒu nháº£y ( MÃ¬nh khÃ´ng pháº£i dÃ¢n chuyÃªn Front-end nÃªn html, css khÃ´ng tá»‘t láº¯m nÃªn cÃ¡c báº¡n cá»‘ gáº¯ng bá» qua nha ğŸ˜ƒğŸ˜ƒğŸ˜ƒ )

```javascript
function handleLetGo() {
    let music = document.getElementById("list-music").value;
    let typeDance = document.getElementById("list-type-dance").value;

    if (music === "" || typeDance === "") {
        alert("Vui lÃ²ng chá»n nháº¡c vÃ  kiá»ƒu nháº£y");
        return
    }
    window.location.href = "/game-development/games/audition/audition.html?music="+ music + "&type=" + typeDance;
}

window.addEventListener("load", (event) => {
    let music = LIST_MUSIC[Math.floor(Math.random()*LIST_MUSIC.length)];
    let audio = new Audio(music);
    audio.play().catch(function (error) {
        console.log("Chrome cannot play sound without user interaction first" + error)
    });
});
```

- **audition-home.js** : Xá»­ lÃ½ khi load trang chá»§ sáº½ random báº­t 1 bÃ i nháº¡c cháº¡y trong ná»n dá»±a vÃ o sá»± kiá»‡n load. Má»—i khi ngÆ°á»i dÃ¹ng lá»±a chá»n nháº¡c vÃ  kiá»ƒu nháº£y xong thÃ¬ sáº½ xá»­ lÃ½ redirect vÃ o trong giao diá»‡n chÃ­nh cá»§a trÃ² chÆ¡i.

# 3. Xá»­ lÃ½ trÃ² chÆ¡i cho chá»©c nÄƒng nháº£y 8K, 8K reverse

```javascript
const LIST_KEY_HAS_REVERSE_8K = ["right", "up", "down", "left", "right-reverse", "up-reverse", "down-reverse", "left-reverse", "right-up", "left-up", "right-down", "left-down", "right-up-reverse", "left-up-reverse", "right-down-reverse", "left-down-reverse"]
const LIST_KEY_8K = ["right", "up", "down", "left", "right-up", "left-up", "right-down", "left-down"]
const MAP_KEY_8K = new Map([
    ["right", "right"],
    ["up", "up"],
    ["down", "down"],
    ["left", "left"],
    ["right-reverse", "left"],
    ["up-reverse", "down"],
    ["down-reverse", "up"],
    ["left-reverse", "right"],
    ["right-up", "right-up"],
    ["left-up", "left-up"],
    ["right-down", "right-down"],
    ["left-down", "left-down"],
    ["right-up-reverse", "left-down"],
    ["left-up-reverse", "right-down"],
    ["right-down-reverse", "left-up"],
    ["left-down-reverse", "right-up"],
])
```

- LIST_KEY_8K : Danh sÃ¡ch phÃ­m báº¥m gá»“m 8 nÃºt : lÃªn, xuá»‘ng, trÃ¡i, pháº£i, chÃ©o pháº£i lÃªn, chÃ©o pháº£i xuá»‘ng, chÃ©o trÃ¡i lÃªn, chÃ©o trÃ¡i xuá»‘ng
- LIST_KEY_HAS_REVERSE_8K : Danh sÃ¡ch phÃ­m báº¥m trÆ°á»ng há»£p nÃºt ngÆ°á»£c
- MAP_KEY_8K : Map lÆ°u value nÃºt tÆ°Æ¡ng á»©ng khi ngÆ°á»i chÆ¡i báº¥m. VD right : right, right-reverse : left,...

```javascript
function initAudio() {
    clearInterval(intervalID)

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get(''music'') === null || urlParams.get(''type'') === null) {
        window.location.href = "../audition/home.html";
    }

    audio.src = urlParams.get(''music'')
    audio.play().catch(function (error) {
        console.log("Chrome cannot play sound without user interaction first" + error)
    });

    typeDance = urlParams.get(''type'')

    intervalID = setInterval(move, 0)
    initVariable()
}

window.addEventListener("load", initAudio)
```

- **initAudio** : Khá»Ÿi táº¡o audio phÃ¡t nháº¡c dá»±a vÃ o giÃ¡ trá»‹ query param trÃªn url

```javascript
setTimeout(function () {
    listKeyRandom = isReverse ?
        (typeDance === "4k" ?
                getListKey(level, LIST_KEY_HAS_REVERSE_4K) : getListKey(level, LIST_KEY_HAS_REVERSE_8K)
        ) :
        (typeDance === "4k" ?
                getListKey(level, LIST_KEY_4K) : getListKey(level, LIST_KEY_8K)
        )
    console.log(listKeyRandom)
    for (let i = 0; i < listKeyRandom.length; i++) {
        setKey(listKeyRandom[i], i + 1)
    }
}, 1000)
```

**listKeyRandom**: Láº¥y danh sÃ¡ch random key theo tá»«ng kiá»ƒu nháº£y. Náº¿u:

- Náº¿u báº­t reverse vÃ  kiá»ƒu nháº£y 4K => random LIST_KEY_HAS_REVERSE_4K
- Náº¿u báº­t reverse vÃ  kiá»ƒu nháº£y 8K => random LIST_KEY_HAS_REVERSE_8K
- Náº¿u khÃ´ng báº­t reverse vÃ  kiá»ƒu nháº£y 4K => random LIST_KEY_4K
- Náº¿u khÃ´ng báº­t reverse vÃ  kiá»ƒu nháº£y 8K => random LIST_KEY_8K

```javascript
function compareKeyPressAndRandom(key) {
    if (listKeyPress.length === listKeyRandom.length) {
        return
    }
    const mapKey = typeDance === "4k" ? MAP_KEY_4K : MAP_KEY_8K
    if (mapKey.get(listKeyRandom[listKeyPress.length]) === key && !isReverse) {
        listKeyPress.push(key + "-success")
        setKey(key + "-success", listKeyPress.length)
    } else if (mapKey.get(listKeyRandom[listKeyPress.length]) === key && isReverse) {
        listKeyPress.push(key + "-success")
        setKey(key + "-success", listKeyPress.length)
    } else {
        listKeyPress = []
        for (let i = 0; i < listKeyRandom.length; i++) {
            setKey(listKeyRandom[i], i + 1)
        }
    }
}
```

**compareKeyPressAndRandom**: so sÃ¡nh value phÃ­m báº¥m má»—i khi ngÆ°á»i chÆ¡i báº¥m. Náº¿u:

- Kiá»ƒu nháº£y 4K => tÃ¬m trong MAP_KEY_4K
- Kiá»ƒu nháº£y 8K => tÃ¬m trong MAP_KEY_8K Khi value phÃ­m ngÆ°á»i chÆ¡i báº¥m.
- Tá»“n táº¡i => Ä‘Ã¡nh dáº¥u phÃ­m Ä‘Ã³ ngÆ°á»i chÆ¡i báº¥m Ä‘Ãºng.
- KhÃ´ng cÃ³ trong list nÃ o => reset nhá»¯ng phÃ­m ngÆ°á»i chÆ¡i Ä‘Ã£ báº¥m.

# 4. Káº¿t luáº­n

á» pháº§n 2 nÃ y mÃ¬nh update mÃ£ code thÃªm nÃªn sáº½ cÃ³ má»™t sá»‘ chá»— ngÆ°á»i má»›i Ä‘á»c sáº½ khÃ³ hiá»ƒu. Má»i ngÆ°á»i cÃ³ thá»ƒ xem láº¡i bÃ i viáº¿t [Pháº§n 1 - xÃ¢y dá»±ng chá»©c nÄƒng cÆ¡ báº£n](https://viblo.asia/p/phan-1-tro-choi-audition-xay-dung-chuc-nang-co-ban-voi-javascript-bJzKmD1E59N) á»Ÿ Ä‘Ã¢y nhÃ©.

ÄÃ¢y lÃ  1 sá»‘ hÃ¬nh áº£nh vÃ  video káº¿t quáº£ sau khi build code xong nhÃ© má»i ngÆ°á»i ^^

{@embed: https://www.youtube.com/watch?v=us5uUZF5m4M}

Website game: https://nguyenvantuan2391996.github.io/game-development/games/audition/home.html

Source code: https://github.com/nguyenvantuan2391996/game-development/tree/master/games/audition

BÃ i viáº¿t Ä‘Æ°á»£c trÃ­ch tá»« blog cá»§a mÃ¬nh : https://tuannguyenhust.hashnode.dev/', '2023-02-09T15:10:20.000000Z', '2023-02-28T05:19:03.000000Z', '2023-02-10T03:26:09.000000Z'),
	('TÃ­ch há»£p ChatGPT for Google Extension vÃ o Google Search - gáº¥p Ä‘Ã´i sá»± máº¡nh máº½', 'zOQJwQqbVMP', '2', 'unlisted', 'https://images.viblo.asia/8c65ce5d-8979-43e6-9b57-d2e08312618e.png', 'Cháº¯c háº³n nhiá»u báº¡n Ä‘Ã£ tráº£i nghiá»‡m qua chatGPT vÃ  tháº¥y Ä‘Æ°á»£c sá»± máº¡nh máº½ cá»§a nÃ³. Sau má»™t thá»i gian tÃ¬m hiá»ƒu, mÃ¬nh tá»± há»i liá»‡u cÃ³ cÃ¡ch nÃ o hay má»™t Extension cÃ³ thá»ƒ tÃ­ch há»£p cáº£ chatGPT vÃ o cÃ´ng cá»¥ tÃ¬m kiáº¿m Google hay khÃ´ng, nhÆ° váº­y sáº½ ráº¥t tiá»‡n, táº­n dá»¥ng Ä‘Æ°á»£c sá»©c máº¡nh cá»§a cáº£ hai vÃ  dá»… dÃ ng tra cá»©u, so sÃ¡nh vÃ  tiáº¿p nháº­n thÃ´ng tin. May máº¯n thay, cÃ³ má»™t Extension nhÆ° váº­y, nÃ³ lÃ  chatGPT for Google.

Äiá»u...', 'Cháº¯c háº³n nhiá»u báº¡n Ä‘Ã£ tráº£i nghiá»‡m qua chatGPT vÃ  tháº¥y Ä‘Æ°á»£c sá»± máº¡nh máº½ cá»§a nÃ³. Sau má»™t thá»i gian tÃ¬m hiá»ƒu, mÃ¬nh tá»± há»i liá»‡u cÃ³ cÃ¡ch nÃ o hay má»™t Extension cÃ³ thá»ƒ tÃ­ch há»£p cáº£ chatGPT vÃ o cÃ´ng cá»¥ tÃ¬m kiáº¿m Google hay khÃ´ng, nhÆ° váº­y sáº½ ráº¥t tiá»‡n, táº­n dá»¥ng Ä‘Æ°á»£c sá»©c máº¡nh cá»§a cáº£ hai vÃ  dá»… dÃ ng tra cá»©u, so sÃ¡nh vÃ  tiáº¿p nháº­n thÃ´ng tin. May máº¯n thay, cÃ³ má»™t Extension nhÆ° váº­y, nÃ³ lÃ  `chatGPT for Google`.

Äiá»u kiá»‡n Ä‘áº§u tiÃªn lÃ  báº¡n pháº£i cÃ³ má»™t tÃ i khoáº£n chatGPT

# CÃ i Ä‘áº·t Extension chatGPT for Google
### BÆ°á»›c 1
- CÃ¡c báº¡n truy cáº­p link https://github.com/wong2/chat-gpt-google-extension. KÃ©o xuá»‘ng pháº§n README.md rá»“i nháº¥n vÃ o **Install from Chrome Web Store**.

 ![Screenshot 2023-01-07 at 16.14.00.png](https://images.viblo.asia/8c65ce5d-8979-43e6-9b57-d2e08312618e.png)

 - Hoáº·c cÃ³ thá»ƒ vÃ o tháº³ng trá»±c tiáº¿p á»Ÿ link nÃ y nhÃ©: https://chrome.google.com/webstore/detail/chatgpt-for-google/jgjaeacdkonaoafenlfkkkmbaopkbilf

- Sau Ä‘Ã³ chá»n **ThÃªm vÃ o Chrome**

  ![Screenshot 2023-01-07 at 16.17.37.png](https://images.viblo.asia/448b769c-426f-4e00-a550-26e153c67ae8.png)

  ### BÆ°á»›c 2: ÄÄƒng nháº­p chatGPT

  - LÃºc nÃ y Extension Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o Chrome cá»§a báº¡n tuy nhiÃªn váº«n chÆ°a sá»­ dá»¥ng Ä‘Æ°á»£c táº¡i vÃ¬ báº¡n chÆ°a Ä‘Äƒng nháº­p chatGPT, khi search Google má»™t thá»© gÃ¬ Ä‘Ã³, á»Ÿ bÃªn pháº£i mÃ n hÃ¬nh sáº½ xuáº¥t hiá»‡n khung yÃªu cáº§u Ä‘Äƒng nháº­p

  ![Screenshot 2023-01-07 at 16.22.58.png](https://images.viblo.asia/caf17fb6-8169-4b40-a5a9-7212d45de0c5.png)

  - Click vÃ o chat.openai.com rá»“i Ä‘Äƒng nháº­p lÃ  oke.

### BÆ°á»›c 3: Tráº£i nghiá»‡m

Sau khi Ä‘Äƒng nháº­p thÃ nh cÃ´ng, giá» báº¡n thá»­ search báº¥t cá»© má»™t thá»© gÃ¬ Ä‘Ã³, bÃªn pháº£i mÃ n hÃ¬nh sáº½ xuáº¥t hiá»‡n thÃªm gá»£i Ã½ cá»§a chatGPT

![Screenshot 2023-01-07 at 16.33.21.png](https://images.viblo.asia/70a53f12-76d9-435b-a93e-a128e6ebf96d.png)

# Má»™t demo nho nhá»
![](https://images.viblo.asia/7a6c04b7-6119-4f95-b4c7-245c2fd080cc.gif)

Cáº£m Æ¡n báº¡n Ä‘Ã£ theo dÃµi bÃ i viáº¿t.', '2023-02-09T15:04:50.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-09T15:03:34.000000Z'),
	('HÆ°á»›ng dáº«n deploy API service trÃªn Google Compute Engine', 'GAWVpdWkV05', '3', 'unlisted', 'https://images.viblo.asia/f2415420-8ecd-49e8-8ef3-a770f55a2ab5.png', 'Trong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n deploy má»™t api service cÆ¡ báº£n trÃªn GCP thÃ´ng qua Google Compute Engine:
- Hosting API service cháº¡y báº±ng Docker trÃªn mÃ¡y chá»§ GCP
- Setup domain, SSL cho API service

I. Prerequisites
- CÃ³ sáºµn api service trÃªn github/gitlab...
- Full quyá»n trÃªn GCP Ä‘á»ƒ enable cÃ¡c service cáº§n thiáº¿t
- Domain, DNS service (á»Ÿ Ä‘Ã¢y mÃ¬nh dÃ¹ng Cloudflare)
- Kiáº¿n thá»©c cÆ¡ báº£n vá» ...', 'Trong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n deploy má»™t api service cÆ¡ báº£n trÃªn GCP thÃ´ng qua Google Compute Engine:
- Hosting API service cháº¡y báº±ng Docker trÃªn mÃ¡y chá»§ GCP
- Setup domain, SSL cho API service

## I. Prerequisites
- CÃ³ sáºµn api service trÃªn github/gitlab...
- Full quyá»n trÃªn GCP Ä‘á»ƒ enable cÃ¡c service cáº§n thiáº¿t
- Domain, DNS service (á»Ÿ Ä‘Ã¢y mÃ¬nh dÃ¹ng Cloudflare)
- Kiáº¿n thá»©c cÆ¡ báº£n vá» command line

## II. HÆ°á»›ng dáº«n

### 0. Táº¡o compute engine
VÃ¬ cÃ³ sáºµn má»™t anh Ä‘Ã£ hÆ°á»›ng dáº«n step nÃ y nÃªn cÃ¡c báº¡n follow theo cho tiá»‡n nhÃ©: [link](https://blog.cloud-ace.vn/huong-dan-tao-may-ao-virtual-machine-vm-tren-google-compute-engine/)
### 1. Install Git
- Cháº¡y command
```
sudo apt update
sudo apt install git
```
- Kiá»ƒm tra Git Ä‘Ã£ Ä‘Æ°á»£c install thÃ nh cÃ´ng
```
git --version
```

### 2. ThÃªm SSH Key vÃ  Clone project
- ThÃªm SSH key theo [hÆ°á»›ng dáº«n](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)

- Tiáº¿p Ä‘áº¿n chÃºng ta chá»n thÆ° má»¥c vÃ  tiáº¿n hÃ nh clone project tá»« Github/Gitlab Ä‘Ã£ cÃ³ sáºµn trÆ°á»›c Ä‘Ã³

- ThÃªm quyá»n read/write/execute cho folder chá»©a source code báº±ng lá»‡nh:
```
sudo chmod -R 777 .
```
### 3.  Install Docker Compose
VÃ¬ project cá»§a mÃ¬nh cháº¡y báº±ng docker-compose, nÃªn mÃ¬nh sáº½ install chÃºng.

- CÃ i Ä‘áº·t docker-compose phiÃªn báº£n má»›i nháº¥t:
```
sudo curl -L https://github.com/docker/compose/releases/download/v2.5.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
```

- ThÃªm quyá»n thá»±c thi cho docker-compose:
```
sudo chmod +x /usr/local/bin/docker-compose
```

- Kiá»ƒm tra docker-compose Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t thÃ nh cÃ´ng:
```
docker-compose version
```
### 4. Build & Run docker-compose

- Run project:
```
docker-compose up --build
```

- Náº¿u ta gáº·p lá»—i:
```
Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.40/containers/json: dial unix /var/run/docker.sock: connect: permission denied

```
thÃ¬ báº¡n hÃ£y cáº¥p quyá»n read & write cho user/non-root-process trÃªn docker.sock nhÆ° sau nhÃ©:
```
sudo chmod 666 /var/run/docker.sock
```
### 5. Má»Ÿ port á»©ng dá»¥ng trÃªn VMware
LÆ°u Ã½ khi táº¡o instance cÃ¡c báº¡n hÃ£y chá»n 2 option nÃ y nhÃ©, má»¥c Ä‘Ã­ch Ä‘á»ƒ cho traffic HTTP/HTTPS tá»« bÃªn ngoÃ i internet cÃ³ thá»ƒ truy cáº­p qua firewall:
![image.png](https://images.viblo.asia/0782cf4e-20c3-4053-a31c-4e70cf32b437.png)
VÃ¬ application port cá»§a mÃ¬nh Ä‘Ã£ cháº¡y á»Ÿ bÆ°á»›c 4 cháº¡y trÃªn port 9000, nÃªn mÃ¬nh cáº§n bá»• sung nhá»¯ng bÆ°á»›c sau Ä‘á»ƒ cho phÃ©p traffic chá»‰ Ä‘á»‹nh cÃ³ thá»ƒ truy cáº­p port mÃ  mÃ¬nh cung cáº¥p

- Má»Ÿ VPC Network chá»n `Firewall`
- Sau Ä‘Ã³ chá»n `CREATE FIREWALL RULE`

![image.png](https://images.viblo.asia/f2415420-8ecd-49e8-8ef3-a770f55a2ab5.png)

- Äiá»n rule name, á»Ÿ má»¥c target chá»n `All instances in the network`
- Source IPv4 ranges nháº­p: `0.0.0.0/0` (hÃ¬nh dÆ°á»›i)

![image.png](https://images.viblo.asia/a7ec2bde-f59a-44bb-9c11-7bec62bc091f.png)

- á» má»¥c `Protocols and ports` chá»n TCP, sau Ä‘Ã³ nháº­p port cá»§a á»©ng dá»¥ng, á»Ÿ Ä‘Ã¢y mÃ¬nh nháº­p range 7000-9000 chá»© khÃ´ng chá»‰ Ä‘á»‹nh 1 port duy nháº¥t:

![image.png](https://images.viblo.asia/134ce866-0cd7-49e0-ad7c-bba1bdfa10e4.png)

- Báº¥m `Create` Ä‘á»ƒ hoÃ n táº¥t táº¡o Firewall Rule
- Sau Ä‘Ã³ vÃ o láº¡i VMware, dá»±a vÃ o `External IPs` vÃ  má»Ÿ port tÆ°Æ¡ng á»©ng Ä‘á»ƒ kiá»ƒm tra

![image.png](https://images.viblo.asia/74cab272-0f63-45e7-ad5e-b5712a0a0b4b.png)

- Váº­y lÃ  chÃºng ta Ä‘Ã£ truy cáº­p thÃ nh cÃ´ng vÃ o á»©ng dá»¥ng thÃ´ng qua external IP vÃ  port Ä‘Æ°á»£c open (**lÆ°u Ã½ lÃ  http khÃ´ng pháº£i https vÃ¬ chÃºng ta chÆ°a config ssl cho domain nÃ y nhÃ©**)

### 6. Create instance group
- TrÆ°á»›c khi config load balancing cho instance, chÃºng ta cáº§n táº¡o instance group trÆ°á»›c. á» `Compute Engine`, chá»n `Instance groups` sau Ä‘Ã³ nháº¥n `CREATE INSTANCE GROUP`:

![image.png](https://images.viblo.asia/7cd9fef4-4ae7-4008-aed0-d9e6ab1b804e.png)

- Äiá»n cÃ¡c thÃ´ng tin Ä‘á»ƒ khá»Ÿi táº¡o instance group nhÆ° bÃªn dÆ°á»›i, lÆ°u Ã½ pháº§n `Port mapping`, chÃºng ta cáº§n Ä‘iá»n Ä‘Ãºng port mÃ  á»©ng dá»¥ng Ä‘ang cháº¡y Ä‘á»ƒ LB cÃ³ thá»ƒ access Ä‘Æ°á»£c:

![image.png](https://images.viblo.asia/857490c1-5a52-4e26-ab17-9160bfd71278.png)
- Cuá»‘i cÃ¹ng nháº¥n `Create` Ä‘á»ƒ hoÃ n táº¥t.

### 7. Config Load balancing cho vm
- VÃ o `Network services` chá»n `Load balancing`
- Chá»n `Start Configuration` á»Ÿ má»¥c `HTTP(S) Load Balancing`:

![image.png](https://images.viblo.asia/3b1c597c-2a11-4b02-b6c6-30c3fbb47cf3.png)

- Chá»n cÃ¡c cáº¥u hÃ¬nh nhÆ° sau vÃ  tiáº¿p tá»¥c:

![image.png](https://images.viblo.asia/e2dd80e2-427a-41c7-b0a6-7d8b18d1c006.png)

- Nháº­p tÃªn cho Load balancer config, á»Ÿ pháº§n Frontend Configuration cáº¥u hÃ¬nh nhÆ° sau:

![image.png](https://images.viblo.asia/cf3bef36-b34d-42fb-a01e-18f75f8e7147.png)

- Pháº§n Backend Configuration chá»n:

![image.png](https://images.viblo.asia/cc643f0b-d219-4f6e-9db1-f5e4bfc67d28.png)

- Äiá»n cÃ¡c thÃ´ng tin cÆ¡ báº£n nhÆ° sau:

![image.png](https://images.viblo.asia/d8aac0d3-b5f3-4d69-b4b1-ef98ed93d2a9.png)

- á» pháº§n `health check`, chá»n `CREATE A HEALTH CHECK`, nháº±m má»¥c Ä‘Ã­ch kiá»ƒm tra liá»‡u á»©ng dá»¥ng cá»§a báº¡n cÃ²n hoáº¡t Ä‘á»™ng hay khÃ´ng:

![image.png](https://images.viblo.asia/eb6238ba-67de-4a58-b089-0cb02237db93.png)

- Äiá»n `request path`, lÃ  Ä‘Æ°á»ng dáº«n health check cá»§a á»©ng dá»¥ng, pháº£i nháº­p port tÆ°Æ¡ng á»©ng vá»›i port mÃ  á»©ng dá»¥ng Ä‘ang cháº¡y. LÆ°u Ã½ HTTP response code cá»§a Ä‘Æ°á»ng dáº«n nÃ y pháº£i lÃ  200 nhÃ©. Sau Ä‘Ã³ nháº¥n save Ä‘á»ƒ lÆ°u cáº¥u hÃ¬nh health check.

![image.png](https://images.viblo.asia/fb292aed-cca8-4829-a32a-2b4ee5a5b431.png)

- Nháº­p tÃªn cho Load balancing Config vÃ  báº¥m táº¡o Ä‘á»ƒ hoÃ n táº¥t. Khi hoÃ n táº¥t, á»Ÿ mÃ n hÃ¬nh danh sÃ¡ch load balancing config sáº½ xuáº¥t hiá»‡n instance vá»«a táº¡o. Click chá»n instance Ä‘á»ƒ xem detail:

![image.png](https://images.viblo.asia/44a8ef67-86bc-4d38-88e9-0c326e67bec9.png)

- á» cá»™t `IP:Port` chÃ­nh lÃ  IP load balancing cá»§a chÃºng ta, cÃ¡c báº¡n hÃ£y má»Ÿ browser vÃ  kiá»ƒm tra nhÃ© !!


### 8. Config domain and ssl
Last but not least, mÃ¬nh Ä‘ang cÃ³ 1 domain trÃªn Cloudflare vÃ  muá»‘n assign cho API service vá»«a táº¡o. CÃ¡c báº¡n hÃ£y lÃ m nhÆ° sau

- á» Cloudflare, tab SSL/TLS, chá»n create `Client Certificates` sau Ä‘Ã³ nháº¥n `Create Certificate`

![image.png](https://images.viblo.asia/5a5304e6-7308-4434-a585-4287545bd868.png)

- Nháº¥n Create Ä‘á»ƒ tiáº¿p tá»¥c:

![image.png](https://images.viblo.asia/05d4dcdb-f31f-48cc-ac03-82e8d8d72bde.png)

- Cloudflare sáº½ táº¡o client cerificate cho chÃºng ta, lÆ°u Ã½ hÃ£y lÆ°u 2 mÃ£ `Certificate` vÃ  `Private Key` láº¡i nhÃ©:

![image.png](https://images.viblo.asia/5a16073e-29ff-457d-ba47-fe141df14fb8.png)

- Tiáº¿p theo cÃ¡c báº¡n má»Ÿ tab overview, chá»n option `Full` cho SSL/TLS encryption mode:

![image.png](https://images.viblo.asia/a138723e-d636-4565-a315-894dbe8782ae.png)

- Quay vá» load balancing config, cÃ¡c báº¡n chá»n vÃ  edit config, thÃ´ng tin sau sáº½ show lÃªn, sau Ä‘Ã³ cÃ¡c báº¡n nháº¥n `ADD FRONTEND IP AND PORT` Ä‘á»ƒ thÃªm config cho protocol https:

![image.png](https://images.viblo.asia/45d1a7e0-25b3-4cee-b920-fad300816505.png)

- á» field Certificate, chá»n `CREATE A NEW CERTIFICATE`, thÃ´ng tin cho certificate á»Ÿ Ä‘Ã¢y lÃ  `Certificate` vÃ  `Private Key` mÃ  cÃ¡c báº¡n Ä‘Ã£ táº¡o tá»« Cloudflare

- Nháº¥n Create Ä‘á»ƒ tiáº¿p tá»¥c

- Click Done sau Ä‘Ã³ nháº¥n Update Ä‘á»ƒ hoÃ n táº¥t chá»‰nh sá»­a config:

![image.png](https://images.viblo.asia/5dbcd95e-e617-4eaf-8ed1-9740ba77fc25.png)

- BÃ¢y giá» vÃ o láº¡i detail cá»§a load balancing config vÃ  láº¥y Ä‘á»‹a chá»‰ IP cá»§a protocol HTTPS vá»«a táº¡o, cÃ¡c báº¡n chá»‰ copy ip, **khÃ´ng** copy port 443:

![image.png](https://images.viblo.asia/d7952fb8-9f08-4736-8cec-738f29f35f45.png)

- Vá» láº¡i Cloudflare, á»Ÿ tab DNS/records, chá»n `Add record` vÃ  thÃªm theo hÆ°á»›ng dáº«n sau:
    + Type: `A`
    + Name: `@`, `www` hoáº·c subdomain cá»§a báº¡n. VÃ­ dá»¥ domain cá»§a báº¡n lÃ  `abc.com` thÃ¬ cÃ³ thá»ƒ táº¡o subdomain nhÆ° `api.abc.com`
- Báº¥m `Save` Ä‘á»ƒ hoÃ n táº¥t


## III. Káº¿t
- CÃ¡c báº¡n vÃ o láº¡i domain/sub domain báº±ng browser Ä‘á»ƒ kiá»ƒm tra nhÃ©
- Cáº£m Æ¡n cÃ¡c báº¡n Ä‘Ã£ xem bÃ i viáº¿t ^^', '2023-02-09T09:40:31.000000Z', '2023-02-28T05:09:04.000000Z', '2023-02-09T09:10:41.000000Z'),
	('[K8S] Pháº§n 21 - XÃ¢y dá»±ng luá»“ng Gitops vá»›i Jenkins vÃ  ArgoCD', 'y3RL1aX7Lao', '4', 'unlisted', 'https://images.viblo.asia/9f75e67d-7bad-43c3-8d39-48f1793bb2c9.png', 'Lá»i Ä‘áº§u tiÃªn xin chÃºc táº¥t cáº£ báº¡n Ä‘á»c vÃ  gia Ä‘Ã¬nh nÄƒm má»›i máº¡nh khá»e, an khang thá»‹nh vÆ°á»£ng ğŸ¤©

ChÃºc cÃ¡c báº¡n Ä‘áº¡t Ä‘Æ°á»£c nhiá»u má»¥c tiÃªu Ä‘á» ra vÃ  dÃ nh Ä‘Æ°á»£c nhiá»u thÃ nh cÃ´ng trong nÄƒm má»›i 2023 nÃ y.

Giá»›i thiá»‡u
Hello má»i ngÆ°á»i. LÃ¢u rá»“i mÃ¬nh má»›i cÃ³ thá»i gian quay láº¡i vá»›i series Kubernetes nÃ y. Trong pháº§n 17 cá»§a series nÃ y, mÃ¬nh Ä‘Ã£ chia sáº» má»™t mÃ´ hÃ¬nh CICD Ä‘Æ¡n giáº£n sá»­ dá»¥ng Jenkins.
CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o...', '> Lá»i Ä‘áº§u tiÃªn xin chÃºc táº¥t cáº£ báº¡n Ä‘á»c vÃ  gia Ä‘Ã¬nh nÄƒm má»›i máº¡nh khá»e, an khang thá»‹nh vÆ°á»£ng ğŸ¤©

> ChÃºc cÃ¡c báº¡n Ä‘áº¡t Ä‘Æ°á»£c nhiá»u má»¥c tiÃªu Ä‘á» ra vÃ  dÃ nh Ä‘Æ°á»£c nhiá»u thÃ nh cÃ´ng trong nÄƒm má»›i 2023 nÃ y.

# Giá»›i thiá»‡u
Hello má»i ngÆ°á»i. LÃ¢u rá»“i mÃ¬nh má»›i cÃ³ thá»i gian quay láº¡i vá»›i series Kubernetes nÃ y. Trong pháº§n 17 cá»§a series nÃ y, mÃ¬nh Ä‘Ã£ chia sáº» má»™t mÃ´ hÃ¬nh CICD Ä‘Æ¡n giáº£n sá»­ dá»¥ng Jenkins.
CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o ná»™i dung [***bÃ i viáº¿t Ä‘Ã³ á»Ÿ Ä‘Ã¢y.***](https://viblo.asia/p/k8s-phan-17-xay-dung-luong-cicd-voi-gitlab-va-jenkins-RnB5pJAGZPG)

**Ã tÆ°Æ¡ng triá»ƒn khai MÃ´ hÃ¬nh CICD Ä‘Ã³ nhÆ° sau:**
![image.png](https://images.viblo.asia/5df67387-c99a-42e3-9f92-19db91cfb1a3.png)

MÃ´ hÃ¬nh nÃ y Ä‘Ã£ giÃºp giáº£i quyáº¿t Ä‘Æ°á»£c bÃ i toÃ¡n tá»± Ä‘á»™ng hÃ³a luá»“ng cáº­p nháº­t thay Ä‘á»•i tá»« source code tá»›i mÃ´i trÆ°á»ng triá»ƒn khai (dev/prod..).

**Tuy nhiÃªn nÃ³ váº«n cÃ²n má»™t sá»‘ háº¡n cháº¿ nhÆ° sau:**
- Rá»§i ro vá» báº£o máº­t khi CI vÃ  CD khÃ´ng Ä‘Æ°á»£c tÃ¡ch biá»‡t. Trong trÆ°á»ng há»£p nÃ³ bá»‹ táº¥n cÃ´ng thÃ¬ káº» táº¥n cÃ´ng cÅ©ng cÃ³ thá»ƒ truy cáº­p vÃ o há»‡ thá»‘ng Ä‘ang cháº¡y
- KhÃ´ng phÃ¡t hiá»‡n Ä‘Æ°á»£c sá»± sai khÃ¡c giá»¯a cáº¥u hÃ¬nh triá»ƒn khai ta Ä‘á»‹nh nghÄ©a ban Ä‘áº§u vÃ  cáº¥u hÃ¬nh triá»ƒn khai thá»±c táº¿
- KhÃ³ quáº£n lÃ½ tÃ­nh Ä‘á»“ng nháº¥t vá» cáº¥u hÃ¬nh triá»ƒn khai á»©ng dá»¥ng trong quÃ¡ trÃ¬nh váº­n hÃ nh
- Luá»“ng CICD nÃ y chá»§ yáº¿u táº­p trung vÃ o viá»‡c Ä‘Æ°a cÃ¡c cáº­p nháº­t cá»§a source code lÃªn cÃ¡c mÃ´i trÆ°á»ng triá»ƒn khai. Pháº§n cáº¥u hÃ¬nh triá»ƒn khai thÆ°á»ng Ã­t cÃ³ thay Ä‘á»•i (helmchart/manifest) trá»« thÃ´ng tin image cá»§a source code má»›i build.

CÃ³ thá»ƒ láº¥y má»™t vÃ­ dá»¥ Ä‘Æ¡n giáº£n lÃ  báº¡n deploy má»™t á»©ng dá»¥ng A sá»­ dá»¥ng luá»“ng CICD nhÆ° bÃªn trÃªn. Ban Ä‘áº§u báº¡n Ä‘áº·t cáº¥u hÃ¬nh resource vá»›i cpu limit lÃ  300m. NhÆ°ng trong quÃ¡ trÃ¬nh váº­n hÃ nh báº¡n tháº¥y Pod thÆ°á»ng bá»‹ restart khi vÆ°á»£t ngÆ°á»¡ng CPU. Do Ä‘Ã³ Ä‘á»ƒ hot fix báº¡n vÃ o trá»±c tiáº¿p há»‡ thá»‘ng Ä‘á»ƒ edit deployment tÄƒng giÃ¡ trá»‹ CPU Limit lÃªn thÃ nh 600m.

Tuy nhiÃªn khi báº¡n cháº¡y láº¡i luá»“ng CICD (khi cÃ³ update vá» source code vÃ  cáº§n deploy lÃªn há»‡ thá»‘ng) thÃ¬ lÃºc nÃ y cÃ¡c giÃ¡ trá»‹ cáº¥u hÃ¬nh cá»§a á»©ng dá»¥ng sáº½ láº¡i Ä‘Æ°á»£c set vá» nhÆ° ban Ä‘áº§u (giÃ¡ trá»‹ CPU limit sáº½ Ä‘Æ°á»£c set láº¡i thÃ nh 300m). Báº¡n Ä‘Ã£ tháº¥y váº¥n Ä‘á» báº¯t Ä‘áº§u xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y chÆ°a ?

***VÃ¬ Ä‘Ã¢y chÃ­nh lÃ  lÃºc Gitops xuáº¥t hiá»‡n Ä‘á»ƒ giáº£i quyáº¿t bÃ i toÃ¡n trÃªn cho cÃ¡c báº¡n.***

# Gitops lÃ  gÃ¬, gitops mang láº¡i lá»£i Ã­ch gÃ¬
## Gitops lÃ  gÃ¬
Ã tÆ°á»Ÿng chÃ­nh cá»§a GitOps lÃ  sá»­ dá»¥ng Git Ä‘á»ƒ lÆ°u trá»¯ cáº¥u hÃ¬nh toÃ n bá»™ cÆ¡ sá»Ÿ háº¡ táº§ng triá»ƒn khai hoÃ n chá»‰nh cho má»™t á»©ng dá»¥ng. Má»™t táº­p há»£p cÃ¡c file, sá»­ dá»¥ng IAC, Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n bá»• cÃ¡c tÃ i nguyÃªn cÆ¡ sá»Ÿ háº¡ táº§ng cáº§n thiáº¿t, Ä‘á»ƒ cáº¥u hÃ¬nh viá»‡c triá»ƒn khai á»©ng dá»¥ng.

Äiá»u nÃ y lÃ m cho thÃ´ng tin Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Git trá»Ÿ thÃ nh nguá»“n cÆ¡ sá»Ÿ cá»§a toÃ¡n bá»™ háº¡ táº§ng (source of truth) mÃ  cÃ¡c á»©ng dá»¥ng pháº£i tiáº¿p cáº­n vÃ  thá»±c hiá»‡n xoay quanh nÃ³.

Má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh lÃ  Terraform cá»§a Hashicorp. Vá»›i Terraform, báº¡n cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a toÃ n bá»™ cÆ¡ sá»Ÿ háº¡ táº§ng cá»§a mÃ¬nh dÆ°á»›i dáº¡ng mÃ£ code vÃ  lÆ°u trá»¯ trÃªn git. Háº¡ táº§ng cá»§a báº¡n sáº½ luÃ´n Ä‘Æ°á»£c Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n vá»›i cÃ¡c cáº¥u hÃ¬nh báº¡n Ä‘Ã£ Ä‘á»‹nh nghÄ©a.

**Má»™t flow vá» Gitops cho infra::**
![image.png](https://images.viblo.asia/76f6374c-e447-45a8-b029-ac787dace9c3.png)

## Lá»£i Ã­ch khi sá»­ dá»¥ng gitops
Lá»£i Ã­ch cá»‘t lÃµi cá»§a GitOps cÃ³ thá»ƒ Ä‘Æ°á»£c hiá»ƒu ngáº¯n gá»n lÃ  Ä‘áº£m báº£o cÃ¡c thay Ä‘á»•i Ä‘Æ°á»£c cáº­p nháº­t á»Ÿ cáº£ táº§ng há»‡ thá»‘ng vÃ  táº§ng á»©ng dá»¥ng, tá»± Ä‘á»™ng cÃ¡c quy trÃ¬nh sau Ä‘Ã³ vÃ  Ä‘áº£m báº£o á»©ng dá»¥ng trong thá»±c táº¿ pháº£n Ã¡nh chÃ­nh xÃ¡c á»©ng dá»¥ng Ä‘Æ°á»£c miÃªu táº£ trong cÃ¡c tá»‡p chá»©a cáº¥u hÃ¬nh triá»ƒn khai á»©ng dá»¥ng/há»‡ thá»‘ng.

GitOps cÃ³ thá»ƒ giÃºp báº¡n nÃ¢ng cáº¥p luá»“ng CICD lÃªn má»™t level cao hÆ¡n, nÃ¢ng cao tÃ­nh báº£o máº­t, Ä‘á»™ tin cáº­y tá»‘i Æ°u Ä‘Æ°á»£c nguá»“n lá»±c cho váº­n hÃ nh há»‡ thá»‘ng.

# MÃ´ hÃ¬nh Gitops cÆ¡ báº£n vá»›i Jenkins vÃ  ArgoCD
CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o má»™t mÃ´ hÃ¬nh Gitops cÆ¡ báº£n dÃ¹ng Jenkins (CI) vÃ  ArgoCD (CD) nhÆ° sau:
![image.png](https://images.viblo.asia/9f75e67d-7bad-43c3-8d39-48f1793bb2c9.png)

## Ã tÆ°á»Ÿng cá»§a nÃ³ nhÆ° sau:
- Source code cá»§a dá»± Ã¡n Ä‘Æ°á»£c lÆ°u á»Ÿ má»™t repo riÃªng, gá»i lÃ  `source repo`
- Pháº§n cáº¥u hÃ¬nh triá»ƒn khai á»©ng dá»¥ng (helmchart hay k8s manifest files..) Ä‘Æ°á»£c lÆ°u á»Ÿ má»™t repo riÃªng, gá»i lÃ  `config repo`
- Luá»“ng CICD hoáº¡t Ä‘á»™ng theo trÃ¬nh tá»±:
    - Dev commit source code
    - Jenkins build source code
    - Jenkins Build Images
    - Jenkins push image lÃªn image registry
    - Jenkins cáº­p nháº­t thÃ´ng tin phiÃªn báº£n á»©ng dá»¥ng vÃ o cÃ¡c file cáº¥u hÃ¬nh triá»ƒn khai á»©ng dá»¥ng lÆ°u trÃªn config repo
    - ArgoCD phÃ¡t hiá»‡n thay Ä‘á»•i trÃªn config repo thÃ¬ cáº­p nháº­t thay Ä‘á»•i vá»
    - ArgoCD so sÃ¡nh thÃ´ng tin cáº¥u hÃ¬nh má»›i vá»›i cáº¥u hÃ¬nh hiá»‡n táº¡i trÃªn há»‡ thá»‘ng, náº¿u phÃ¡t hiá»‡n sai khÃ¡c sáº½ cáº£nh bÃ¡o vÃ  Ä‘á»“ng bá»™ láº¡i theo cáº¥u hÃ¬nh Ä‘Æ°á»£c khai bÃ¡o vÃ  lÆ°u trÃªn config repo

VÃ­ dá»¥ báº¡n deploy á»©ng dá»¥ng báº±ng helmchart vÃ  nÃ³ sáº½ táº¡o ra 1 deployment + 1 service + 1 configmap cháº³ng háº¡n. ThÃ¬ ArgoCD sáº½ tÃ¬m trÃªn K8S cÃ³ cÃ¡c resource nhÆ° mÃ´ táº£ cá»§a helmchart + helm-value hay chÆ°a (dá»±a vÃ o namespace vÃ  resource-name).

**NhÆ° váº­y so vá»›i luá»“ng CICD mÃ  mÃ¬nh Ä‘Ã£ giá»›i thiá»‡u trÆ°á»›c Ä‘Ã³ (á»Ÿ bÃ i 17) thÃ¬ chÃºng ta sáº½ cÃ³ má»™t sá»‘ viá»‡c má»›i cáº§n giáº£i quyáº¿t:**
- LÆ°u trá»¯ helmchart cá»§a á»©ng dá»¥ng lÃªn má»™t `config repo` trÃªn git
- Cáº­p nháº­t thÃ´ng tin phiÃªn báº£n á»©ng dá»¥ng (image:tag) vÃ o file helmchart-value trÃªn `config repo`
- CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh ArgoCD Ä‘á»ƒ Ä‘á»“ng bá»™ tá»« config repo vá»›i á»©ng dá»¥ng triá»ƒn khai thá»±c táº¿ trÃªn k8s

# Triá»ƒn khai
## CÃ¡c bÆ°á»›c chÃºng ta cáº§n thá»±c hiá»‡n gá»“m:
- Dá»±ng cá»¥m k8s (Ä‘Æ°Æ¡ng nhiÃªn) vÃ  cÃ¡c thÃ nh pháº§n liÃªn quan nhÆ° Ingress Controller..
 - Táº¡o `source repo` trÃªn Git (sá»­ dá»¥ng Github cho tiá»‡n cho bÃ i demo nÃ y)
- Táº¡o `config repo` trÃªn Git (sá»­ dá»¥ng Github cho tiá»‡n cho bÃ i demo nÃ y)
- Táº¡o repository trÃªn DockerHub Ä‘á»ƒ lÆ°u image cá»§a á»©ng dá»¥ng
- CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh Jenkins (tÃ­ch há»£p vá»›i git chá»©a `source repo` vÃ  `config repo`)
- CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh ArgoCD trÃªn K8S (tÃ­ch há»£p vá»›i Github vÃ  Dockerhub)
- Táº¡o job trÃªn Jenkin thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥: Pull source code + Build source + Build Image + Push Image + Update Image:tag vÃ o `config repo`
- Táº¡o á»©ng dá»¥ng trÃªn ArgoCD sá»­ dá»¥ng cÃ¡c file manifest trÃªn `config repo` Ä‘á»ƒ Ä‘á»“ng bá»™ vá»›i á»©ng dá»¥ng triá»ƒn khai thá»±c táº¿ trÃªn k8s
- Test luá»“ng cáº­p nháº­t `source repo` vÃ  luá»“ng cáº­p nháº­t `config repo`

## MÃ´ hÃ¬nh triá»ƒn khai
MÃ´ hÃ¬nh triá»ƒn khai Lab nÃ y nhÆ° sau:
![image.png](https://images.viblo.asia/2320612a-e937-4036-8917-4b6305b0531d.png)

- K8S Ä‘Æ°á»£c cÃ i trÃªn 3 VM gá»“m 1 control-plane vÃ  2 worker node
- Jenkins Ä‘Æ°á»£c cÃ i trÃªn VM
- ArgoCD Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn K8S á»Ÿ namespace `argocd`
- á»¨ng dá»¥ng demo Ä‘Æ°á»£c cÃ i á»Ÿ namespace `demo2`

## Dá»±ng cá»¥m k8s
MÃ¬nh Ä‘Ã£ dá»±ng sáºµn má»™t cá»¥m k8s gá»“m 1 master vÃ  2 worker nhÆ° sau:
```
NAME               STATUS   ROLES           AGE   VERSION   INTERNAL-IP     EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION    CONTAINER-RUNTIME
ip-172-31-21-254   Ready    control-plane   28d   v1.26.0   172.31.21.254   <none>        Ubuntu 20.04.5 LTS   5.15.0-1028-aws   containerd://1.6.15
ip-172-31-29-187   Ready    <none>          28d   v1.26.0   172.31.29.187   <none>        Ubuntu 20.04.5 LTS   5.15.0-1028-aws   containerd://1.6.15
ip-172-31-30-194   Ready    <none>          28d   v1.26.0   172.31.30.194   <none>        Ubuntu 20.04.5 LTS   5.15.0-1028-aws   containerd://1.6.15
```
MÃ´i trÆ°á»ng Lab nÃ y mÃ¬nh cÃ i k8s phiÃªn báº£n `v1.26.0` vÃ  sá»­ dá»¥ng CRI lÃ  containerd `1.6.15`.

## Táº¡o `source repo` Ä‘á»ƒ lÆ°u trá»¯ source code
###  Táº¡o `source repo`
MÃ¬nh sá»­ dá»¥ng láº¡i báº£n source code giá»‘ng nhÆ° Ä‘Ã£ triá»ƒn khai á»Ÿ bÃ i hÆ°á»›ng dáº«n dá»±ng CICD, cÃ¡c báº¡n cÃ³ thá»ƒ download source code á»Ÿ [link github nÃ y](https://github.com/rockman88v/demo-app.git)

MÃ´ táº£ sÆ¡ bá»™ thÃ¬ Ä‘Ã¢y lÃ  má»™t App viáº¿t báº±ng NodeJs hiá»ƒn thá»‹ má»™t sá»‘ thÃ´ng tin vá» deployment cá»§a nÃ³ trÃªn k8s nhÆ° namespace, node, Pod..
![image.png](https://images.viblo.asia/fdd15f32-42ef-474a-ab9d-c569c9b5fc5f.png)

### Táº¡o access key Ä‘á»ƒ truy cáº­p github
Trong mÃ´ hÃ¬nh sá»­ dá»¥ng gitops nÃ y, Jenkin váº«n Ä‘Ã³ng vai trÃ² CI vÃ  nÃ³ cáº§n pull Ä‘Æ°á»£c tá»« `source repo` vÃ  `config repo`. Do Ä‘Ã³ ta cáº§n táº¡o má»™t  `access token` trÃªn github vÃ  cáº¥u hÃ¬nh cho Jenkins sá»­ dá»¥ng token Ä‘Ã³ khi pull tá»« github.

**CÃ¡c báº¡n táº¡o `access token` theo bÆ°á»›c sau:**

VÃ o thÃ´ng tin user á»Ÿ gÃ³c trÃªn bÃªn pháº£i chá»n Setting â‡’ Developer settings
(Hoáº·c truy cáº­p tháº³ng vÃ o link: [https://github.com/settings/tokens](https://github.com/settings/tokens))

Chá»n **Generate new token** â‡’ **Generate new token (classic)** â‡’ Äáº·t tÃªn token vÃ  tick chá»n vÃ o má»¥c **repo** â‡’ **Generate token** â‡’ LÆ°u láº¡i token vá»«a sinh ra Ä‘á»ƒ sá»­ dá»¥ng.

## Táº¡o `config repo` Ä‘á»ƒ lÆ°u trá»¯ helmchart vÃ  file helm-value cho á»©ng dá»¥ng
### Táº¡o `config repo`
Pháº§n helmchart Ä‘á»ƒ triá»ƒn khai cho á»©ng nÃ y mÃ¬nh sáº½ lÆ°u trÃªn má»™t repo riÃªng, cÃ¡c báº¡n cÃ³ thá»ƒ [***download á»Ÿ Ä‘Ã¢y***](https://github.com/rockman88v/app-helmchart.git).
Trong thÆ° má»¥c helmchart mÃ¬nh sáº½ lÆ°u trá»¯ má»™t file `values.yaml` chá»©a cÃ¡c cáº¥u hÃ¬nh máº·c Ä‘á»‹nh cho á»©ng dá»¥ng. CÃ¡c giÃ¡ trá»‹ cáº§n tÃ¹y biáº¿n sáº½ lÆ°u á»Ÿ file `app-demo-value.yaml`.  Má»™t sá»‘ tham sá»‘ quan trá»ng nhÆ°:
- image.repository => Khai bÃ¡o thÃ´ng tin image cá»§a á»©ng dá»¥ng
- image.tag => PhiÃªn báº£n Ä‘Ã³ng gÃ³i cá»§a á»©ng dá»¥ng
- replicaCount => Sá»‘ Pod cháº¡y á»©ng dá»¥ng
- service.type => MÃ¬nh Ä‘á»ƒ lÃ  `NodePort` Ä‘á»ƒ khá»i pháº£i táº¡o ingress..
### Táº¡o access key Ä‘á»ƒ truy cáº­p github
Náº¿u `config repo` vÃ  `source repo` cÃ¹ng dÃ¹ng chung github  thÃ¬ báº¡n chá»‰ cáº§n táº¡o 1 láº§n `access token` Ä‘á»ƒ dÃ¹ng chung. CÃ²n náº¿u lÃ  2 há»‡ thá»‘ng khÃ¡c nhau thÃ¬ táº¡o 2 `access token` riÃªng biá»‡t nhÃ©!

**á» Ä‘Ã¢y mÃ¬nh dÃ¹ng chung má»™t account nÃªn chá»‰ táº¡o 1 `access token` lÃ  Ä‘á»§.**

## Táº¡o repository trÃªn Dockerhub Ä‘á»ƒ lÆ°u Images
### Táº¡o repository
BÆ°á»›c nÃ y khÃ¡ Ä‘Æ¡n giáº£n nÃªn mÃ¬nh khÃ´ng mÃ´ táº£ gÃ¬ thÃªm nhiá»u. CÃ¡c báº¡n táº¡o má»™t repo má»›i Ä‘á»ƒ sau khi build docker image thÃ¬ sáº½ push image Ä‘Ã³ lÃªn dockerhub repo.
MÃ¬nh Ä‘Ã£ táº¡o sáºµn repo trÃªn dockerhub lÃ  `rockman88v/demo-app` nhÆ° sau:
![image.png](https://images.viblo.asia/b7f6cdac-7e32-432d-8015-8cddb145f7e9.png)

### Táº¡o `access token` Ä‘á»ƒ káº¿t ná»‘i tá»›i dockerhub
Khi login vÃ o dockerhub báº¡n chá»n vÃ o tÃªn account â†’ Setting â†’ Secutiry â†’ Access Tokens â†’ New Access Token:
![Untitled (1).png](https://images.viblo.asia/a2f91afa-592f-457b-a268-07774e4f8a5f.png)

Chá»n tÃªn cho token, quyá»n lÃ  Read & Write vÃ  chá»n Generate.
Báº¡n cáº§n lÆ°u láº¡i token má»›i sinh ra Ä‘á»ƒ sá»­ dá»¥ng á»Ÿ cÃ¡c bÆ°á»›c sau:
```
dckr_pat_m_ygVxxxxxxxxxxxxxx
```
***Token nÃ y sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m credential cho Jenkins khi cáº§n push docker image lÃªn dockerhub.***

## CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh jenkins
### CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh Jenkins
BÆ°á»›c nÃ y mÃ¬nh khÃ´ng giá»›i thiá»‡u ká»¹ vÃ¬ cÃ i Ä‘áº·t khÃ¡ Ä‘Æ¡n giáº£n cÃ¡c báº¡n gg vÃ  lÃ m theo. Pháº§n cÃ i Ä‘áº·t cÃ¡c plugin thÃ¬ báº¡n cáº§n cÃ i Git, Docker Pipeline.

### Táº¡o credentials káº¿t ná»‘i github vÃ  dockerhub
Trong vÃ­ dá»¥ nÃ y mÃ¬nh sá»­ dá»¥ng github vÃ  dockerhub. Trong trÆ°á»ng há»£p cÃ¡c báº¡n sá»­ dá»¥ng cÃ´ng cá»¥ khÃ¡c thÃ¬ cÅ©ng lÃ m tÆ°Æ¡ng tá»± lÃ  táº¡o token hoáº·c user/pass trÃªn cÃ¡c há»‡ thá»‘ng SMC vÃ  registry tÆ°Æ¡ng á»©ng Ä‘á»ƒ táº¡o credentials cho jenkins.

Äá»ƒ táº¡o credentials báº¡n thá»±c hiá»‡n trÃªn jenkins web nhÆ° sau: VÃ o Manage Jenkins => Manage Credentials => chá»n Domain `global` => chá»n `Add Credentials` => chá»n kind lÃ  `Username with password`.

**VÃ­ dá»¥ Ä‘á»ƒ táº¡o credentials cho Jenkins kÃ©t ná»‘i github mÃ¬nh sáº½ Ä‘iá»n:**
- Username: LÃ  user cá»§a báº¡n trÃªn github
- Password: LÃ  `access token` táº¡o á»Ÿ bÆ°á»›c trÃªn
- ID: Äiá»n lÃ  `github`. ID nÃ y sáº½ Ä‘Æ°á»£c dÃ¹ng trong pipeline khi cáº§n pull/commit tá»›i github, báº¡n Ä‘áº·t tÃªn gÃ¬ gá»£i nhá»› lÃ  dc.

**TÆ°Æ¡ng tá»± báº¡n táº¡o credential cho Jenkins káº¿t ná»‘i tá»›i dockerhub:**
- Username: LÃ  user cá»§a báº¡n trÃªn dockerhub
- Password: LÃ  `access token` táº¡o á»Ÿ bÆ°á»›c trÃªn
- ID: Äiá»n lÃ  `dockerhub`. ID nÃ y sáº½ Ä‘Æ°á»£c dÃ¹ng trong pipeline khi cáº§n push image lÃªn dockerhub

**Káº¿t quáº£ nhÆ° sau:**
![image.png](https://images.viblo.asia/c80a2d47-d198-45e5-936a-56fbaca487cb.png)

## CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh ArgoCD
**CÃ¡c báº¡n cÃ i Ä‘áº·t ArgoCD lÃªn K8S báº±ng lá»‡nh sau:**
```
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml

# Cáº¥u hÃ¬nh service thÃ nh loáº¡i NodePort:
kubectl patch svc -n argocd argocd-server --patch ''{"spec": {"type": "NodePort"}}''
```

**Káº¿t quáº£ sinh ra cÃ¡c resource á»Ÿ namespace `argocd` nhÆ° sau:**
```
ubuntu@base-node:~$ k -n argocd get all
NAME                                                    READY   STATUS    RESTARTS      AGE
pod/argocd-application-controller-0                     1/1     Running   4 (13h ago)   29d
pod/argocd-applicationset-controller-6f8bd46d57-6zlrs   1/1     Running   5 (13h ago)   29d
pod/argocd-dex-server-7b64b5456b-rw858                  1/1     Running   4 (13h ago)   29d
pod/argocd-notifications-controller-6d8d47c47b-7kczx    1/1     Running   4 (13h ago)   29d
pod/argocd-redis-847d5bc57c-sm4g8                       1/1     Running   4 (13h ago)   29d
pod/argocd-repo-server-685bbbf85c-68rjf                 1/1     Running   4 (13h ago)   29d
pod/argocd-server-66fcf976bf-5jt88                      1/1     Running   4 (13h ago)   28d

NAME                                              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
service/argocd-applicationset-controller          ClusterIP   10.106.171.153   <none>        7000/TCP,8080/TCP            29d
service/argocd-dex-server                         ClusterIP   10.106.88.129    <none>        5556/TCP,5557/TCP,5558/TCP   29d
service/argocd-metrics                            ClusterIP   10.97.2.20       <none>        8082/TCP                     29d
service/argocd-notifications-controller-metrics   ClusterIP   10.98.211.133    <none>        9001/TCP                     29d
service/argocd-redis                              ClusterIP   10.106.47.164    <none>        6379/TCP                     29d
service/argocd-repo-server                        ClusterIP   10.109.251.135   <none>        8081/TCP,8084/TCP            29d
service/argocd-server                             NodePort    10.99.253.77     <none>        80:32656/TCP,443:30671/TCP   29d
service/argocd-server-metrics                     ClusterIP   10.107.240.56    <none>        8083/TCP                     29d

NAME                                               READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/argocd-applicationset-controller   1/1     1            1           29d
deployment.apps/argocd-dex-server                  1/1     1            1           29d
deployment.apps/argocd-notifications-controller    1/1     1            1           29d
deployment.apps/argocd-redis                       1/1     1            1           29d
deployment.apps/argocd-repo-server                 1/1     1            1           29d
deployment.apps/argocd-server                      1/1     1            1           29d

NAME                                                          DESIRED   CURRENT   READY   AGE
replicaset.apps/argocd-applicationset-controller-6f8bd46d57   1         1         1       29d
replicaset.apps/argocd-dex-server-7b64b5456b                  1         1         1       29d
replicaset.apps/argocd-notifications-controller-6d8d47c47b    1         1         1       29d
replicaset.apps/argocd-redis-847d5bc57c                       1         1         1       29d
replicaset.apps/argocd-repo-server-685bbbf85c                 1         1         1       29d
replicaset.apps/argocd-server-66fcf976bf                      1         1         1       29d

NAME                                             READY   AGE
statefulset.apps/argocd-application-controller   1/1     29d
```

**Äá»ƒ truy cáº­p vÃ o web cá»§a ArgoCD báº¡n cáº§n 2 thá»©:**
- Láº¥y thÃ´ng tin NodePort Ä‘Æ°á»£c gÃ¡n cho service `argocd-server`, nhÆ° bÃªn dÆ°á»›i ta cÃ³ NodePort https lÃ  `30671`:
```
ubuntu@base-node:~$ k -n argocd get svc argocd-server
NAME            TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)                      AGE
argocd-server   NodePort   10.99.253.77   <none>        80:32656/TCP,443:30671/TCP   29d
```
- Láº¥y thÃ´ng tin password Ä‘Äƒng nháº­p máº·c Ä‘á»‹nh sau khi cÃ i (káº¿t quáº£ cho ra `EvmRUhW99524rAfE`):
```
ubuntu@base-node:~$ kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d
EvmRUhW99524rAfE
```
***LÃºc nÃ y ta cÃ³ thá»ƒ truy cáº­p vÃ o Web cá»§a ArgoCD thÃ´ng qua workerIP:NodePort dÃ¹ng user máº·c Ä‘á»‹nh lÃ  `admin` vá»›i password trÃªn.***

`NOTE: á» bÆ°á»›c nÃ y mÃ¬nh chÆ°a cÃ i certificate cho Argo nÃªn khi Ä‘Äƒng nháº­p sáº½ bÃ¡o invalid certificate thÃ¬ cÃ¡c báº¡n váº«n chá»n tiáº¿p tá»¥c Ä‘á»ƒ bá» qua lá»—i cert nhÃ©!`
## Táº¡o job CI trÃªn Jenkins
**Tá»›i bÆ°á»›c nÃ y mÃ¬nh cáº§n Ä‘á»‹nh nghÄ©a Job cho jenkins thá»±c hiá»‡n cÃ¡c cÃ´ng viá»‡c sau:**
- Pull `source code` tá»« github
- Build source code
- Build docker image
- Push docker image lÃªn container registry (dockerhub)
- Cáº­p nháº­t thÃ´ng tin phiÃªn báº£n á»©ng dá»¥ng (image.tag) vÃ o file helm-value lÆ°u trong `config repo`

CÃ¡c bÆ°á»›c trÃªn Ä‘á»u khÃ´ng cÃ³ gÃ¬ má»›i so vá»›i luá»“ng CICD trÆ°á»›c Ä‘Ã¢y mÃ¬nh Ä‘Ã£ Ä‘á» cáº­p á»Ÿ [bÃ i 17 XÃ¢y dá»±ng luá»“ng CICD vá»›i Gitlab vÃ  Jenkins](https://viblo.asia/p/k8s-phan-17-xay-dung-luong-cicd-voi-gitlab-va-jenkins-RnB5pJAGZPG) trá»« bÆ°á»›c cáº­p nháº­t thÃ´ng tin phiÃªn báº£n á»©ng dá»¥ng.

Ã tÆ°á»Ÿng cá»§a bÆ°á»›c nÃ y lÃ  á»Ÿ má»—i láº§n build source code thÃ nh docker image, ta sáº½ sá»­ dá»¥ng tham sá»‘ BUILD_NUMBER (tÄƒng láº§n sau má»—i láº§n build) lÃ  thÃ´ng tin tag cá»§a image. Do Ä‘Ã³ ta cÅ©ng cáº§n cáº­p nháº­t tham sá»‘ nÃ y cho file helm-value Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng lÃªn k8s, file nÃ y náº±m á»Ÿ `config repo`.

**Äá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c bÆ°á»›c nÃ y cÃ³ nhiá»u phÆ°Æ¡ng Ã¡n, á»Ÿ Ä‘Ã¢y mÃ¬nh dÃ¹ng Ã½ tÆ°á»Ÿng Ä‘Æ¡n giáº£n nhÆ° sau:**
- Pull `config repo` vá»
- Cáº­p nháº­t giÃ¡ trá»‹ image.tag theo Ä‘Ãºng tag má»›i build
- Commit thay Ä‘á»•i vÃ o repo `config repo`

**CÃ¡c báº¡n tham kháº£o cáº¥u hÃ¬nh job thá»±c hiá»‡n cÃ¡c bÆ°á»›c nÃªu trÃªn nhÆ° sau:**
```java
//pull config repo ok
// update tag in config repo ok
// not yet commit and push
def appSourceRepo = ''https://github.com/rockman88v/demo-app.git''
def appSourceBranch = ''master''

def appConfigRepo = ''https://github.com/rockman88v/app-helmchart.git''
def appConfigBranch = ''master''
def helmRepo = "app-helmchart"
def helmChart = "app-demo"
def helmValueFile = "app-demo/app-demo-value.yaml"

def dockerhubAccount = ''dockerhub''
def githubAccount = ''github''

dockerBuildCommand = ''./''
def version = "v1.${BUILD_NUMBER}"

pipeline {
    agent any

    environment {
        DOCKER_REGISTRY = ''https://registry-1.docker.io''
        DOCKER_IMAGE_NAME = "rockman88v/demo-app"
        DOCKER_IMAGE = "registry-1.docker.io/${DOCKER_IMAGE_NAME}"
    }

    stages {
        stage(''Checkout project'') {
          steps {
            git branch: appSourceBranch,
                credentialsId: githubAccount,
                url: appSourceRepo
          }
        }
        stage(''Build And Push Docker Image'') {
            steps {
                script {
                    sh "git reset --hard"
                    sh "git clean -f"
					app = docker.build(DOCKER_IMAGE_NAME, dockerBuildCommand)
                    docker.withRegistry( DOCKER_REGISTRY, dockerhubAccount ) {
                       app.push(version)
                    }

                    sh "docker rmi ${DOCKER_IMAGE_NAME} -f"
                    sh "docker rmi ${DOCKER_IMAGE}:${version} -f"
                }
            }
        }

        stage(''Update value in helm-chart'') {
            steps {
				withCredentials([usernamePassword(credentialsId: ''github'', passwordVariable: ''GIT_PASSWORD'', usernameVariable: ''GIT_USERNAME'')]) {
				sh """#!/bin/bash
					   [[ -d ${helmRepo} ]] && rm -r ${helmRepo}
					   git clone ${appConfigRepo} --branch ${appConfigBranch}
					   cd ${helmRepo}
					   sed -i ''s|  tag: .*|  tag: "${version}"|'' ${helmValueFile}
					   git add . ; git commit -m "Update to version ${version}";git push https://${GIT_USERNAME}:${GIT_PASSWORD}@github.com/rockman88v/app-helmchart.git
					   cd ..
					   [[ -d ${helmRepo} ]] && rm -r ${helmRepo}
					   """
				}
            }
        }
    }
}
```

LÃºc nÃ y má»—i khi báº¡n cÃ³ thay Ä‘á»•i vá» source code vÃ  build job trÃªn Jenkins thÃ¬ phiÃªn báº£n cá»§a Docker Image sáº½ Ä‘Æ°á»£c cáº­p nháº­t vÃ o file helm-value (`app-demo-value.yaml`)

**Káº¿t quáº£ build Jenkins:**
![image.png](https://images.viblo.asia/dec6c88d-b833-4ad1-9677-fa3dcbd13556.png)

**Káº¿t quáº£ update lÃªn `config repo`:**
![image.png](https://images.viblo.asia/4e8457bf-73be-434c-88ce-70f3e3b58f0e.png)

***NhÆ° váº­y lÃ  Jenkins Ä‘Ã£ hoÃ n thÃ nh nhiá»‡m vá»¥ cá»§a nÃ³ rá»“i. Pháº§n cÃ²n láº¡i lÃ  cáº¥u hÃ¬nh tiáº¿p phÃ­a ArgoCD Ä‘á»ƒ thá»±c hiá»‡n luá»“ng CD***

## Táº¡o Application (á»©ng dá»¥ng) trÃªn ArgoCD
### Khai bÃ¡o repository chá»©a `config repo` vÃ o argocd
Tá»« web cá»§a argocd vÃ o Settings â†’ Repositories â†’ Connect repo â†’ via HTTPS vÃ  cáº¥u hÃ¬nh cÃ¡c tham sá»‘ nhÆ° sau:
- Choose your connection method: => `VIA HTTPS`
- Type => `Git`
- Project => `default`
- Repository URL: Äiá»n thÃ´ng tin repo Ä‘Ã£ táº¡o á»Ÿ bÃªn trÃªn `https://github.com/rockman88v/app-helmchart.git`
- Username/Password: Äiá»n thÃ´ng tin account, password lÃ  token táº¡o bÃªn trÃªn.

**Káº¿t quáº£ khi táº¡o repository thÃ nh cÃ´ng:**
![image.png](https://images.viblo.asia/0960bcf5-76ad-4378-a59a-7465b0992ef9.png)

### Khai bÃ¡o á»©ng dá»¥ng trÃªn ArgoCD
> KhÃ¡i niá»‡m "Application" (á»©ng dá»¥ng) trÃªn ArgoCD chÃ­nh lÃ  ta khai bÃ¡o viá»‡c theo dÃµi má»™t táº­p cÃ¡c resource trÃªn K8S dá»±a vÃ o má»™t táº­p file cáº¥u hÃ¬nh Ä‘á»‹nh nghÄ©a cÃ¡c resource Ä‘Ã³. Trong trÆ°á»ng há»£p nÃ y ta sáº½ Ä‘á»‹nh nghÄ©a á»©ng dá»¥ng demo cá»§a chÃºng ta tá»« bá»™ helm-chart vÃ  helm-value Ä‘Æ°á»£c lÆ°u trÃªn `config repo`.

**Khai bÃ¡o application:**
Tá»« web cá»§a argocd vÃ o Applications â†’ New App vÃ  Ä‘iá»n cÃ¡c tham sá»‘ nhÆ° sau:

**GENERAL:**
- Application Name: Äiá»n tÃªn cá»§a Application, vÃ­ dá»¥ `DEMO-APP3`
- Project Name: `Default`
- SYNC POLICY: `Manual`. á» Ä‘Ã¢y cÃ³ 2 option lÃ  `Manual` hoáº·c `Auto-sync`.
    - `Auto-sync`: Khi phÃ¡t hiá»‡n sá»± báº¥t Ä‘á»“ng bá»™ giá»¯a cáº¥u hÃ¬nh thá»±c táº¿ (trÃªn K8S) so vá»›i Ä‘á»‹nh nghÄ©a (trÃªn `config repo` thÃ¬ Argo thá»±c hiá»‡n tá»± Ä‘á»™ng viá»‡c cáº­p nháº­t cáº¥u hÃ¬nh cÃ¡c resource trÃªn K8S theo Ä‘Ãºng cáº¥u hÃ¬nh Ä‘Ã£ Ä‘á»‹nh nghÄ©a
    - `Manual` Khi phÃ¡t hiá»‡n báº¥t Ä‘á»™ng bá»™ thÃ¬ ArgoCD sáº½ chá»‰ cáº£nh bÃ¡o lÃªn cÃ¡c resource bá»‹ máº¥t Ä‘á»“ng bá»™ (out of sync) vÃ  báº¡n muá»‘n Ä‘á»“ng bá»™ láº¡i thÃ¬ cáº§n pháº£i chá»n vÃ o nÃºt `sync` Ä‘á»ƒ Ä‘á»“ng bá»™ láº¡i.

**SOURCE:**
- Repository URL: [`https://github.com/rockman88v/app-helmchart.git`](https://github.com/rockman88v/app-helmchart.git)
- Path: `app-demo` -> ÄÃ¢y lÃ  thÆ° má»¥c chá»©a helmchart cá»§a chÃºng ta

**DESTINATION:**
- Cluster URL: [`https://kubernetes.default.svc`](https://kubernetes.default.svc/)
- Namespace: `demo3`

**Helm:**
- VALUES FILES: Chá»n 2 file value theo Ä‘Ãºng thá»© tá»± lÃ  `values.yaml` vÃ  `app-demo-value.yaml`
![image.png](https://images.viblo.asia/145ff318-a49a-4ae0-8571-ca152ded8591.png)

**Sau Ä‘Ã³ chá»n CREATE Ä‘á»ƒ táº¡o application. Káº¿t quáº£:**
![image.png](https://images.viblo.asia/dc90e1f0-daac-4db0-8c2d-5bf748be7f29.png)

á» Ä‘Ã¢y khi má»›i táº¡o thÃ¬ á»©ng dá»¥ng cá»§a báº¡n sáº½ á»Ÿ tráº¡ng thÃ¡i "**Missing, OutOfSync**", Ä‘Æ¡n giáº£n lÃ  vÃ¬ báº¡n chÆ°a táº¡o resource trÃªn K8S.
Trong hÃ¬nh trÃªn thÃ¬ app `demo-app2` lÃ  mÃ¬nh Ä‘Ã£ sync tá»« trÆ°á»›c rá»“i, cÃ²n app `app-demo3` lÃ  mÃ¬nh vá»«a táº¡o xong tÆ°Æ¡ng tá»± nhÆ° app-demo2 nhÆ°ng á»Ÿ namespace khÃ¡c.

> Má»™t lÆ°u Ã½ lÃ  báº¡n cáº§n táº¡o namespace trÆ°á»›c khi khai bÃ¡o á»©ng dá»¥ng trÃªn ArgoCD nhÃ©!

Khi áº¥n vÃ o xem chi tiáº¿t á»©ng dá»¥ng sáº½ tháº¥y á»©ng dá»¥ng nÃ y quáº£n lÃ½ tráº¡ng thÃ¡i cá»§a 3 resource lÃ  `service`, `service account` vÃ  `deployment`, cáº£ 3 resource nÃ y Ä‘á»u chÆ°a Ä‘Æ°á»£c táº¡o trÃªn namespace `demo3`:
![image.png](https://images.viblo.asia/9b902a9e-4b56-4c8c-8f0c-64bd3d06e163.png)

ChÃºng ta cÃ³ thá»ƒ áº¥n `SYNC` Ä‘á»ƒ Ä‘á»“ng bá»™ tráº¡ng thÃ¡i trÃªn k8s vá»›i trÃªn git, nghÄ©a lÃ  sáº½ táº¡o ra cÃ¡c resource trÃªn k8s:
![image.png](https://images.viblo.asia/c9549da2-95ed-44cc-8126-8c01e184cf7d.png)

Káº¿t quáº£ sau khi sync thÃ nh cÃ´ng, á»©ng dá»¥ng á»Ÿ tráº¡ng thÃ¡i "Synced":
![image.png](https://images.viblo.asia/b7484bfc-9e9d-4996-92d9-d1903ed5acd4.png)

## Test luá»“ng cáº­p nháº­t source code
ThÃ´ng thÆ°á»ng thÃ¬ pháº§n cáº¥u hÃ¬nh cho á»©ng dá»¥ng sáº½ Ã­t khi cÃ³ thay Ä‘á»•i, trá»« khi báº¡n muá»‘n bá»• sung thÃªm template hay thay Ä‘á»•i scale hoáº·c cÃ¡c tham sá»‘ liÃªn quan tá»›i resource limit/request..

Má»—i khi cÃ³ update vá» source code thÃ¬ báº¡n sáº½ cáº§n cháº¡y luá»“ng CICD Ä‘á»ƒ deploy lÃªn mÃ´i trÆ°á»ng thá»±c táº¿. Khi Ä‘Ã³ pháº§n duy nháº¥t thay Ä‘á»•i á»Ÿ pháº§n `config repo` lÃ  giÃ¡ trá»‹ image.tag.
VÃ­ dá»¥ á»©ng dá»¥ng hiá»‡n táº¡i cá»§a mÃ¬nh Ä‘ang á»Ÿ phiÃªn báº£n á»©ng dá»¥ng lÃ  `1.33 20230116` nhÆ° cÃ¡c báº¡n tháº¥y khi vÃ o web:
![image.png](https://images.viblo.asia/0ce81881-4ed1-48c9-92b9-747fb1928f11.png)

BÃ¢y giá» mÃ¬nh sáº½ cáº­p nháº­t giÃ¡ trá»‹ nÃ y á»Ÿ trong source code, file `documents/index.html` thÃ nh "This is version 1.40 20230209" vÃ  cháº¡y láº¡i luá»“ng CICD nÃ y.
![image.png](https://images.viblo.asia/22f3b3b0-2111-4304-a8dd-d2165e8e2903.png)

Sau khi Jenkin build xong sáº½ cáº­p nháº­t thÃ´ng tin image vÃ  ArgoCD sáº½ update cÃ¡c resoure tÆ°Æ¡ng á»©ng trÃªn k8s, cá»¥ thá»ƒ chá»‰ cÃ³ deployment cáº§n update (do image.tag thay Ä‘á»•i) cÃ²n cÃ¡c resource khÃ¡c khong áº£nh hÆ°á»Ÿng gÃ¬:
![image.png](https://images.viblo.asia/c2f9ebe8-6ed0-4235-b201-d551d8c9697a.png)

**VÃ o láº¡i web cá»§a á»©ng dá»¥ng vÃ  verify thÃ´ng tin cáº­p nháº­t (hiá»ƒn thá»‹ phiÃªn báº£n má»›i `1.41 20230209`):**
![image.png](https://images.viblo.asia/aeae6fe9-f0c6-4dfe-8c50-8dc2852217ea.png)

## Test luá»“ng cáº­p nháº­t trá»±c tiáº¿p helmchart trÃªn `config repo`
Trong quÃ¡ trÃ¬nh váº­n hÃ nh á»©ng dá»¥ng, Ä‘Ã´i khi chÃºng ta pháº£i thay Ä‘á»•i cÃ¡c tham sá»‘ cáº¥u hÃ¬nh cho á»©ng dá»¥ng vÃ­ dá»¥ nhÆ°:
- Thay Ä‘á»•i sá»‘ lÆ°á»£ng Pod (tÄƒng/giáº£m)
- Thay Ä‘á»•i cáº¥u hÃ¬nh resource (tÄƒng/giáº£m request/limit cho RAM/CPU)
- ThÃªm template má»›i (vÃ­ dá»¥ thÃªm cáº¥u hÃ¬nh Affinity, hay service monitor..)

Nhá»¯ng thay Ä‘á»•i nÃ y Ä‘á»™c láº­p vá»›i thay Ä‘á»•i cá»§a source code á»©ng dá»¥ng (tá»©c lÃ  vá» logic nghiá»‡p vá»¥ khÃ´ng Ä‘á»•i, phiÃªn báº£n Ä‘Ã³ng gÃ³i á»©ng dá»¥ng khÃ´ng Ä‘á»•i).

LÃºc nÃ y nhá»¯ng thay Ä‘á»•i sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n commit lÃªn `config repo` vÃ  Ä‘Ã¢y lÃ  nguá»“n Ä‘áº£m báº£o thÃ´ng tin cáº¥u hÃ¬nh luÃ´n Ä‘Æ°á»£c Ä‘á»“ng bá»™ vá»›i má»i thÃ nh viÃªn trong team.

**MÃ¬nh sáº½ demo 2 trÆ°á»ng há»£p Ä‘iá»ƒn hÃ¬nh:**
- Cáº­p nháº­t cáº¥u hÃ¬nh á»Ÿ `config repo` => Argo Ä‘á»“ng bá»™ cÃ¡c thay Ä‘á»•i Ä‘Ã³ lÃªn cÃ¡c resource tÆ°Æ¡ng á»©ng trÃªn k8s
- Thay Ä‘á»•i cáº¥u hÃ¬nh resource trÃªn k8s => Argo phÃ¡t hiá»‡n thay Ä‘á»•i vÃ  sáº½ chiáº¿u theo cáº¥u hÃ¬nh tá»« trÃªn git Ä‘á»ƒ apply ngÆ°á»£c láº¡i k8s

### TrÆ°á»ng há»£p cáº¥u hÃ¬nh á»©ng dá»¥ng trÃªn git
Hiá»‡n tráº¡ng á»©ng dá»¥ng cá»§a mÃ¬nh lÃºc nÃ y Ä‘ang quáº£n lÃ½ 3 tÃ i nguyÃªn lÃ  service, service account vÃ  deployment vá»›i 3 replicas.
> LÆ°u Ã½ bÆ°á»›c nÃ y mÃ¬nh sáº½ táº¯t tÃ­nh nÄƒng autosync cá»§a Application trÃªn ArgoCD Ä‘á»ƒ dá»… quan sÃ¡t sá»± thay Ä‘á»•i vÃ  khÃ¡c biá»‡t giá»¯a cáº¥u hÃ¬nh thá»±c táº¿ vÃ  cáº¥u hÃ¬nh Ä‘á»‹nh nghÄ©a trÃªn git.

**MÃ¬nh sáº½ update cáº¥u hÃ¬nh á»©ng dá»¥ng nÃ y á»Ÿ file helm-value `app-demo-value.yaml` nhÆ° sau:**
- TÄƒng sá»‘ replicas lÃªn thÃ nh 4 Pod
- Enable ingress => Sáº½ táº¡o ra má»™t resource má»›i lÃ  ingress

**ThÃ´ng tin cáº­p nháº­t:**
```
replicaCount: 4
```

```
ingress:
  enabled: true
  className: "local"
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: demo-helm.prod.viettq.com
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
```

**Sau Ä‘Ã³ commit thay Ä‘á»•i lÃªn `config repo` vÃ  chá» xem káº¿t quáº£ á»Ÿ ArgoCD**.
![image.png](https://images.viblo.asia/22323dbc-a3a5-409b-a398-2bb1f75c453d.png)

**Argo Ä‘Ã£ bÃ¡o cho chÃºng ta 3 váº¥n Ä‘á»:**
- resource ingress `demo-app2-app-demo` cÃ³ khai bÃ¡o trÃªn Git nhÆ°ng chÆ°a tá»“n táº¡i trÃªn k8s
- resource deployment `demo-app2-app-demo` Ä‘ang bá»‹ máº¥t Ä‘á»“ng bá»™.

**ChÃºng ta cÃ³ thá»ƒ kiá»ƒm tra chi tiáº¿t sá»± máº¥t Ä‘á»“ng bá»™ á»Ÿ Ä‘Ã¢y lÃ  nhá»¯ng tham sá»‘ nÃ o báº±ng cÃ¡ch chá»n vÃ o resource Ä‘Ã³ chá»n diff:**
![image.png](https://images.viblo.asia/ab70f751-2b39-4e53-bff1-e5e599673ba8.png)

**Ta cÃ³ thá»ƒ áº¥n `SYNC` á»Ÿ application Ä‘á»ƒ cáº­p nháº­t thay Ä‘á»•i cá»§a táº¥t cáº£ resource cá»§a há»‡ thá»‘ng:**
![image.png](https://images.viblo.asia/3f6ec1da-c418-4a81-8d3e-309b6472c651.png)

LÃºc nÃ y 1 Pod má»›i sáº½ Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ Ä‘áº£m báº£o Ä‘Ãºng sá»‘ lÆ°á»£ng Pod lÃ  4 (nhÆ° khai bÃ¡o trÃªn git) vÃ  1 ingress má»›i Ä‘Æ°á»£c táº¡o ra:
![image.png](https://images.viblo.asia/5f37c5f7-db6d-4e71-aaff-e49e5218d276.png)

### TrÆ°á»ng há»£p thay Ä‘á»•i resource trÃªn k8s
Tiáº¿p tá»¥c bjo náº¿u ta thay Ä‘á»•i cáº¥u hÃ¬nh cÃ¡c resource trÃªn k8s thÃ¬ ArgoCD sáº½ phÃ¡t hiá»‡n vÃ  cáº£nh bÃ¡o.

**MÃ¬nh sáº½ thá»±c hiá»‡n nhÆ° sau:**
- Scale sá»‘ Pod vá» 1
```
k -n demo2 scale deployment demo-app2-app-demo --replicas 1
```
- Äá»•i cáº¥u hÃ¬nh service vá» ClusterIP

```
kubectl -n demo2 patch svc demo-app2-app-demo --type=''json'' -p ''[{"op":"replace","path":"/spec/type","value":"ClusterIP"},{"op":"replace","path":"/spec/ports/0/nodePort","value":null}]''
```

**Kiá»ƒm tra trÃªn ArgoCD sáº½ phÃ¡t hiá»‡n ra ngay 2 resource bá»‹ máº¥t Ä‘á»“ng bá»™ lÃ  service vÃ  deployment:**
![image.png](https://images.viblo.asia/dc0493b2-13d3-40fd-a778-b081a2fabfe7.png)

**Chi tiáº¿t thay Ä‘á»•i cá»§a service:**
![image.png](https://images.viblo.asia/cbf1e395-3e59-4159-ba4d-977fe3aae29c.png)

**Chi tiáº¿t thay Ä‘á»•i cá»§a deployment:**
![image.png](https://images.viblo.asia/3a5fe42f-4666-4819-8431-992a3f71bcc6.png)

**VÃ  ta chá»‰ viá»‡c Ä‘Æ¡n giáº£n SYNC láº¡i á»©ng dá»¥ng Ä‘á»ƒ Ä‘Æ°a há»‡ thÃ³ng vá» láº¡i Ä‘Ãºng tráº¡ng thÃ¡i mÃ  ta mong muá»‘n (lÃ  tráº¡ng thÃ¡i theo cáº¥u hÃ¬nh lÆ°u trÃªn Git):**
![image.png](https://images.viblo.asia/b4d43cbf-be27-4d99-8fa7-bb56989a5159.png)

# Tá»•ng káº¿t
BÃ i viáº¿t nÃ y khÃ¡ dÃ i nhÆ°ng hy vá»ng má»i ngÆ°á»i sáº½ cÃ³ cÃ¡i nhÃ¬n rÃµ hÆ¡n vá» Gitops cÅ©ng nhÆ° cÃ¡c Ã½ tÆ°á»Ÿng xá»­ lÃ½ trong luá»“ng nÃ y. Bá»Ÿi nÃ³ sáº½ khÃ´ng bá»‹ bÃ³ buá»™c bá»Ÿi má»™t cÃ´ng cá»¥ cá»¥ thá»ƒ nÃ o cáº£, cÃ¡c báº¡n cÃ³ thá»ƒ linh Ä‘á»™ng sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ khÃ¡c mÃ  báº£n thÃ¢n tháº¥y quen dÃ¹ng hÆ¡n.

**Qua ná»™i dung bÃ i nÃ y cÃ³ thá»ƒ gá»£i má»Ÿ cho cÃ¡c báº¡n tÃ¬m hiá»ƒu thÃªm nhiá»u chá»§ Ä‘á» khÃ¡c ná»¯a nhÆ°:**
- CÃ´ng cá»¥ Gitops tÆ°Æ¡ng tá»± ArgoCD (FluxCD
- CÃ¡c cÃ´ng cá»¥ CI khÃ¡c ngoÃ i Jenkins (gitlab..)
- PhÃ¢n quyá»n trÃªn ArgoCD
- Quáº£n lÃ½ phiÃªn báº£n, rollback báº±ng ArgoCD..
- Sá»­ dá»¥ng file deployment manifest thay vÃ¬ dÃ¹ng helmchart..

***Cáº£m Æ¡n má»i ngÆ°á»i Ä‘Ã£ dÃ nh thá»i gian Ä‘á»c tá»›i Ä‘Ã¢y. Náº¿u tháº¥y bÃ i viáº¿t há»¯u Ã­ch thÃ¬ cho mÃ¬nh xin 1 upvote cho bÃ i viáº¿t Ä‘á»ƒ tiáº¿p tá»¥c ra nhiá»u ná»™i dung má»›i nhÃ©!***', '2023-02-09T09:40:10.000000Z', '2023-02-28T05:00:16.000000Z', '2023-02-10T02:27:30.000000Z'),
	('Blog#138: console.logã ã‘ã§ã¯ãªã„consoleã®ä½¿ã„æ–¹æ³•', 'qPoL7zDkJvk', '5', 'unlisted', 'https://images.viblo.asia/3c268ab0-7707-4b9a-b055-7fd815a7341c.png', '

ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€æ—¥æœ¬èªãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«ç°¡å˜ãªæ—¥æœ¬èªã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã æ—¥æœ¬èªã‚’å­¦ã¶ã“ã¨ã§ã™ã€‚

ã“ã‚“ã«ã¡ã¯ã€ç§ã¯ãƒˆã‚¥ã‚¢ãƒ³ã¨ç”³ã—ã¾ã™ã€‚æ±äº¬ã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºè€…ã§ã™ã€‚
å°†æ¥ã®æœ‰ç”¨ã§é¢ç™½ã„è¨˜äº‹ã‚’è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç§ã®ãƒ–ãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã§ã¯ã€console.log()ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ã§ã‚‚ã€consoleã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã‚‚ã£ã¨ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚æ­£ã—ãã€åŠ¹ç‡çš„ã«ãƒ‡ãƒãƒƒã‚°ã‚’è¡Œã†ãŸã‚ã«ã€consoleã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚ˆãèª¿ã¹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

console.logã®å•é¡Œ

console.logã‚’ä½¿ã†ã ã‘ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ãŒconsole.logã ã‚‰ã‘ã«ãªã£ã¦ã—ã¾ã„ã€ã©...', '![image.png](https://images.viblo.asia/3c268ab0-7707-4b9a-b055-7fd815a7341c.png)

> ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€[æ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«[ç°¡å˜ãªæ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã [æ—¥æœ¬èªã‚’å­¦ã¶](https://viblo.asia/s/-E1XVOWqNVMz)ã“ã¨ã§ã™ã€‚
-----
ã“ã‚“ã«ã¡ã¯ã€ç§ã¯[ãƒˆã‚¥ã‚¢ãƒ³](https://tuan-portfolio.web.app/#/)ã¨ç”³ã—ã¾ã™ã€‚æ±äº¬ã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºè€…ã§ã™ã€‚
å°†æ¥ã®æœ‰ç”¨ã§é¢ç™½ã„è¨˜äº‹ã‚’è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç§ã®ãƒ–ãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fconsole.jpg%3Fw%3D1280%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ff552c99ee45fccc06f1457430b1d58f "image_tooltip")](https://camo.qiitausercontent.com/9c0cc3526080307f47ee1bdb65177fdcdf0a43a2/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f636f6e736f6c652e6a70673f773d313238302673736c3d31)

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã§ã¯ã€`console.log()`ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ã§ã‚‚ã€`console`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã‚‚ã£ã¨ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚æ­£ã—ãã€åŠ¹ç‡çš„ã«ãƒ‡ãƒãƒƒã‚°ã‚’è¡Œã†ãŸã‚ã«ã€`console`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚ˆãèª¿ã¹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

# console.logã®å•é¡Œ

`console.log`ã‚’ä½¿ã†ã ã‘ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ãŒ`console.log`ã ã‚‰ã‘ã«ãªã£ã¦ã—ã¾ã„ã€ã©ã®ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã®ã‹ã‚ã‹ã‚Šã«ãããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ä»Šæ—¥ã¯ã€`console`ã‚’ä½¿ã£ã¦ã§ãã‚‹ï¼™ã¤ã®æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ï¼

# console.table

`console.table`ã¯ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ã®å½¢ã«ã—ã¦è¦‹ã‚„ã™ãè¡¨ç¤ºã—ã¦ãã‚Œã‚‹ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿ã‚„ã™ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
const sweets = [
  { id: 1, name: "Ichigo Cake" },
  { id: 2, name: "Red Pudding" },
];
console.table(sweets);
```

å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚ˆã†ãªå½¢ã§çµæœãŒè¿”ã£ã¦ãã¾ã™ã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage.png%3Fw%3D546%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=ed4589a937207982fe105991e0239d67 "image_tooltip")](https://camo.qiitausercontent.com/d079043fabba7ebd87e147b9a604d6950d37c609/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652e706e673f773d3534362673736c3d31)

# console.group

`console.group`ã¨`console.groupEnd`ã‚’ä½¿ã†ã¨ã€éšå±¤ãŒã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®ã‚ˆã†ã«ã‚°ãƒ«ãƒ¼ãƒ—ã«ã—ã¦è¡¨ç¤ºã§ãã¾ã™ã€‚ã“ã‚Œã§ã€éšå±¤ãŒé•ã†ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã—ãªãŒã‚‰ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã‚ˆã€‚

```js
console.group("User Info");
console.log("Name: John Doe");
console.log("Age: 32");
console.groupEnd();
```

ã“ã®ã‚ˆã†ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒˆã‚°ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-1.png%3Fw%3D558%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=a127411707da5eeeceb576d9db04de65 "image_tooltip")](https://camo.qiitausercontent.com/786e0456d33f3ba6a71a19b2dad130844386f691/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d312e706e673f773d3535382673736c3d31)

# console.time

`console.time`ã¨`console.timeEnd`ã‚’ä½¿ã†ã¨ã€æŒ‡å®šã—ãŸã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“ã‚’è¨ˆç®—ã§ãã¾ã™ã€‚

ç‰¹ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¤œè¨¼ã™ã‚‹ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚

ä»Šå›ã¯ãƒã‚±ãƒ¢ãƒ³APIã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã«ã‹ã‹ã£ãŸæ™‚é–“ã‚’ãƒŸãƒªç§’ã§è¡¨ç¤ºã—ã¦ã¿ã¾ã—ãŸã€‚
```js
console.time("Fetching data");
fetch("https://pokeapi.co/api/v2/pokemon/ditto")
  .then((response) => response.json())
  .then((data) => {
    console.timeEnd("Fetching data");
    // Process the data
  });
```

ã“ã®ã‚ˆã†ã«`console.time()`ã¨`console.timeEnd()`å†…ã®ã‚¹ãƒˆãƒªãƒ³ã‚°ãŒåŒã˜åå‰ã«ãªã£ã¦ã„ã‚‹éƒ¨åˆ†ã‚’è¨ˆç®—ã—ã¦ãã‚Œã¾ã™ã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-2.png%3Fw%3D558%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=114364a2995ebd99c060049efe2c68a8 "image_tooltip")](https://camo.qiitausercontent.com/64cbc0679abe8e65e231da9d7373c3368a601dd6/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d322e706e673f773d3535382673736c3d31)

# console.assert
`assert`ã¯ã€Œæ–­è¨€ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ã¤ã¾ã‚Šã€ã‚ã‚‹çŠ¶æ³ãŒå¸¸ã«æ­£ã—ã„ã¨æƒ³å®šã—ã¦ãŠãã¾ã™ã€‚ã‚‚ã—ã€ãã®çŠ¶æ³ãŒæ­£ã—ããªã„å ´åˆã«ã¯ã€äºˆã‚è¨˜è¿°ã—ã¦ãŠã„ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ãŒæ­£ã—ãå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã—ãŸã‚Šã€ãƒã‚°ã‚’æ—©æœŸã«ç™ºè¦‹ã™ã‚‹ãŸã‚ã«å½¹ç«‹ã¡ã¾ã™ã€‚

```js
function add(a, b) {
  return a + b;
}
// Test the add function
const result = add(2, 3);
console.assert(result === 50, "Expected 2 + 3 = 5");
```

ã“ã®å ´åˆã¯ã€`resulet`ãŒ`50`ã§è¿”ã£ã¦ãã‚‹æƒ³å®šã¨ã—ã¦ã€`5`ã§è¿”ã£ã¦ããŸãŸã‚ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-3.png%3Fw%3D552%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=87e3bde8d5560a9a4d1bc78b678f9736 "image_tooltip")](https://camo.qiitausercontent.com/e0485a48d75b21e41333d0446843b9e0d142de48/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d332e706e673f773d3535322673736c3d31)

ã‚‚ã¡ã‚ã‚“ã€`result === 5`ã«ã™ã‚‹ã¨é–¢æ•°ãŒæ­£ã—ãä½œå‹•ã—ã¦ã„ã‚‹ã¨æ¤œè¨¼ã•ã‚Œã‚‹ã®ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã¯ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªããªã‚Šã¾ã™ã€‚

# console.logã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
----------------------------------------------------------------------------------------------------

`console.log()`ã§è¡¨ç¤ºã•ã›ã‚‹å†…å®¹ã‚’CSSã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
console.log("%cHello world!", "color: red; font-weight: bold;");
```

ã“ã®ã‚ˆã†ã«ãƒœãƒ¼ãƒ«ãƒ‰ã§ã€èµ¤æ–‡å­—ã®ãƒ†ã‚­ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-4.png%3Fw%3D557%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=742262d244e4c02bdbd74c8165235763 "image_tooltip")](https://camo.qiitausercontent.com/ec9c7bc776d07298c069ef4d108ca206c0eaa243/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d342e706e673f773d3535372673736c3d31)

# console.trace

`console.trace`ã¯ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ãã‚Œã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ãŒè¤‡é›‘ã«ãªã‚Šã€å®Ÿè¡Œã•ã‚Œã‚‹é †ç•ªã‚’ç¢ºèªã—ãŸã„ã¨ãã«ä¾¿åˆ©ã«ãªã‚Šã¾ã™ã€‚

```js
function foo() {
  console.trace();
}
function bar() {
  foo();
}
bar();
```

ã“ã®ã‚ˆã†ã«ã€é–¢æ•°`bar()`ã‚’å®Ÿè¡Œã—ãŸéš›ã«ç™ºç«ã•ã‚ŒãŸ`foo()`ãŒã©ã“ã‹ã‚‰å‘¼ã³å‡ºã•ã‚ŒãŸã‹ç†è§£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-5.png%3Fw%3D534%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=7d98e195f3d3042a171e373654acaf4c "image_tooltip")](https://camo.qiitausercontent.com/e7889bba86be0d73e0524b18a0161b70f702a61e/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d352e706e673f773d3533342673736c3d31)

# console.dir

`console.dir`ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’éšå±¤ã”ã¨ã§è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚‚ã—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ã¿ãŸã„å ´åˆã¯ã“ã®æ–¹æ³•ãŒæœ‰åŠ¹çš„ã§ã™ã€‚

```js
const obj = {
  id: 1,
  name: "John Doe",
  address: {
    street: "123 Main St",
    city: "New York",
    zip: 10001,
  },
};
console.dir(obj);
```

ã“ã®ã‚ˆã†ã«ãƒˆã‚°ãƒ«ã§ãã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-6.png%3Fw%3D530%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=8acdb313c8a268702158d4e7638a2c96 "image_tooltip")](https://camo.qiitausercontent.com/7d484fccb2c28e8b992c4cfb85d045d9c7049a09/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d362e706e673f773d3533302673736c3d31)

# console.count

`console.count`ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯ã€æŒ‡å®šã—ãŸã‚³ãƒ¼ãƒ‰ãŒä½•å›å®Ÿè¡Œã•ã‚ŒãŸã®ã‹ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
function foo(x) {
  console.count(x);
}
foo("hello");
foo("world");
foo("hello");
```

ã“ã®ã‚ˆã†ã«ã€`foo(â€˜helloâ€™)`ãŒ2å›å®Ÿè¡Œã•ã‚ŒãŸã“ã¨ãŒç¢ºèªã§ãã¾ã™ã­ã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-7.png%3Fw%3D557%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=3434cb7840d835b2460a417a8295dced "image_tooltip")](https://camo.qiitausercontent.com/9f07915ecb007247652e0da8abe06d71256dbddb/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d372e706e673f773d3535372673736c3d31)

# console.clear

`console.clear`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãŒã‚¯ãƒªã‚¢ï¼ˆå‰Šé™¤ï¼‰ã•ã‚Œã¾ã™ã€‚ã‚‚ã—ã€ãƒ‡ãƒãƒƒã‚°ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒå¤šãã¦å¯¾è±¡ã®ã‚‚ã®ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã„å ´åˆã¯ä½¿ã£ã¦ã¿ã‚‹ã‚‚ã®ã‚ã‚Šã§ã™ã­ã€‚

```js
console.log("Hello world!");
console.clear();
console.log("This log message will appear after the console is cleared.");
```

ã“ã®ã‚ˆã†ã«ã€`clear`ã•ã‚ŒãŸã“ã¨ãŒè¡¨ç¤ºã•ã‚Œã¦ã€ãã®å¾Œã«æ–°ã—ãã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

[![alt_text](https://qiita-user-contents.imgix.net/https%3A%2F%2Fi0.wp.com%2Fasameshicode.com%2Fwp-content%2Fuploads%2F2023%2F02%2Fimage-8.png%3Fw%3D547%26ssl%3D1?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&s=2ade9cae94ea7164ff31577984aaa733 "image_tooltip")](https://camo.qiitausercontent.com/27c7ea24c79c5f838882ce6a62b27440bcee3edc/68747470733a2f2f69302e77702e636f6d2f6173616d65736869636f64652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032332f30322f696d6167652d382e706e673f773d3534372673736c3d31)

# ã¾ã¨ã‚

ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®ä½¿ã„æ–¹ã‚’ï¼™ã¤ç´¹ä»‹ã—ã¾ã—ãŸã€‚æ–°ã—ã„ã‚‚ã®ã‚’è¦šãˆã¦ã€ä»Šæ—¥ã‹ã‚‰ä½¿ãˆã‚‹ã‚‚ã®ã¯ã‚ã‚Šã¾ã—ãŸã‹ï¼Ÿãœã²ã€æ´»ç”¨ã—ã¦ã¿ã¦ãã ã•ã„ï¼

# æœ€å¾Œ

ã„ã¤ã‚‚ãŠä¸–è©±ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’æ¥½ã—ã‚“ã§ã€æ–°ã—ã„ã“ã¨ã‚’å­¦ã¹ãŸã‚‰å¬‰ã—ã„ã§ã™ã€‚

ä»Šåº¦ã®è¨˜äº‹ã§ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼ã“ã®è¨˜äº‹ãŒæ°—ã«å…¥ã£ãŸã‚‰ã€ç§ã‚’å¿œæ´ã™ã‚‹ãŸã‚ã«ã€ŒLIKEã€ã‚’æŠ¼ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

-----
> ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€[æ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«[ç°¡å˜ãªæ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã [æ—¥æœ¬èªã‚’å­¦ã¶](https://viblo.asia/s/-E1XVOWqNVMz)ã“ã¨ã§ã™ã€‚

# ãƒªã‚½ãƒ¼ã‚¹
* https://tuan200tokyo.blogspot.com/2023/02/blog138-consolelogconsole.html', '2023-02-09T08:34:49.000000Z', '2023-02-28T03:24:05.000000Z', '2023-02-09T08:32:14.000000Z'),
	('Blog#137: JavaScriptã§ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³', '0gdJzQXn4z5', '6', 'unlisted', 'https://images.viblo.asia/927346bb-36fa-47d9-a282-df05b4ae23b1.png', '

ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€æ—¥æœ¬èªãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«ç°¡å˜ãªæ—¥æœ¬èªã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã æ—¥æœ¬èªã‚’å­¦ã¶ã“ã¨ã§ã™ã€‚

ã“ã‚“ã«ã¡ã¯ã€ç§ã¯ãƒˆã‚¥ã‚¢ãƒ³ã¨ç”³ã—ã¾ã™ã€‚æ±äº¬ã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºè€…ã§ã™ã€‚
å°†æ¥ã®æœ‰ç”¨ã§é¢ç™½ã„è¨˜äº‹ã‚’è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç§ã®ãƒ–ãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

**ã“ã®è¨˜äº‹ã§ã¯ã€JavaScriptã§ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ä½•ã‹ã€ãªãœæœ‰ç”¨ãªã®ã‹ã‚’å­¦ã³ã¾ã™ã€‚**
ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ
ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ã‚’å¤‰æ›´ã›ãšã«ã€è¿½åŠ ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã§ã™ã€‚ã“ã‚Œã¯ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤–éƒ¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ©ãƒƒãƒ—ã—ã¦ã€ãã®æŒ¯ã‚‹èˆã„ã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚
ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿...', '![image.png](https://images.viblo.asia/927346bb-36fa-47d9-a282-df05b4ae23b1.png)

> ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€[æ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«[ç°¡å˜ãªæ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã [æ—¥æœ¬èªã‚’å­¦ã¶](https://viblo.asia/s/-E1XVOWqNVMz)ã“ã¨ã§ã™ã€‚
-----
ã“ã‚“ã«ã¡ã¯ã€ç§ã¯[ãƒˆã‚¥ã‚¢ãƒ³](https://tuan-portfolio.web.app/#/)ã¨ç”³ã—ã¾ã™ã€‚æ±äº¬ã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webé–‹ç™ºè€…ã§ã™ã€‚
å°†æ¥ã®æœ‰ç”¨ã§é¢ç™½ã„è¨˜äº‹ã‚’è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç§ã®ãƒ–ãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

_**ã“ã®è¨˜äº‹ã§ã¯ã€JavaScriptã§ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ä½•ã‹ã€ãªãœæœ‰ç”¨ãªã®ã‹ã‚’å­¦ã³ã¾ã™ã€‚**_
# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ
ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ã‚’å¤‰æ›´ã›ãšã«ã€è¿½åŠ ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã§ã™ã€‚ã“ã‚Œã¯ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤–éƒ¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ©ãƒƒãƒ—ã—ã¦ã€ãã®æŒ¯ã‚‹èˆã„ã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚
# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ãªãœæœ‰ç”¨ãªã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ã‚’å¤‰æ›´ã›ãšã«ã€ç°¡å˜ã«è¿½åŠ ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã§ãã‚‹ãŸã‚ã€æœ‰ç”¨ã§ã™ã€‚ç‰¹ã«ã€å®Ÿè£…ã™ã‚‹ã«ã¯å¤šãã®ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ãªæ©Ÿèƒ½ãŒã‚ã‚‹å ´åˆã«ç‰¹ã«æœ‰ç”¨ã§ã™ã€‚

# Javascriptã§ä¾‹

## ãƒ­ã‚®ãƒ³ã‚°ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼

ã“ã®ä¾‹ã§ã¯ã€é–¢æ•°ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã³ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚°ã«è¨˜éŒ²ã™ã‚‹ãƒ­ã‚®ãƒ³ã‚°ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```js
// Create the base function
function getData() {
  // Do something
}

// Create the LoggingDecorator
function LoggingDecorator(fn) {
  return function () {
    console.log(''Logging...'');
    fn();
  }
}

// Decorate the function
let decoratedFn = LoggingDecorator(getData);

// Call the decorated function
decoratedFn(); // Logs ''Logging...''
```

## ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼

ã“ã®ä¾‹ã§ã¯ã€é–¢æ•°ã®å‘¼ã³å‡ºã—ã®çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ã™ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚ã¾ãŸã€çµæœãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«æ—¢ã«å­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ©Ÿæ§‹ã‚’è¿½åŠ ã—ã€é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã“ã¨ãªããã®å€¤ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¾ã™ã€‚

```js
// Create the base function
function getData() {
  // Do something
}

// Create the cache
let cache = {};

// Create the CachingDecorator
function CachingDecorator(fn) {
  return function () {
    // Check if the result is in the cache
    if (cache[fn]) {
      return cache[fn];
    }

    // Call the function and store the result in the cache
    let result = fn();
    cache[fn] = result;
    return result;
  }
}

// Decorate the function
let decoratedFn = CachingDecorator(getData);

// Call the decorated function
decoratedFn();
```

## ã‚¹ãƒ­ãƒƒãƒˆãƒ«ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼

ã“ã®ä¾‹ã§ã¯ã€ã‚ã‚‹æ™‚é–“å†…ã«é–¢æ•°ã‚’1å›ã—ã‹å®Ÿè¡Œã—ãªã„ã‚ˆã†ã«åˆ¶é™ã™ã‚‹ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```js
// Create the base function
function getData() {
  // Do something
}

// Create the ThrottlingDecorator
function ThrottlingDecorator(fn, delay) {
  let lastCallTime;
  return function () {
    // Check if the function was called before
    if (lastCallTime && (Date.now() - lastCallTime) < delay) {
      return;
    }

    // Call the function and store the time
    lastCallTime = Date.now();
    fn();
  }
}

// Decorate the function
let decoratedFn = ThrottlingDecorator(getData, 500);

// Call the decorated function
decoratedFn();
```

# ã¾ã¨ã‚
ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ã€æ—¢å­˜ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ©Ÿèƒ½ã‚’æ‹¡å¼µã™ã‚‹ç°¡å˜ãªæ–¹æ³•ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ã¦ã€ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ æ©Ÿèƒ½ã‚’ç°¡å˜ã«è¿½åŠ ã™ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚

# æœ€å¾Œ

ã„ã¤ã‚‚ãŠä¸–è©±ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã‚’æ¥½ã—ã‚“ã§ã€æ–°ã—ã„ã“ã¨ã‚’å­¦ã¹ãŸã‚‰å¬‰ã—ã„ã§ã™ã€‚

ä»Šåº¦ã®è¨˜äº‹ã§ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼ã“ã®è¨˜äº‹ãŒæ°—ã«å…¥ã£ãŸã‚‰ã€ç§ã‚’å¿œæ´ã™ã‚‹ãŸã‚ã«ã€ŒLIKEã€ã‚’æŠ¼ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

-----
> ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€[æ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ãƒ¬ãƒ™ãƒ«ã‚’ä¸Šã’ã‚‹ã®ã‚’æ‰‹ä¼ã†ã“ã¨ã§ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é–¢é€£ã™ã‚‹æ¦‚å¿µã‚„çŸ¥è­˜ãªã¨ã‚’ç´¹ä»‹ã™ã‚‹ãŸã‚ã«[ç°¡å˜ãªæ—¥æœ¬èª](https://viblo.asia/s/-E1XVOWqNVMz)ã‚’ä½¿ã„ã¾ã™ã€‚ITã®çŸ¥è­˜ã«é–¢ã—ã¦ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§ã‚‚ã£ã¨ã‚ˆãèª¬æ˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®è¨˜äº‹ã®ä¸»ãªç›®æ¨™ã¯ã¾ã [æ—¥æœ¬èªã‚’å­¦ã¶](https://viblo.asia/s/-E1XVOWqNVMz)ã“ã¨ã§ã™ã€‚

# ãƒªã‚½ãƒ¼ã‚¹
* https://tuan200tokyo.blogspot.com/2023/02/blog137-javascript.html', '2023-02-09T07:27:55.000000Z', '2023-02-27T03:49:07.000000Z', '2023-02-09T07:27:50.000000Z'),
	('LuyÃªn thuyÃªn vá» ChatGPT...', 'obA466G04Kv', '7', 'unlisted', 'https://images.viblo.asia/0ced0e5c-8ff3-425b-8f63-de9790f2d330.jpg', 'ÄÃ¢y lÃ  gÃ³c nhÃ¬n cÃ¡ nhÃ¢n cá»§a mÃ¬nh. BÃ i nÃ y mÃ¬nh viáº¿t luyÃªn thuyÃªn nÃªn sáº½ dÃ i Ä‘Ã³, cáº§n cÃ¢n nháº¯c trÆ°á»›c khi Ä‘á»c Ä‘á»ƒ khÃ´ng buá»“n ngá»§ nhÃ©. Gáº¹t gÃ´.

1. Má»Ÿ Ä‘áº§u
NÃ o, dáº¡o gáº§n Ä‘Ã¢y cÃ³ gÃ¬ hot nhá»‰? ChatGPT everywhere.

Tháº­t sá»± lÃ  khÃ´ng chá»‰ cÃ³ Facebook, mÃ  cÃ¡c trang bÃ¡o lá»›n, cÃ¡c blog cÅ©ng Ä‘á»u Ä‘Æ°a tin vá» con chatbot Ä‘Æ°á»£c vÃ­ nhÆ° "SiÃªu AI" nÃ y váº­y, lÆ°á»›t má»™t tÃ­ lÃ  tháº¥y, lÆ°á»›t má»™t tÃ­ lÃ  tháº¥y. VÃ  theo quan Ä‘iá»ƒm cá»§a mÃ¬n...', 'ÄÃ¢y lÃ  gÃ³c nhÃ¬n cÃ¡ nhÃ¢n cá»§a mÃ¬nh. BÃ i nÃ y mÃ¬nh viáº¿t luyÃªn thuyÃªn nÃªn sáº½ dÃ i Ä‘Ã³, cáº§n cÃ¢n nháº¯c trÆ°á»›c khi Ä‘á»c Ä‘á»ƒ khÃ´ng buá»“n ngá»§ nhÃ©. Gáº¹t gÃ´.

# 1. Má»Ÿ Ä‘áº§u
NÃ o, dáº¡o gáº§n Ä‘Ã¢y cÃ³ gÃ¬ hot nhá»‰? ChatGPT everywhere.

![](https://images.viblo.asia/fd0f9678-b045-499f-af5d-a95a16a59cd8.jpeg)

Tháº­t sá»± lÃ  khÃ´ng chá»‰ cÃ³ Facebook, mÃ  cÃ¡c trang bÃ¡o lá»›n, cÃ¡c blog cÅ©ng Ä‘á»u Ä‘Æ°a tin vá» con chatbot Ä‘Æ°á»£c vÃ­ nhÆ° "SiÃªu AI" nÃ y váº­y, lÆ°á»›t má»™t tÃ­ lÃ  tháº¥y, lÆ°á»›t má»™t tÃ­ lÃ  tháº¥y. VÃ  theo quan Ä‘iá»ƒm cá»§a mÃ¬nh, thÃ¬ cÃ³ láº½ truyá»n thÃ´ng Ä‘ang thá»•i phá»“ng hÆ¡i quÃ¡ vá» con chatbot nÃ y rá»“i thÃ¬ pháº£i ğŸ¤”ğŸ¤”ğŸ¤” Thá»±c ra cÆ¡ cháº¿ lÃµi (mÃ  cÅ©ng lÃ  ná»n táº£ng cho cÃ¡c **Large Language Model (LLM)**) Ä‘Æ°á»£c cÃ´ng bá»‘ tá»« lÃ¢u rá»“i. Tháº¿ nÃªn, bÃ i viáº¿t hÃ´m nay thÃ¬ mÃ¬nh sáº½ táº£n máº¡n má»™t chÃºt vá» con chatbot nÃ y, cÅ©ng nhÆ° chia sáº» quan Ä‘iá»ƒm cá»§a mÃ¬nh vá» nÃ³. Oke gáº¹t gÃ´.

# 2. SiÃªu AI (Artificial Super-Intelligence) lÃ  gÃ¬?

MÃ¬nh tháº¥y má»™t sá»‘ tá» bÃ¡o tung hÃ´ ChatGPT lÃ  má»™t **SiÃªu AI**, váº­y **SiÃªu AI** lÃ  gÃ¬, vÃ  nÃ³ cÃ³ Ä‘Ãºng nÃ³ lÃ  má»™t SiÃªu AI khÃ´ng nhá»‰?

TrÆ°á»›c tiÃªn, náº¿u dá»±a vÃ o **kháº£ nÄƒng cá»§a AI** Ä‘á»ƒ phÃ¢n loáº¡i thÃ¬ chÃºng ta cÃ³ thá»ƒ chia AI lÃ m 3 loáº¡i chÃ­nh:
* **Narrow AI** (hay cÃ²n gá»i lÃ  **Weak AI**, viáº¿t táº¯t lÃ  ANI): lÃ  nhá»¯ng AI cÃ³ kháº£ nÄƒng thá»±c hiá»‡n **má»™t** tÃ¡c vá»¥ nháº¥t Ä‘á»‹nh. CÃ¡c mÃ´ hÃ¬nh AI thuá»™c dáº¡ng nÃ y sáº½ mÃ´ phá»ng láº¡i má»™t hÃ nh vi nÃ o Ä‘Ã³ cá»§a con ngÆ°á»i thÃ´ng qua nhá»¯ng model Ä‘Æ°á»£c thiáº¿t káº¿ sáºµn vÃ  há»c tá»« má»™t táº­p dá»¯ liá»‡u to. NgÃ y nay, pháº§n lá»›n cÃ¡c á»©ng dá»¥ng AI Ä‘á»u thuá»™c dáº¡ng nÃ y, tá»« cÃ¡c *há»‡ thá»‘ng gá»£i Ã½* (recommendation system) tá»›i cÃ¡c *trá»£ lÃ­ áº£o* (nhÆ° Siri, Alexa, Google Assistant, v.v.) vÃ  cÃ²n nhiá»u thá»© khÃ¡c ná»¯a. Nhá»¯ng AI nÃ y hiá»‡n nay váº«n náº±m trong táº§m kiá»ƒm soÃ¡t cá»§a con ngÆ°á»i, tá»©c lÃ  chÃºng váº«n Ä‘ang thá»±c hiá»‡n nhá»¯ng tÃ¡c vá»¥ cá»¥ thá»ƒ mÃ  con ngÆ°á»i Ä‘áº·t ra, chÆ°a cÃ³ **nháº­n thá»©c** sÃ¢u vÃ  chÆ°a cÃ³ kháº£ nÄƒng thá»±c hiá»‡n Ä‘a tÃ¡c vá»¥ nhÆ° má»™t con ngÆ°á»i.

![](https://images.viblo.asia/0ced0e5c-8ff3-425b-8f63-de9790f2d330.jpg)

* **General AI** (hay cÃ²n gá»i lÃ  **Strong AI**, viáº¿t táº¯t lÃ  AGI): lÃ  nhá»¯ng AI cÃ³ kháº£ nÄƒng thá»±c hiá»‡n cÃ¹ng lÃºc **nhiá»u** tÃ¡c vá»¥ nháº¥t Ä‘á»‹nh (nhÆ° con ngÆ°á»i váº­y Ä‘Ã³). NgoÃ i ra, khi AI Ä‘Ã£ Ä‘áº¡t tá»›i "cáº£nh giá»›i" nÃ y thÃ¬ AI báº¯t Ä‘áº§u cÃ³ **nháº­n thá»©c** vá» nhá»¯ng gÃ¬ nÃ³ Ä‘ang lÃ m, cÅ©ng nhÆ° báº¯t Ä‘áº§u cÃ³ nhá»¯ng hÃ nh vi, biá»ƒu hiá»‡n giá»‘ng con ngÆ°á»i (vÃ­ dá»¥ nhÆ° cÃ³ kháº£ nÄƒng tá»± há»c, phÃ¢n tÃ­ch lá»±a chá»n, trao Ä‘á»•i, Ä‘Æ°a ra Ã½ kiáº¿n, v.v.). NÃ³i chung lÃ  Ä‘áº¿n má»©c nÃ y thÃ¬ AI thá»±c sá»± "thÃ´ng minh" rá»“i Ä‘áº¥y. Hiá»‡n nay, "cÃ´ng dÃ¢n robot" Ä‘áº§u tiÃªn trÃªn tháº¿ giá»›i Sophia Ä‘Ã£ tiá»‡m cáº­n kháº£ nÄƒng nÃ y (táº¥t nhiÃªn chÆ°a Ä‘Æ°á»£c trÆ¡n tru mÆ°á»£t mÃ  nhÆ° con ngÆ°á»i rá»“i).

![](https://images.viblo.asia/8dcf25ea-3ded-4c88-9216-c0232c2bee7f.png)

* **Super AI** (viáº¿t táº¯t lÃ  ASI): lÃ  nhá»¯ng AI mang tÃ­nh **siÃªu viá»‡t**, tá»©c lÃ  kháº£ nÄƒng thá»±c hiá»‡n Ä‘a tÃ¡c vá»¥ cá»§a chÃºng vÆ°á»£t trá»™i hÆ¡n cáº£ con ngÆ°á»i nhá» vÃ o nguá»“n dá»¯ liá»‡u khá»•ng lá»“ nÃ³ thu tháº­p Ä‘Æ°á»£c, cÅ©ng nhÆ° nhá»¯ng tiáº¿n bá»™ vá» khoa há»c cÃ´ng nghá»‡. NgoÃ i ra, kháº£ nÄƒng tá»± há»c, biá»ƒu diá»…n cáº£m xÃºc cÅ©ng nhÆ° suy nghÄ©, kháº£ nÄƒng quyáº¿t Ä‘á»‹nh, blablabla cá»§a chÃºng cÅ©ng trá»Ÿ nÃªn vÆ°á»£t trá»™i, cÃ³ thá»ƒ vÆ°á»£t ra ngoÃ i táº§m kiá»ƒm soÃ¡t cá»§a con ngÆ°á»i (Con Ultron trong phim Avengers lÃ  má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a thá»ƒ loáº¡i nÃ y).

![](https://images.viblo.asia/cb8cdb8e-819a-43bd-800c-1812b93b244b.jpeg)

Tá»« nhá»¯ng Ä‘iá»u trÃªn, theo mÃ¬nh thÃ¬ hiá»‡n nay, má»›i chá»‰ cÃ³ "cÃ´ng dÃ¢n robot" Sophia lÃ  Ä‘ang tiá»‡m cáº­n má»©c **General AI** thÃ´i, cÃ²n cáº£ má»™t quÃ¡ trÃ¬nh dÃ i tháº­t dÃ i ná»¯a má»›i Ä‘áº¡t tá»›i cáº£nh giá»›i **siÃªu AI**. ChatGPT thÃ¬ cÅ©ng ghÃª Ä‘áº¥y, nhÆ°ng váº«n chÆ°a Ä‘áº¡t tá»›i cáº£nh giá»›i "General AI" Ä‘Ã¢u. Náº¿u ChatGPT Ä‘Æ°á»£c gá»i lÃ  **siÃªu AI** thÃ¬ nhá»¯ng AI Ä‘áº¡t tá»›i cáº£nh giá»›i **General AI**, hay xa hÆ¡n lÃ  **super AI** thÃ¬ sáº½ Ä‘Æ°á»£c gá»i lÃ  gÃ¬ nhá»‰ ğŸ¤”ğŸ¤”ğŸ¤”, siÃªu AI pro max ultra Ã ?

VÃ  thá»±c ra, cÃ¡i "gá»‘c" cá»§a ChatGPT lÃ  má»™t cÆ¡ cháº¿ Ä‘Ã£ Ä‘Æ°á»£c cÃ´ng bá»‘ tá»« nÄƒm 2015 rá»“i. CÆ¡ cháº¿ Ä‘Ã³ lÃ ......
# 3. Attention, cÆ¡ cháº¿ lÃµi cá»§a cÃ¡c mÃ´ hÃ¬nh LLM, lÃ  gÃ¬?

## 3.1. Attention

Attention lÃ  má»™t bÃ i hÃ¡t ná»•i tiáº¿ng cá»§a ca sÄ© Charlie Puth. Xong ğŸ¤£

ÄÃ¹a thÃ´i, Attention (trong Deep Learning) lÃ  má»™t cÆ¡ cháº¿ (mechanism) Ä‘Æ°á»£c ra Ä‘á»i vÃ o nÄƒm 2015 bá»Ÿi [**Bahdanau**](https://arxiv.org/pdf/1409.0473.pdf). CÆ¡ cháº¿ nÃ y Ä‘Æ°á»£c giá»›i thiá»‡u qua ráº¥t nhiá»u bÃ i blog rá»“i, váº­y nÃªn mÃ¬nh chá»‰ nÃ³i láº¡i sÆ¡ lÆ°á»£c má»™t chÃºt thÃ´i nhÃ©.

TrÆ°á»›c khi cÆ¡ cháº¿ Attention ra Ä‘á»i, cÃ¡c mÃ´ hÃ¬nh **seq2seq** vá»›i 2 khá»‘i **encoder** vÃ  **decoder** (táº¡o thÃ nh tá»« cÃ¡c lá»›p RNN) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thá»±c hiá»‡n bÃ i toÃ¡n Neural Machine Translation (NMT). ÄÃ£ lÃ  "dá»‹ch" thÃ¬ pháº£i mÃ£ hÃ³a má»t chuá»—i tá»« ngÃ´n ngá»¯ nÃ y qua ngÃ´n ngá»¯ khÃ¡c. VÃ¬ váº­y:
* **Encoder** sáº½ cÃ³ nhiá»‡m vá»¥ xá»­ lÃ­ thÃ´ng tin Ä‘áº§u vÃ o vÃ  mÃ£ hÃ³a nhá»¯ng thÃ´ng tin nÃ y thÃ nh nhá»¯ng *feature vectors*. Nhá»¯ng feature vectors nÃ y sáº½ trá»Ÿ thÃ nh Ä‘áº§u vÃ o cá»§a táº§ng Decoder.
* **Decoder** sáº½ cÃ³ nhiá»‡m vá»¥ dá»±a vÃ o Ä‘áº§u ra tá»« táº§ng Encoder Ä‘á»ƒ tÃ¬m ra phÃ¢n phá»‘i xÃ¡c suáº¥t tá»« cÃ¡c feature vectors, tá»« Ä‘Ã³ tÃ¬m ra label tÆ°Æ¡ng á»©ng. NÃ³i nÃ´m na lÃ  Ã¡nh xáº¡ dá»¯ liá»‡u tá»« miá»n nÃ y qua miá»n khÃ¡c.

Sá»­ dá»¥ng RNN sáº½ ráº¥t hiá»‡u quáº£ Ä‘á»‘i vá»›i nhá»¯ng cÃ¢u vÄƒn ngáº¯n, tuy nhiÃªn, vá»›i nhá»¯ng cÃ¢u vÄƒn dÃ i thÃ¬ sá»­ dá»¥ng RNN sáº½ dá»… bá»‹ hiá»‡n tÆ°á»£ng *vanishing gradient*, chÆ°a ká»ƒ cÃ²n cÃ³ thá»ƒ bá»‹ bá» quÃªn thÃ´ng tin nÃ o Ä‘Ã³. LÃºc Ä‘Ã³ thÃ¬ LSTM láº¡i cÃ³ thá»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» nÃ y. Tuy nhiÃªn thÃ¬ LSTM láº¡i tá»‘n nhiá»u thá»i gian Ä‘á»ƒ huáº¥n luyá»‡n vÃ  khÃ´ng thá»ƒ thá»±c hiá»‡n *transfer learning* Ä‘Æ°á»£c. VÃ¬ váº­y, cÆ¡ cháº¿ *Attention* ra Ä‘á»i nhÆ° lÃ  "cá»©u tinh" cá»§a bÃ i toÃ¡n nÃ y váº­y.

ÄÃºng nhÆ° tÃªn gá»i , cÆ¡ cháº¿ nÃ y sáº½ "táº­p trung" toÃ n bá»™ thÃ´ng tin tá»« táº§ng Encoder vá» má»™t má»‘i Ä‘á»ƒ taá» ra má»™t *context vector* thay vÃ¬ chá»‰ sá»­ dá»¥ng vector tráº¡ng thÃ¡i áº©n cá»§a state cuá»‘i cÃ¹ng Ä‘á»ƒ táº¡o ra vector biá»ƒu diá»…n cho decoder. Äiá»u nÃ y sáº½ kháº¯c phá»¥c cÃ¡c nhÆ°á»£c Ä‘iá»ƒm cá»§a RNN, bao gá»“m viá»‡c bá» sÃ³t thÃ´ng tin (vÃ¬ khi encode má»™t lÆ°á»£ng lá»›n thÃ´ng tin trong má»™t vector biá»ƒu diá»…n nhá» thÃ¬ cháº¯c cháº¯n sáº½ cÃ³ sá»± bá» sÃ³t thÃ´ng tin rá»“i). Chi tiáº¿t thuáº­t toÃ¡n thÃ¬ má»i ngÆ°á»i cÃ³ thá»ƒ tÃ¬m Ä‘á»c trong paper gá»‘c nhÃ©.

![](https://images.viblo.asia/96b5dfd1-546f-404b-ac10-a23e96e04b04.png)

<div align="center">
           CÆ¡ cháº¿ Attention
</div>


## 3.2. Transformer, káº» káº¿ thá»«a vÄ© Ä‘áº¡i

Sau sá»± ra Ä‘á»i cá»§a cÆ¡ cháº¿ Attention, thÃ¬ má»™t model Ä‘Ã£ ra Ä‘á»i Ä‘Ã£ táº¡o ra bÆ°á»›c ngoáº·t biáº¿n Ä‘á»•i tháº¿ giá»›i NLP. ÄÃ³ chÃ­nh lÃ  **Transformer**, Ä‘Æ°á»£c giá»›i thiá»‡u trong bÃ i bÃ¡o vá»›i cÃ¡i tÃªn huyá»n thoáº¡i: [**Attention is all you need**](https://papers.nips.cc/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf). Nhá»¯ng Ä‘áº·c Ä‘iá»ƒm sau Ä‘Ã£ giÃºp Transformer "má»™t bÆ°á»›c lÃªn mÃ¢y" vÃ  trá»Ÿ thÃ nh kiáº¿n trÃºc Ä‘Æ°á»£c ráº¥t nhiá»u "háº­u bá»‘i" Ã¡p dá»¥ng (trong Ä‘Ã³ cÃ³ cáº£ nhÃ¢n váº­t chÃ­nh cá»§a bÃ i nÃ y):
* Thá»© nháº¥t Ä‘Ã³ lÃ  á»©ng dá»¥ng thÃ nh cÃ´ng Attention, cá»¥ thá»ƒ lÃ  cÆ¡ cháº¿ *self-attention*. Theo Ä‘Ã³, self-attention lÃ  cÆ¡ cháº¿ giÃºp cho encoder cÃ³ thá»ƒ "nhÃ¬n" Ä‘Æ°á»£c cÃ¡c tá»« xung quanh trong khi Ä‘ang mÃ£ hoÃ¡ má»™t tá»« cá»¥ thá»ƒ, do Ä‘Ã³, cÃ³ thá»ƒ hiá»ƒu Ä‘Æ°á»£c sá»± liÃªn quan giá»¯a cÃ¡c tá»« trong 1 cÃ¢u báº¥t ká»ƒ khoáº£ng cÃ¡ch cÃ³ xa tá»›i Ä‘Ã¢u.

![](https://images.viblo.asia/bc085e0a-1042-4e1c-8888-f53f2bdfeba2.png)

<div align="center">
            Minh hoáº¡ cÆ¡ cháº¿ Self-Attention
</div>

* Thá»© hai Ä‘Ã³ lÃ  sá»± káº¿t há»£p giá»¯a Æ°u Ä‘iáº»m cá»§a CNN vÃ  Æ°u Ä‘iá»ƒm cá»§a RNN, Ä‘Ã³ lÃ  tÃ­nh toÃ¡n *song song* báº±ng cÃ¡ch há»c chuá»—i há»“i tiáº¿p vá»›i cÆ¡ cháº¿ táº­p trung, Ä‘á»“ng thá»i mÃ£ hoÃ¡ vá»‹ trÃ­ cá»§a tá»«ng pháº§n tá»­ trong chuá»—i (thay vÃ¬ xá»­ lÃ­ cÃ¡c pháº§n tá»­ trong chuá»—i má»™t cÃ¡ch tuáº§n tá»±). Äiá»u nÃ y giÃºp Transformer cÃ³ thá»ƒ táº­n dá»¥ng Ä‘Æ°á»£c kháº£ nÄƒng cá»§a GPU vÃ  giÃºp tiáº¿t kiá»‡m thá»i gian huáº¥n luyá»‡n hÆ¡n.

Kiáº¿n trÃºc cÅ©ng nhÆ° cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a mÃ´ hÃ¬nh nÃ y thÃ¬ má»i ngÆ°á»i cÃ³ thá»ƒ tham kháº£o láº¡i táº¡i paper gá»‘c, hoáº·c cÃ¡c blog khÃ¡c nhÃ©.

![](https://images.viblo.asia/5ed0b3c1-da79-4472-a107-8ff8029500fa.png)

<div align="center">
            Má»™t táº§ng Transformer
</div>


CÃ³ thá»ƒ nÃ³i, cÆ¡ cháº¿ Attention vÃ  kiáº¿n trÃºc Transformer Ä‘Ã£ má»Ÿ ra má»™t thá»i Ä‘áº¡i má»›i cho cÃ¡c mÃ´ hÃ¬nh LLM. Má»™t trong sá»‘ Ä‘Ã³ cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n GPT-3, mÃ´ hÃ¬nh Ä‘Æ°á»£c coi lÃ  "bá»‘" cá»§a ChatGPT. GPT-3 lÃ  tháº¿ há»‡ thá»© 3 cá»§a "dÃ²ng há»" GPT, Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi OpenAI. GPT-3 á»©ng dá»¥ng cÆ¡ cháº¿ Attention Ä‘á»ƒ táº¡o ra mÃ´ hÃ¬nh cÃ³ kháº£ nÄƒng sinh ngÃ´n ngá»¯ giá»‘ng nhÆ° ngÆ°á»i tháº­t. NguyÃªn lÃ­ hoáº¡t Ä‘á»™ng cá»§a GPT vÃ  ChatGPT thÃ¬ Ä‘á»ƒ bÃ i khÃ¡c nhÃ©.

NhÃ¬n chung, vá» máº·t kÄ© thuáº­t, cÃ³ thá»ƒ nÃ³i ChatGPT khÃ´ng pháº£i lÃ  má»™t kiáº¿n trÃºc Ä‘á»§ má»›i Ä‘á»ƒ táº¡o bÆ°á»›c ngoáº·t hay tiáº¿ng vang lá»›n nhÆ° "Ã´ng tá»•" Transformer Ä‘Ã£ tá»«ng. Váº­y táº¡i sao con Chatbot nÃ y láº¡i hot Ä‘áº¿n váº­y?
# 4. Táº¡i sao ChatGPT láº¡i hot hÃ²n há»t Ä‘áº¿n váº­y?

## 4.1. Sao láº¡i hot váº­y nhá»‰?

Theo gÃ³c nhÃ¬n cá»§a mÃ¬nh thÃ¬ cÃ³ nhá»¯ng lÃ­ do sau:
* Thá»© nháº¥t, nÃ³ Ä‘Æ°á»£c "thá»«a hÆ°á»Ÿng" nhá»¯ng tinh hoa cá»§a Ã´ng bá»‘ nÃ³, lÃ  GPT-3. Viá»‡c Ä‘Æ°á»£c thá»«a hÆ°á»Ÿng tá»« má»™t model cÃ³ tá»›i 175 tá»‰ tham sá»‘ Ä‘Ã£ Ä‘em láº¡i cho ChatGPT má»™t lá»£i tháº¿ Ä‘Ã¡ng ká»ƒ trong kháº£ nÄƒng sinh ngÃ´n ngá»¯ Ä‘á»ƒ giao tiáº¿p nhÆ° ngÆ°á»i tháº­t.
* Thá»© hai, Ä‘Ã³ lÃ  viá»‡c OpenAI Ä‘Ã£ "liá»u" khi thÆ°Æ¡ng máº¡i hoÃ¡ con chatbot mÃ  ngay cáº£ chÃ­nh nhá»¯ng ngÆ°á»i trong cuá»™c coi lÃ  má»™t sáº£n pháº©m "tÃ¬nh tháº¿" Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c khÃ³ khÄƒn. Táº¡i sao láº¡i gá»i lÃ  "liá»u"? VÃ¬ cÃ¡c Ã´ng lá»›n, Ä‘áº·c biá»‡t lÃ  Google, nÆ¡i khai sinh ra kiáº¿n trÃºc Transformers cÅ©ng Ä‘Ã£ cÃ³ má»™t con chatbot cho riÃªng mÃ¬nh. Tuy nhiÃªn, há» Ä‘Ã£ khÃ´ng cÃ´ng bá»‘ vÃ¬ lo ngáº¡i váº¥n Ä‘á» ná»™i dung Ä‘á»™c háº¡i, hoáº·c Ä‘á»™ chÃ­nh xÃ¡c cá»§a thÃ´ng tin do con chatbot cá»§a há» cÃ³ thá»ƒ sinh ra. CÃ¡i nÃ y giá»‘ng nhÆ° lÃ  "Ã´ng khÃ´ng lÃ m thÃ¬ Ä‘á»ƒ tÃ´i" váº­y Ä‘Ã³.
* Thá»© ba, Ä‘Ã³ lÃ  do yáº¿u tá»‘ truyá»n thÃ´ng. Má»i ngÆ°á»i cÃ³ cÃ´ng nháº­n lÃ  nhá»¯ng ná»™i dung vá» ChatGPT Ä‘ang xuáº¥t hiá»‡n dÃ y Ä‘áº·c trÃªn cÃ¡c trang bÃ¡o khÃ´ng? VÃ  tá»« lÃºc ChatGPT trá»Ÿ nÃªn ná»•i tiáº¿ng thÃ¬ hÃ ng loáº¡t meme Ä‘Æ°á»£c ra Ä‘á»i, lÃ m mÃ¬nh cÅ©ng khÃ´ng biáº¿t Ä‘Ã¢u lÃ  Ä‘oáº¡n chat tháº­t, Ä‘Ã¢u lÃ  sáº£n pháº©m cá»§a Photoshop ná»¯a. Tháº¿ nÃªn, tÃ² mÃ² áº¯t sáº½ pháº£i tÃ¬m hiá»ƒu, vÃ  vÃ´ hÃ¬nh chung Ä‘Ã£ lÃ m cho chatbot nÃ y trá»Ÿ nÃªn viral hÆ¡n thÃ´i.

**Update**: NgÃ y 06/02/2023 thÃ¬ Google Ä‘Ã£ cÃ´ng bá»‘, chatbot **Bard** cá»§a há» (Ä‘Æ°á»£c "thá»«a hÆ°á»Ÿng" tá»« LaMDA, cÅ©ng lÃ  má»™t LLM do Google xÃ¢y dá»±ng nÃªn) Ä‘ang trong quÃ¡ trÃ¬nh thá»­ nghiá»‡m vÃ  Ä‘Ã¡nh giÃ¡, sáº¯p tá»›i sáº½ Ä‘Æ°á»£c cÃ´ng bá»‘ rá»™ng rÃ£i tá»›i ngÆ°á»i dÃ¹ng. Äá»“ng thá»i, Baidu cÅ©ng Ä‘Ã£ cÃ´ng bá»‘ káº¿ hoáº¡ch phÃ¡t triá»ƒn chatbot cá»§a riÃªng há» mang tÃªn **Ernie Bot**. ChÃ , Ä‘áº¡i chiáº¿n chatbot sáº¯p bÃ¹ng ná»• rá»“i Ä‘Ã¢y... Tháº¿ lÃ  AI ngÃ y cÃ ng Ä‘Æ°á»£c phá»• biáº¿n má»™t cÃ¡ch rÃ´ngj rÃ£i tá»›i má»i ngÆ°á»i rá»“i. NhÆ°ng......

![](https://images.viblo.asia/c9627cb8-04fb-4072-8429-46a9c3262b82.png)

<div align="center">
            Google sáº¯p cÃ´ng bá»‘ Bard, chatbot Ä‘á»‘i trá»ng vá»›i ChatGPT
</div>


## 4.2. ChatGPT vÃ  Google Search

Má»™t khÃ­a cáº¡nh khÃ¡c mÃ  mÃ¬nh muá»‘n chia sáº» quan Ä‘iá»ƒm, Ä‘Ã³ lÃ  viá»‡c nhiá»u ngÆ°á»i coi ChatGPT lÃ  cÃ´ng cá»¥ thay tháº¿ Google Search. Thá»«a nháº­n Ä‘i, báº¡n cÃ³ cáº£m tháº¥y kÃ­ch thÃ­ch khi thÃ´ng tin chÃºng ta tÃ¬m kiáº¿m Ä‘Æ°á»£c "tráº£ lá»i" ngay tá»©c kháº¯c, vÃ  Ä‘áº¿n tá»« má»™t con chatbot cÃ³ kháº£ nÄƒng nÃ³i chuyá»‡n má»™t cÃ¡ch khÃ¡ mÆ°á»£t mÃ  nhÆ° má»™t ngÆ°á»i báº¡n khÃ´ng? (ÄÃºng nháº­n, sai cÃ£i nÃ o ğŸ¤£).

Tuy nhiÃªn cáº§n pháº£i lÃ m rÃµ, lÃ  Google Search sáº½ giÃºp chÃºng ta *tá»± chá»n lá»c thÃ´ng tin* khi chÃºng ta tÃ¬m hiá»ƒu vá» cÃ¡i gÃ¬ Ä‘Ã³. CÃ²n khi chÃºng ta sá»­ dá»¥ng ChatGPT Ä‘á»ƒ giáº£i Ä‘Ã¡p tháº¯c máº¯c, chÃºng ta thÆ°á»ng sáº½ cÃ³ xu hÆ°á»›ng Ã­t khi kiá»ƒm tra láº¡i thÃ´ng tin vÃ¬ chÃºng ta Ä‘Ã£ cÃ³ má»™t niá»m tin mÃ£nh liá»‡t, ráº±ng "AI nÃ y luÃ´n Ä‘Ãºng" vÃ  viá»‡c má»™t con chatbot cÃ³ kháº£ nÄƒng trÃ² chuyá»‡n nhÆ° ngÆ°á»i bÃ¬nh thÆ°á»ng cung cáº¥p thÃ´ng tin má»™t cÃ¡ch trá»±c tiáº¿p sáº½ lÃ m chÃºng ta bá»‹ "lÆ°á»i" Ä‘i Ä‘áº¥y.

Äiá»u nÃ y nguy hiá»ƒm nhÃ©, vÃ¬ chÃ­nh nhá»¯ng nhÃ  phÃ¡t triá»ƒn cÅ©ng khuyáº¿n cÃ¡o ráº±ng thÃ´ng tin do ChatGPT Ä‘Æ°a ra cÃ³ thá»ƒ sai, vÃ  khÃ´ng nÃªn quÃ¡ phá»¥ thuá»™c vÃ o nÃ³, Ä‘áº·c biá»‡t lÃ  khi hiá»‡n nay cÃ³ ráº¥t nhiá»u báº¡n há»c sinh, sinh viÃªn sá»­ dá»¥ng cÃ´ng cá»¥ nÃ y Ä‘á»ƒ gian láº­n trong cÃ¡c bÃ i kiá»ƒm tra, khÃ³a luáº­n, v.v.

![](https://images.viblo.asia/a9f081aa-6834-488a-a511-b86db145b931.png)


## 4.3 Äiá»ƒm yáº¿u cá»§a ChatGPT

Ai cÅ©ng biáº¿t vá» Ä‘iá»ƒm máº¡nh rá»“i, tháº¿ bÃ¢y giá» nÃ³i vá» Ä‘iá»ƒm yáº¿u cá»§a chatbot nÃ y nhÃ©.

Äáº§u tiÃªn Ä‘Ã³ lÃ  viá»‡c chatbot nÃ y cÃ³ thá»ƒ cung cáº¥p thÃ´ng tin sai sá»± tháº­t. BÃ  Mira Murati, CTO cá»§a OpenAI, "ná»¯ tÆ°á»›ng" Ä‘á»©ng sau thÃ nh cÃ´ng cá»§a ChatGPT Ä‘Ã£ thá»«a nháº­n Ä‘iá»u nÃ y. Theo Ä‘Ã³, vÃ¬ dá»±a trÃªn cÃ´ng nghá»‡ RLHF (Há»c tÄƒng cÆ°á»ng dá»±a theo pháº£n há»“i cá»§a ngÆ°á»i dÃ¹ng) mÃ  ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cung cáº¥p thÃ´ng tin sai lá»‡ch cho chatbot, khiáº¿n cho chatbot cÃ³ thá»ƒ há»c theo.

Thá»© hai, vá»‘n dÄ© ChatGPT váº«n chá»‰ lÃ  má»™t **Narrow AI** nhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, viá»‡c cáº­p nháº­t thÃ´ng tin theo thá»i gian thá»±c Ä‘á»ƒ huáº¥n luyá»‡n mÃ´ hÃ¬nh lÃ  má»™t trá»Ÿ ngáº¡i lá»›n. Theo Ä‘Ã³, nguá»“n dá»¯ liá»‡u dÃ¹ng Ä‘á»ƒ huáº¥n luyá»‡n chatbot nÃ y má»›i Ä‘Æ°á»£c cáº­p nháº­t Ä‘áº¿n nÄƒm 2021, do Ä‘Ã³, náº¿u báº¡n há»i thÃ´ng tin vá» chiáº¿c Samsung Galaxy S23 thÃ¬ chÆ°a cháº¯c nÃ³ Ä‘Ã£ tráº£ lá»i Ä‘Ãºng Ä‘Ã¢u.

Thá»© ba, Ä‘Ã³ lÃ  váº¥n Ä‘á» báº£o máº­t thÃ´ng tin. CÃ¡c doanh nghiá»‡p muá»‘n dÃ¹ng ChatGPT thÃ¬ pháº£i cung cáº¥p thÃ´ng tin cho chatbot nÃ y (váº«n lÃ  RLHF), váº­y nÃªn, cháº³ng ai muá»‘n thÃ´ng tin nháº¡y cáº£m cá»§a cÃ´ng ti mÃ¬nh bá»‹ báº¡i lá»™ cho toÃ n tháº¿ giá»›i biáº¿t cáº£.

VÃ  cÃ²n hÃ ng loáº¡t nhá»¯ng Ä‘iá»ƒm yáº¿u khÃ¡c, vÃ¬ ChatGPT hiá»‡n táº¡i váº«n chÆ°a cÃ³ kháº£ nÄƒng Ä‘á»™c láº­p suy nghÄ© nhÆ° nhiá»u ngÆ°á»i váº«n tÆ°á»Ÿng.

![](https://images.viblo.asia/eec00dfb-9e61-473d-b0dd-d73fcb07086e.png)

<div align="center">
            áº¢nh láº¥y tá»« blog cá»§a OpenAI (https://openai.com/blog/chatgpt/)
</div>

# 5. Káº¿t luáº­n

NÃ³i nhiá»u nÃ³i dÃ i mÃ£i má»›i Ä‘áº¿n káº¿t luáº­n ğŸ¤£ TÃ­nh mÃ¬nh thÃ­ch nÃ³i dÃ i nÃªn viáº¿t cÅ©ng dÃ i luÃ´n.

Äá»‘i vá»›i mÃ¬nh, má»™t ká»¹ sÆ° AI, viá»‡c AI Ä‘Æ°á»£c phá»• biáº¿n rá»™ng rÃ£i tá»›i ngÆ°á»i dÃ¹ng lÃ  má»™t Ä‘iá»u tá»‘t, sáº½ giÃºp cho má»i ngÆ°á»i cÃ³ thá»ƒ á»©ng dá»¥ng nhá»¯ng lá»£i Ã­ch cá»§a AI vÃ o trong cÃ´ng viá»‡c háº±ng ngÃ y. Tuy nhiÃªn cÃ³ nhá»¯ng Ä‘iá»u mÃ¬nh tháº¥y khÃ´ng á»•n:
* Thá»© nháº¥t lÃ  truyá»n thÃ´ng Ä‘ang thá»•i phá»“ng vá» nhá»¯ng gÃ¬ ChatGPT Ä‘ang lÃ m Ä‘Æ°á»£c.
* Nhiá»u ngÆ°á»i láº¡i Ä‘ang phá»¥ thuá»™c vÃ o con chatbot nÃ y, cÅ©ng nhÆ° cÃ³ nhiá»u ngÆ°á»i lá»£i dá»¥ng con chatbot nÃ y Ä‘á»ƒ lÃ m nhÆ°ng viá»‡c sai trÃ¡i. VÃ¬ váº­y, cáº§n pháº£i cÃ³ cÃ¡i nhÃ¬n Ä‘Ãºng Ä‘áº¯n vá» nÃ³, cÅ©ng nhÆ° cÃ¡c mÃ´ hÃ¬nh, á»©ng dá»¥ng AI nÃ³i chung Ä‘á»ƒ chÃºng ta sá»­ dá»¥ng nÃ³ má»™t cÃ¡ch cÃ³ Ã­ch, chá»© khÃ´ng pháº£i lÃ  phá»¥ thuá»™c nÃ³ vÃ  lá»£i dá»¥ng nÃ³.

VÃ¬ váº­y, hÃ£y cÃ³ cÃ¡i nhÃ¬n Ä‘Ãºng Ä‘áº¯n vá» AI nÃ³i chung, vÃ  á»©ng dá»¥ng AI má»™t cÃ¡ch thá»±c táº¿ vÃ  Ä‘Ãºng Ä‘áº¯n nháº¥t Ä‘á»ƒ AI trá»Ÿ thÃ nh "trá»£ lÃ­" Ä‘áº¯c lá»±c cho cuá»™c sá»‘ng cá»§a chÃºng ta.

Má»i ngÆ°á»i cÃ³ chia sáº», gÃ³p Ã½ gÃ¬ thÃ¬ cho mÃ¬nh biáº¿t nhÃ©. Cheers.

# TÃ i liá»‡u tham kháº£o:

[**Bahdanau 2015**](https://arxiv.org/pdf/1409.0473.pdf)

[**Attention is all you need**](https://papers.nips.cc/paper/2017/file/3f5ee243547dee91fbd053c1c4a845aa-Paper.pdf)

[**SÃ¡ch: Dive into Deep Learning, chÆ°Æ¡ng 10, 11**](https://d2l.ai/)

[**What Are the Types of Artificial Intelligence: Narrow, General, and Super AI Explained**](https://www.spiceworks.com/tech/artificial-intelligence/articles/types-of-ai/#:~:text=While%20narrow%20AI%20refers%20to,function%20just%20as%20humans%20do.)

[**Google: An important next step on our AI journey**](https://blog.google/technology/ai/bard-google-ai-search-updates/)

[**ChatGPT: Optimizing Language Models for Dialogue**](https://openai.com/blog/chatgpt/)', '2023-02-09T07:08:28.000000Z', '2023-02-28T04:02:06.000000Z', '2023-02-09T07:08:22.000000Z');
